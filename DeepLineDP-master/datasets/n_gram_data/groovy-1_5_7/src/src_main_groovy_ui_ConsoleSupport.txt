/*
* copyright 2003-2007 the original author or authors.
*
* licensed under the apache license, version 2.0 (the "license");
* you may not use this file except in compliance with the license.
* you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package groovy ui
import groovy lang groovyshell
import java awt color
import javax swing jtextpane
import javax swing text style
import javax swing text styleconstants
import javax swing text stylecontext
import javax swing text styleddocument
/**
* base class for console
*
* @author <a href="mailto:james@coredevelopers.net">james strachan</a>
* @version $revision$
*/
public abstract class consolesupport
style promptstyle
style commandstyle
style outputstyle
private groovyshell shell
int counter
protected void addstylestodocument jtextpane outputarea
styleddocument doc   outputarea getstyleddocument
style def   stylecontext getdefaultstylecontext   getstyle stylecontext default_style
style regular   doc addstyle    def
styleconstants setfontfamily def
promptstyle   doc addstyle    regular
styleconstants setforeground promptstyle  color blue
commandstyle   doc addstyle    regular
styleconstants setforeground commandstyle  color magenta
outputstyle   doc addstyle    regular
styleconstants setbold outputstyle  true
public style getcommandstyle
return commandstyle
public style getoutputstyle
return outputstyle
public style getpromptstyle
return promptstyle
public groovyshell getshell
if  shell    null
shell   new groovyshell
return shell
protected object evaluate string text
string name       counter
try
return getshell   evaluate text  name
catch  exception e
handleexception text  e
return null
protected abstract void handleexception string text  exception e