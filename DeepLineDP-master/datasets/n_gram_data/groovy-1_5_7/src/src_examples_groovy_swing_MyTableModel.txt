package groovy swing
import java util logging level
import java util logging logger
import javax swing table abstracttablemodel
/**
* a sample table model
*
* @author <a href="mailto:james@coredevelopers.net">james strachan</a>
* @version $revision$
*/
public class mytablemodel extends abstracttablemodel
private static final logger log   logger getlogger mytablemodel class getname
public mytablemodel
final string columnnames
final object data                new integer 5   new boolean false
new integer 3   new boolean true
new integer 2   new boolean false
new integer 20   new boolean true
new integer 4   new boolean false
public int getcolumncount
return columnnames length
public int getrowcount
return data length
public string getcolumnname int col
return columnnames
public object getvalueat int row  int col
return data
/*
* jtable uses this method to determine the default renderer/
* editor for each cell.  if we didn't implement this method,
* then the last column would contain text ("true"/"false"),
* rather than a check box.
*/
public class getcolumnclass int c
return getvalueat 0  c  getclass
/*
* don't need to implement this method unless your table's
* editable.
*/
public boolean iscelleditable int row  int col
//note that the data/cell address is constant,
//no matter where the cell appears onscreen.
if  col < 2
return false
else
return true
/*
* don't need to implement this method unless your table's
* data can change.
*/
public void setvalueat object value  int row  int col
if  log isloggable level fine
log fine
row       col       value       value getclass
if  data instanceof integer      value instanceof integer
//with jfc/swing 1.1 and jdk 1.2, we need to create
//an integer from the value; otherwise, the column
//switches to contain strings.  starting with v 1.3,
//the table automatically converts value to an integer,
//so you only need the code in the 'else' part of this
//'if' block.
//xxx: see tableeditdemo.java for a better solution!!!
try
data   new integer value tostring
firetablecellupdated row  col
catch  numberformatexception e
log log level severe
else
data   value
firetablecellupdated row  col