/*
* copyright 2003-2007 the original author or authors.
*
* licensed under the apache license, version 2.0 (the "license");
* you may not use this file except in compliance with the license.
* you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org codehaus groovy tools groovydoc
import org codehaus groovy groovydoc
import java util
public class simplegroovyclassdoc extends simplegroovyprogramelementdoc implements groovyclassdoc
private final list constructors
private final list fields
private final list methods
private string fullpathname
private string superclassname
private groovyclassdoc superclass
private list importedclassesandpackages
public simplegroovyclassdoc list importedclassesandpackages  string name  list links
super name  links
this importedclassesandpackages   importedclassesandpackages
constructors   new arraylist
fields   new arraylist
methods   new arraylist
public simplegroovyclassdoc list importedclassesandpackages  string name
this importedclassesandpackages  name  new arraylist
/**
* returns a sorted array of constructors
*/
public groovyconstructordoc constructors
collections sort constructors      todo   performance   maybe move into a sortme   method
return  groovyconstructordoc  constructors toarray new groovyconstructordoc
public boolean add groovyconstructordoc constructor
return constructors add constructor
/**
* returns a sorted array of fields
*/
public groovyfielddoc fields
collections sort fields      todo   performance   maybe move into a sortme   method
return  groovyfielddoc  fields toarray new groovyfielddoc
public boolean add groovyfielddoc field
return fields add field
/**
* returns a sorted array of methods
*/
public groovymethoddoc methods
collections sort methods      todo   performance   maybe move into a sortme   method
return  groovymethoddoc  methods toarray new groovymethoddoc
public boolean add groovymethoddoc method
return methods add method
public string getfullpathname
return fullpathname
public void setfullpathname string fullpathname
this fullpathname   fullpathname
public string getrelativerootpath
stringtokenizer tokenizer   new stringtokenizer fullpathname         todo windows??
stringbuffer sb   new stringbuffer
if  tokenizer hasmoretokens
tokenizer nexttoken       ignore the first token  as we want n 1 parent dirs
while  tokenizer hasmoretokens
tokenizer nexttoken
sb append
return sb tostring
public void setsuperclassname string classname
superclassname   classname
public groovyclassdoc superclass
return superclass
void resolve groovyrootdoc rootdoc
map visibleclasses   rootdoc getvisibleclasses importedclassesandpackages
// resolve constructor parameter types
iterator constructoritr   constructors iterator
while  constructoritr hasnext
groovyconstructordoc constructor    groovyconstructordoc  constructoritr next
// parameters
iterator paramitr   arrays aslist constructor parameters    iterator
while  paramitr hasnext
simplegroovyparameter param    simplegroovyparameter  paramitr next
string paramtypename   param typename
if  visibleclasses containskey paramtypename
param settype  groovytype  visibleclasses get paramtypename
// resolve method return types and parameter types
iterator methoditr   methods iterator
while  methoditr hasnext
groovymethoddoc method    groovymethoddoc  methoditr next
// return types
groovytype returntype   method returntype
string typename   returntype typename
if  visibleclasses containskey typename
method setreturntype  groovytype  visibleclasses get typename
// parameters
iterator paramitr   arrays aslist method parameters    iterator
while  paramitr hasnext
simplegroovyparameter param    simplegroovyparameter  paramitr next
string paramtypename   param typename
if  visibleclasses containskey paramtypename
param settype  groovytype  visibleclasses get paramtypename
//resolve type references
if  superclassname    null
superclass   rootdoc classnamed superclassname      todo   take package names into account ?
if  superclass    null
// the superclass is not in the tree being documented
superclass   new simplegroovyclassdoc null  superclassname      dummy class with name  not to be put into main tree
else
superclass   new simplegroovyclassdoc null         dummy class representing java lang object  not to be put into main tree
// methods from groovyclassdoc
public groovyconstructordoc constructors boolean filter     todo  return null
public boolean definesserializablefields      todo  return false
public groovyfielddoc enumconstants      todo  return null
public groovyfielddoc fields boolean filter     todo  return null
public groovyclassdoc findclass string classname     todo  return null
public groovyclassdoc importedclasses      todo  return null
public groovypackagedoc importedpackages      todo  return null
public groovyclassdoc innerclasses      todo  return null      not supported in groovy
public groovyclassdoc innerclasses boolean filter     todo  return null      not supported in groovy
public groovyclassdoc interfaces      todo  return null
public groovytype interfacetypes      todo  return null
public boolean isabstract      todo  return false
public boolean isexternalizable      todo  return false
public boolean isserializable      todo  return false
public groovymethoddoc methods boolean filter     todo  return null
public groovyfielddoc serializablefields      todo  return null
public groovymethoddoc serializationmethods      todo  return null
public boolean subclassof groovyclassdoc gcd     todo  return false
public groovytype superclasstype      todo  return null
//	public groovytypevariable[] typeparameters() {/*todo*/return null;} // not supported in groovy
//	public groovyparamtag[] typeparamtags() {/*todo*/return null;} // not supported in groovy
// methods from groovytype (todo: remove this horrible copy of simplegroovytype.java)
//	public groovyannotationtypedoc asannotationtypedoc() {/*todo*/return null;}
public groovyclassdoc asclassdoc      todo  return null
//	public groovyparameterizedtype asparameterizedtype() {/*todo*/return null;}
//	public groovytypevariable astypevariable() {/*todo*/return null;}
//	public groovywildcardtype aswildcardtype() {/*todo*/return null;}
public string dimension      todo  return null
public boolean isprimitive      todo  return false
public string qualifiedtypename      todo  return null
public string simpletypename      todo  return null
public string typename      todo  return null
// ----
public string fulldottedname
string fulldottedname   fullpathname replaceall
return fulldottedname