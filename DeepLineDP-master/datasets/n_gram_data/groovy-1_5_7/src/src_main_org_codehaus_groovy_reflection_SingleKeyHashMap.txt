/*
* copyright 2003-2007 the original author or authors.
*
* licensed under the apache license, version 2.0 (the "license");
* you may not use this file except in compliance with the license.
* you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org codehaus groovy reflection
public class singlekeyhashmap extends complexkeyhashmap
public static class entry extends complexkeyhashmap entry
public object key
public object getkey
return key
public singlekeyhashmap
super
public singlekeyhashmap  boolean b
super  false
public boolean containskey string name
return get name     null
public void put object key  object value
getorput key  value   value
public final object get object key
int h   hash  key hashcode
complexkeyhashmap entry e   table
for    e    null  e   e next
if  e hash    h      entry  e  key equals key
return   entry e  value
return null
public entry getorput object key
int h   hash  key hashcode
final complexkeyhashmap entry t   table
final int index   h    t length   1
complexkeyhashmap entry e   t
for    e    null  e   e next
if  e hash    h      entry  e  key equals key
return  entry  e
entry entry   new entry
entry next   t
entry hash   h
entry key   key
t   entry
if     size    threshold
resize 2  t length
return entry
public entry getorputentry entry element
object key   element key
int h   element hash
final complexkeyhashmap entry t   table
final int index   h    t length   1
complexkeyhashmap entry e   t
for    e    null  e   e next
if  e hash    h      entry  e  key equals key
return  entry  e
entry entry   new entry
entry next   t
entry hash   h
entry key   key
t   entry
if     size    threshold
resize 2  t length
return entry
public entry putcopyofunexisting entry ee
int h   ee hash
final complexkeyhashmap entry t   table
final int index   h    t length   1
entry entry   new entry
entry next   t
entry hash   h
entry key   ee key
entry value   ee value
t   entry
if     size    threshold
resize 2  t length
return entry
public final complexkeyhashmap entry remove object key
int h   hash  key hashcode
int index   h    table length  1
for  complexkeyhashmap entry e   table   prev   null  e    null  prev   e  e   e next
if  e hash    h      entry  e  key equals key
if  prev    null
table    e next
else
prev next   e next
size
e next   null
return e
return null
public static singlekeyhashmap copy  singlekeyhashmap dst  singlekeyhashmap src  copier copier
dst threshold   src threshold
dst size   src size
final int len   src table length
final complexkeyhashmap entry t   new complexkeyhashmap entry  tt   src table
for  int i   0  i    len    i
for  entry e    entry  tt  e    null  e    entry  e next
entry ee   new entry
ee hash   e hash
ee key   e key
ee value   copier copy e value
ee next   t
t    ee
dst table   t
return dst
public static interface copier
object copy  object value