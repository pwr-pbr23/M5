/*
* copyright 2003-2007 the original author or authors.
*
* licensed under the apache license, version 2.0 (the "license");
* you may not use this file except in compliance with the license.
* you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org codehaus groovy antlr java
import org codehaus groovy antlr groovysourceast
import org codehaus groovy antlr parser groovytokentypes
import org codehaus groovy antlr treewalker visitoradapter
public class java2groovyconverter extends visitoradapter
private string tokennames
private int typemapping
public java2groovyconverter string tokennames
this tokennames   tokennames
typemapping   new int     magic number  much greater than current number of java tokens
typemapping   groovytokentypes abstract
typemapping   groovytokentypes eof
typemapping   groovytokentypes null_tree_lookahead
typemapping   groovytokentypes block
typemapping   groovytokentypes modifiers
typemapping   groovytokentypes objblock
typemapping   groovytokentypes slist
typemapping   groovytokentypes method_def
typemapping   groovytokentypes variable_def
typemapping   groovytokentypes instance_init
typemapping   groovytokentypes static_init
typemapping   groovytokentypes type
typemapping   groovytokentypes class_def
typemapping   groovytokentypes interface_def
typemapping   groovytokentypes package_def
typemapping   groovytokentypes array_declarator
typemapping   groovytokentypes extends_clause
typemapping   groovytokentypes implements_clause
typemapping   groovytokentypes parameters
typemapping   groovytokentypes parameter_def
typemapping   groovytokentypes labeled_stat
typemapping   groovytokentypes typecast
typemapping   groovytokentypes index_op
typemapping   groovytokentypes post_inc
typemapping   groovytokentypes post_dec
typemapping   groovytokentypes method_call
typemapping   groovytokentypes expr
typemapping   groovytokentypes list_constructor     this assumes list_constructor set by prejava2groovyconvertor
typemapping   groovytokentypes import
typemapping   groovytokentypes unary_minus
typemapping   groovytokentypes unary_plus
typemapping   groovytokentypes case_group
typemapping   groovytokentypes elist
typemapping   groovytokentypes for_init
typemapping   groovytokentypes for_condition
typemapping   groovytokentypes for_iterator
typemapping   groovytokentypes empty_stat
typemapping   groovytokentypes final
typemapping   groovytokentypes abstract
typemapping   groovytokentypes strictfp
typemapping   groovytokentypes super_ctor_call
typemapping   groovytokentypes ctor_call
typemapping   groovytokentypes variable_parameter_def
typemapping   groovytokentypes static_import
typemapping   groovytokentypes enum_def
typemapping   groovytokentypes enum_constant_def
typemapping   groovytokentypes for_each_clause
typemapping   groovytokentypes annotation_def
typemapping   groovytokentypes annotations
typemapping   groovytokentypes annotation
typemapping   groovytokentypes annotation_member_value_pair
typemapping   groovytokentypes annotation_field_def
typemapping   groovytokentypes annotation_array_init
typemapping   groovytokentypes type_arguments
typemapping   groovytokentypes type_argument
typemapping   groovytokentypes type_parameters
typemapping   groovytokentypes type_parameter
typemapping   groovytokentypes wildcard_type
typemapping   groovytokentypes type_upper_bounds
typemapping   groovytokentypes type_lower_bounds
typemapping   groovytokentypes literal_package
typemapping   groovytokentypes semi
typemapping   groovytokentypes literal_import
typemapping   groovytokentypes literal_static
typemapping   groovytokentypes lbrack
typemapping   groovytokentypes rbrack
typemapping   groovytokentypes ident
typemapping   groovytokentypes dot
typemapping   groovytokentypes question
typemapping   groovytokentypes literal_extends
typemapping   groovytokentypes literal_super
typemapping   groovytokentypes lt
typemapping   groovytokentypes comma
typemapping   groovytokentypes gt
typemapping   groovytokentypes sr
typemapping   groovytokentypes bsr
typemapping   groovytokentypes literal_void
typemapping   groovytokentypes literal_boolean
typemapping   groovytokentypes literal_byte
typemapping   groovytokentypes literal_char
typemapping   groovytokentypes literal_short
typemapping   groovytokentypes literal_int
typemapping   groovytokentypes literal_float
typemapping   groovytokentypes literal_long
typemapping   groovytokentypes literal_double
typemapping   groovytokentypes star
typemapping   groovytokentypes literal_private
typemapping   groovytokentypes literal_public
typemapping   groovytokentypes literal_protected
typemapping   groovytokentypes literal_transient
typemapping   groovytokentypes literal_native
typemapping   groovytokentypes literal_threadsafe
typemapping   groovytokentypes literal_synchronized
typemapping   groovytokentypes literal_volatile
typemapping   groovytokentypes at
typemapping   groovytokentypes lparen
typemapping   groovytokentypes rparen
typemapping   groovytokentypes assign
typemapping   groovytokentypes lcurly
typemapping   groovytokentypes rcurly
typemapping   groovytokentypes literal_class
typemapping   groovytokentypes literal_interface
typemapping   groovytokentypes literal_enum
typemapping   groovytokentypes band
typemapping   groovytokentypes literal_default
typemapping   groovytokentypes literal_implements
typemapping   groovytokentypes literal_this
typemapping   groovytokentypes literal_throws
typemapping   groovytokentypes triple_dot
typemapping   groovytokentypes colon
typemapping   groovytokentypes literal_if
typemapping   groovytokentypes literal_else
typemapping   groovytokentypes literal_while
typemapping   groovytokentypes literal_while     warning   do   while    ignored
typemapping   groovytokentypes literal_break
typemapping   groovytokentypes literal_continue
typemapping   groovytokentypes literal_return
typemapping   groovytokentypes literal_switch
typemapping   groovytokentypes literal_throw
typemapping   groovytokentypes literal_assert
typemapping   groovytokentypes literal_for
typemapping   groovytokentypes literal_case
typemapping   groovytokentypes literal_try
typemapping   groovytokentypes literal_finally
typemapping   groovytokentypes literal_catch
typemapping   groovytokentypes plus_assign
typemapping   groovytokentypes minus_assign
typemapping   groovytokentypes star_assign
typemapping   groovytokentypes div_assign
typemapping   groovytokentypes mod_assign
typemapping   groovytokentypes sr_assign
typemapping   groovytokentypes bsr_assign
typemapping   groovytokentypes sl_assign
typemapping   groovytokentypes band_assign
typemapping   groovytokentypes bxor_assign
typemapping   groovytokentypes bor_assign
typemapping   groovytokentypes lor
typemapping   groovytokentypes land
typemapping   groovytokentypes bor
typemapping   groovytokentypes bxor
typemapping   groovytokentypes not_equal
typemapping   groovytokentypes equal
typemapping   groovytokentypes le
typemapping   groovytokentypes ge
typemapping   groovytokentypes literal_instanceof
typemapping   groovytokentypes sl
typemapping   groovytokentypes plus
typemapping   groovytokentypes minus
typemapping   groovytokentypes div
typemapping   groovytokentypes mod
typemapping   groovytokentypes inc
typemapping   groovytokentypes dec
typemapping   groovytokentypes bnot
typemapping   groovytokentypes lnot
typemapping   groovytokentypes literal_true
typemapping   groovytokentypes literal_false
typemapping   groovytokentypes literal_null
typemapping   groovytokentypes literal_new
typemapping   groovytokentypes num_int
typemapping   groovytokentypes string_literal     warning  treating java chars as   in groovy
typemapping   groovytokentypes string_literal
typemapping   groovytokentypes num_float
typemapping   groovytokentypes num_long
typemapping   groovytokentypes num_double
typemapping   groovytokentypes ws
typemapping   groovytokentypes sl_comment
typemapping   groovytokentypes ml_comment
typemapping   groovytokentypes esc
typemapping   groovytokentypes hex_digit
typemapping   groovytokentypes vocab
typemapping   groovytokentypes exponent
typemapping   groovytokentypes float_suffix
public void visitdefault groovysourceast t int visit
if  visit    opening_visit
// only want to do this once per node...
t settype typemapping
// ----
// need to remove double quotes in string literals
// as groovy ast doesn't expect to have them
if  t gettype      groovytokentypes string_literal
string text   t gettext
if  issinglequoted text
t settext text substring 1  text length     1       chop off the single quotes at start and end
else if  isdoublequoted text
t settext text substring 1  text length     1       chop off the double quotes at start and end
private boolean issinglequoted string text
return text    null    text length   > 2
text charat 0
text charat text length     1
private boolean isdoublequoted string text
return text    null    text length   > 2
text charat 0
text charat text length     1