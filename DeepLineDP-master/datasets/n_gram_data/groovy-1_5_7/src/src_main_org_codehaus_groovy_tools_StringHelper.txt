package org codehaus groovy tools
import java util linkedlist
import java util list
public class stringhelper
private static final char
space      single_quote      double_quote
/**
* this method tokenizes a string by space characters,
* but ignores spaces in quoted parts,that are parts in
* '' or "". the method does allows the usage of "" in ''
* and '' in "". the space character between tokens is not
* returned.
*
* @param s the string to tokenize
* @return the tokens
*/
public static string tokenizeunquoted string s
list tokens   new linkedlist
int first   0
while  first < s length
first   skipwhitespace s  first
int last   scantoken s  first
if  first < last
tokens add s substring first  last
first   last
return  string tokens toarray new string
private static int scantoken string s  int pos0
int pos   pos0
while  pos < s length
char c   s charat pos
if  space  c  break
pos
if  single_quote    c
pos   scanquoted s  pos  single_quote
else if  double_quote    c
pos   scanquoted s  pos  double_quote
return pos
private static int scanquoted string s  int pos0  char quote
int pos   pos0
while  pos < s length
char c   s charat pos
if  quote    c  break
return pos
private static int skipwhitespace string s  int pos0
int pos   pos0
while  pos < s length
char c   s charat pos
if  space  c  break
pos
return pos