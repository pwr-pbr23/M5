/*
* copyright 2003-2007 the original author or authors.
*
* licensed under the apache license, version 2.0 (the "license");
* you may not use this file except in compliance with the license.
* you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org codehaus groovy classgen
import org codehaus groovy ast classhelper
import org codehaus groovy ast classnode
import org objectweb asm label
/**
* represents compile time variable metadata while compiling a method.
*
* @author <a href="mailto:james@coredevelopers.net">james strachan</a>
* @author <a href="mailto:blackdrag@gmx.org">jochen theodorou</a>
* @version $revision$
*/
public class variable
public static final variable this_variable   new variable
public static final variable super_variable   new variable
private int index
private classnode type
private string name
private boolean holder
private boolean property
// br for setting on the localvariabletable in the class file
// these fields should probably go to jvm operand class
private label startlabel   null
private label endlabel   null
private boolean dynamictyped
private variable
dynamictyped   true
index 0
holder false
property false
public variable int index  classnode type  string name
this index   index
this type   type
this name   name
public string getname
return name
public classnode gettype
return type
public string gettypename
return type getname
/**
* @return the stack index for this variable
*/
public int getindex
return index
/**
* @return is this local variable shared in other scopes (and so must use a valueholder)
*/
public boolean isholder
return holder
public void setholder boolean holder
this holder   holder
public boolean isproperty
return property
public void setproperty boolean property
this property   property
public label getstartlabel
return startlabel
public void setstartlabel label startlabel
this startlabel   startlabel
public label getendlabel
return endlabel
public void setendlabel label endlabel
this endlabel   endlabel
public string tostring
// todo auto-generated method stub
return super tostring         type       name       index
public void settype classnode type
this type   type
dynamictyped    type  classhelper dynamic_type
public void setdynamictyped boolean b
dynamictyped   b
public boolean isdynamictyped
return dynamictyped