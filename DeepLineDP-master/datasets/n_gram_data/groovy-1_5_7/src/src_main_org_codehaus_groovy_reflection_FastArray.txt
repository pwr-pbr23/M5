/*
* copyright 2003-2007 the original author or authors.
*
* licensed under the apache license, version 2.0 (the "license");
* you may not use this file except in compliance with the license.
* you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org codehaus groovy reflection
import java util abstractlist
import java util collection
import java util list
public class fastarray implements cloneable
private object data
public int size
public static final fastarray empty_list   new fastarray 0
public fastarray int initialcapacity
data   new object
public fastarray
this  8
public fastarray collection c
this  c toarray
public fastarray object objects
data   objects
size   objects length
public object get int index
return data
public void add object o
if  size    data length
object  newdata   new object
system arraycopy data  0  newdata  0  size
data   newdata
data    o
public void set int index  object o
data    o
public int size
return size
public void clear
data   new object
size   0
public void addall fastarray newdata
addall newdata data  newdata size
public void addall object  newdata  int size
if  size    0
return
final int newsize   this size   size
if  newsize > data length
object nd    new object
system arraycopy data  0  nd  0  this size
data   nd
system arraycopy newdata  0  data  this size  size
this size   newsize
public fastarray copy
final object newdata   new object
system arraycopy data  0  newdata  0  size
return new fastarray newdata
public boolean isempty
return size    0
public void addall list coll
final object newdata   coll toarray
addall newdata  newdata length
public void remove int index
int nummoved   size   index   1
if  nummoved > 0
system arraycopy data  index 1  data  index  nummoved
data   null
public list tolist
return new abstractlist
public object get int index
return fastarray this get index
public int size
return size
public object getarray
return data
public string tostring
if  size      0  return
return tolist   tostring