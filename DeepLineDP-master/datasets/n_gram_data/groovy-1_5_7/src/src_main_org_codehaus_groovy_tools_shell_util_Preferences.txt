/*
* copyright 2003-2007 the original author or authors.
*
* licensed under the apache license, version 2.0 (the "license");
* you may not use this file except in compliance with the license.
* you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org codehaus groovy tools shell util
import java util prefs backingstoreexception
import java util prefs preferencechangelistener
import java util prefs preferencechangeevent
import org codehaus groovy tools shell io
/**
* container for shell preferences.
*
* @version $id$
* @author <a href="mailto:jason@planet57.com">jason dillon</a>
*/
public class preferences
private static final java util prefs preferences store   java util prefs preferences userroot   node
public static io verbosity verbosity
static
string tmp   store get    io verbosity info name
try
verbosity   io verbosity forname tmp
catch  illegalargumentexception e
verbosity   io verbosity info
store remove
addchangelistener new preferencechangelistener
public void preferencechange final preferencechangeevent event
if  event getkey   equals
string name   event getnewvalue
if  name    null
name   io verbosity info name
try
verbosity   io verbosity forname name
catch  exception e
event getnode   put event getkey    verbosity name
public static boolean showlastresult   store getboolean    true
public static boolean sanitizestacktrace   store getboolean    true
public static string keys   throws backingstoreexception
return store keys
public static string get final string name  final string defaultvalue
return store get name  defaultvalue
public static string get final string name
return get name  null
public static void put final string name  final string value
store put name  value
public static void clear   throws backingstoreexception
store clear
public static void addchangelistener final preferencechangelistener listener
store addpreferencechangelistener listener