/*
* copyright 2003-2007 the original author or authors.
*
* licensed under the apache license, version 2.0 (the "license");
* you may not use this file except in compliance with the license.
* you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org codehaus groovy tools groovydoc
import java util arrays
import java util iterator
import org codehaus groovy groovydoc groovyclassdoc
import org codehaus groovy groovydoc groovypackagedoc
import org codehaus groovy groovydoc groovyrootdoc
/*
* todo
*  comma at the end of method parameters
*  static modifier
*  order methods alphabetically (implement compareto enough?)
*  provide links to other html files (e.g. return type of a method)
*/
public class groovydocwriter
private groovydoctool tool
private outputtool output
private groovydoctemplateengine templateengine
private static final string fs
public groovydocwriter groovydoctool tool  outputtool output  groovydoctemplateengine templateengine
this tool   tool
this output   output
this templateengine   templateengine
public void writeclasses groovyrootdoc rootdoc  string destdir  throws exception
iterator classdocs   arrays aslist rootdoc classes    iterator
while  classdocs hasnext
groovyclassdoc classdoc    groovyclassdoc  classdocs next
writeclasstooutput classdoc  destdir
public void writeroot groovyrootdoc rootdoc  string destdir  throws exception
output makeoutputarea destdir
writerootdoctooutput rootdoc  destdir
public void writeclasstooutput groovyclassdoc classdoc  string destdir  throws exception
string destfilename   destdir   fs   classdoc getfullpathname
system out println     destfilename
string renderedsrc   templateengine applyclasstemplates classdoc     todo
output writetooutput destfilename  renderedsrc
public void writepackages groovyrootdoc rootdoc  string destdir  throws exception
iterator packagedocs   arrays aslist rootdoc specifiedpackages    iterator
while  packagedocs hasnext
groovypackagedoc packagedoc    groovypackagedoc  packagedocs next
output makeoutputarea destdir   fs   packagedoc name
writepackagetooutput packagedoc  destdir
public void writepackagetooutput groovypackagedoc packagedoc  string destdir  throws exception
iterator templates   templateengine packagetemplatesiterator
while  templates hasnext
string template    string  templates next
string renderedsrc   templateengine applypackagetemplate template  packagedoc      todo
string destfilename   destdir   fs   packagedoc name     fs   tool getfile template
system out println     destfilename
output writetooutput destfilename  renderedsrc
public void writerootdoctooutput groovyrootdoc rootdoc  string destdir  throws exception
iterator templates   templateengine doctemplatesiterator
while  templates hasnext
string template    string  templates next
string renderedsrc   templateengine applyrootdoctemplate template  rootdoc      todo
string destfilename   destdir   fs   tool getfile template
system out println     destfilename
output writetooutput destfilename  renderedsrc