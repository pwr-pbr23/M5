/**
* licensed to the apache software foundation (asf) under one
* or more contributor license agreements.  see the notice file
* distributed with this work for additional information
* regarding copyright ownership.  the asf licenses this file
* to you under the apache license, version 2.0 (the
* "license"); you may not use this file except in compliance
* with the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache hadoop hive ql metadata
/**
* a sample defines a subset of data based on sampling on a given dimension.
*
**/
public class sample
protected int samplenum
protected int samplefraction
protected dimension sampledimension
protected int modulonum
@suppresswarnings
public sample int num  int fraction  dimension d  throws hiveexception
if   num <  0      num > fraction
throw new hiveexception     num       fraction
samplenum   num
modulonum   samplenum   1
samplefraction   fraction
sampledimension   d
/**
* given an arbitrary object, determine if it falls within this sample.
*/
public boolean insample object o
return    sampledimension hashcode o    integer max_value  % samplefraction     modulonum
@override
public boolean equals object o
if  this    o
return true
if  o    null
return false
if  o instanceof sample
sample s    sample  o
return   samplenum    s samplenum
samplefraction    s samplefraction     sampledimension
equals s sampledimension
return  false
public int getsamplenum
return samplenum
public int getsamplefraction
return samplefraction
public dimension getsampledimension
return sampledimension
@suppresswarnings
@override
public string tostring
return samplenum       samplefraction       sampledimension
@override
public int hashcode
final int prime   31
int result   1
result   prime   result
sampledimension    null  ? 0   sampledimension hashcode
result   prime   result   samplefraction
result   prime   result   samplenum
return result