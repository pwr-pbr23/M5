/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq maven
import java util arraylist
import java util hashset
import java util iterator
import java util list
import java util properties
import java util set
import org apache activemq tool jmsproducersystem
import org apache maven plugin abstractmojo
import org apache maven plugin mojoexecutionexception
/**
* goal which touches a timestamp file.
*
* @goal producer
* @phase process
*/
public class producermojo extends abstractmojo
private string validprefix
public void execute   throws mojoexecutionexception
jmsproducersystem main createargument
protected string createargument
list args   new arraylist
properties sysprops   system getproperties
set keys   new hashset sysprops keyset
for  iterator i   keys iterator    i hasnext
string key    string i next
if  isrecognizedproperty key
args add key       sysprops remove key
return  string args toarray new string
protected boolean isrecognizedproperty string key
for  int j   0  j < validprefix length  j
if  key startswith validprefix
return true
return false