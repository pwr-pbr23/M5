/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq transport nio
import java io ioexception
import java io inputstream
import java nio bufferunderflowexception
import java nio bytebuffer
/**
* an optimized buffered input stream for tcp
*
* @version $revision: 1.1.1.1 $
*/
public class nioinputstream extends inputstream
protected int count
protected int position
private final bytebuffer in
public nioinputstream bytebuffer in
this in   in
public int read   throws ioexception
try
int rc   in get     0xff
return rc
catch  bufferunderflowexception e
return  1
public int read byte b  int off  int len  throws ioexception
if  in hasremaining
int rc   math min len  in remaining
in get b  off  rc
return rc
else
return len    0 ? 0    1
public long skip long n  throws ioexception
int rc   math min  int n  in remaining
in position in position     rc
return rc
public int available   throws ioexception
return in remaining
public boolean marksupported
return false
public void close   throws ioexception