/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq store amq
import org apache activemq command message
import org apache activemq command messageid
import org apache activemq store messagerecoverylistener
import org apache activemq store messagestore
import org apache commons logging log
import org apache commons logging logfactory
final class recoverylisteneradapter implements messagerecoverylistener
private static final log log   logfactory getlog recoverylisteneradapter class
private final messagestore store
private final messagerecoverylistener listener
private int count
private messageid lastrecovered
recoverylisteneradapter messagestore store  messagerecoverylistener listener
this store   store
this listener   listener
public boolean hasspace
return listener hasspace
public boolean recovermessage message message  throws exception
if  listener hasspace
listener recovermessage message
lastrecovered   message getmessageid
count
return true
return false
public boolean recovermessagereference messageid ref  throws exception
message message   this store getmessage ref
if  message    null
return recovermessage message
else
log error     ref
return false
messageid getlastrecoveredmessageid
return lastrecovered
int size
return count
void reset
count   0