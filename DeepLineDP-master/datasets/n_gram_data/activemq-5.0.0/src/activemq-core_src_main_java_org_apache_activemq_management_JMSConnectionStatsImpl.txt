/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq management
import java util list
import org apache activemq activemqsession
import org apache activemq util indentprinter
/**
* statistics for a jms connection
*
* @version $revision: 1.2 $
*/
public class jmsconnectionstatsimpl extends statsimpl
private list sessions
private boolean transactional
public jmsconnectionstatsimpl list sessions  boolean transactional
this sessions   sessions
this transactional   transactional
public jmssessionstatsimpl getsessions
// lets make a snapshot before we process them
object sessionarray   sessions toarray
int size   sessionarray length
jmssessionstatsimpl answer   new jmssessionstatsimpl
for  int i   0  i < size  i
activemqsession session    activemqsession sessionarray
answer   session getsessionstats
return answer
public void reset
super reset
jmssessionstatsimpl stats   getsessions
int size   stats length
for  int i   0  i < size  i
stats reset
/**
* @param enabled the enabled to set
*/
public void setenabled boolean enabled
super setenabled enabled
jmssessionstatsimpl stats   getsessions
int size   stats length
for  int i   0  i < size  i
stats setenabled enabled
public boolean istransactional
return transactional
public string tostring
stringbuffer buffer   new stringbuffer
jmssessionstatsimpl array   getsessions
for  int i   0  i < array length  i
if  i > 0
buffer append
buffer append integer tostring i
buffer append
buffer append array
buffer append
return buffer tostring
public void dump indentprinter out
out printindent
out println
out incrementindent
jmssessionstatsimpl array   getsessions
for  int i   0  i < array length  i
jmssessionstatsimpl sessionstat    jmssessionstatsimpl array
out printindent
out println
out incrementindent
sessionstat dump out
out decrementindent
out printindent
out println
out decrementindent
out printindent
out println
out flush