/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq openwire
import org apache activemq command wireformatinfo
import org apache activemq wireformat wireformat
import org apache activemq wireformat wireformatfactory
/**
* @version $revision$
*/
public class openwireformatfactory implements wireformatfactory
//
// the default values here are what the wire format changes to after a
// default negotiation.
//
private int version   openwireformat default_version
private boolean stacktraceenabled   true
private boolean tcpnodelayenabled   true
private boolean cacheenabled   true
private boolean tightencodingenabled   true
private boolean sizeprefixdisabled
private long maxinactivityduration   30   1000
private int cachesize   1024
public wireformat createwireformat
wireformatinfo info   new wireformatinfo
info setversion version
try
info setstacktraceenabled stacktraceenabled
info setcacheenabled cacheenabled
info settcpnodelayenabled tcpnodelayenabled
info settightencodingenabled tightencodingenabled
info setsizeprefixdisabled sizeprefixdisabled
info semaxinactivityduration maxinactivityduration
info setcachesize cachesize
catch  exception e
illegalstateexception ise   new illegalstateexception
ise initcause e
throw ise
openwireformat f   new openwireformat
f setpreferedwireformatinfo info
return f
public boolean isstacktraceenabled
return stacktraceenabled
public void setstacktraceenabled boolean stacktraceenabled
this stacktraceenabled   stacktraceenabled
public boolean istcpnodelayenabled
return tcpnodelayenabled
public void settcpnodelayenabled boolean tcpnodelayenabled
this tcpnodelayenabled   tcpnodelayenabled
public int getversion
return version
public void setversion int version
this version   version
public boolean iscacheenabled
return cacheenabled
public void setcacheenabled boolean cacheenabled
this cacheenabled   cacheenabled
public boolean istightencodingenabled
return tightencodingenabled
public void settightencodingenabled boolean tightencodingenabled
this tightencodingenabled   tightencodingenabled
public boolean issizeprefixdisabled
return sizeprefixdisabled
public void setsizeprefixdisabled boolean sizeprefixdisabled
this sizeprefixdisabled   sizeprefixdisabled
public long getmaxinactivityduration
return maxinactivityduration
public void setmaxinactivityduration long maxinactivityduration
this maxinactivityduration   maxinactivityduration
public int getcachesize
return cachesize
public void setcachesize int cachesize
this cachesize   cachesize