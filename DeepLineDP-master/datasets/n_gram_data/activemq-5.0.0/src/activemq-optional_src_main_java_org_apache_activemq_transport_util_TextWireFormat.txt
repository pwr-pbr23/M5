/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq transport util
import java io datainput
import java io datainputstream
import java io dataoutput
import java io dataoutputstream
import java io ioexception
import java io reader
import org apache activemq util bytearrayinputstream
import org apache activemq util bytearrayoutputstream
import org apache activemq util bytesequence
import org apache activemq wireformat wireformat
/**
* adds the extra methods available to text based wire format implementations
*
* @version $revision: 1.1 $
*/
public abstract class textwireformat implements wireformat
public abstract object unmarshaltext string text
public abstract object unmarshaltext reader reader
public abstract string marshaltext object command
public void marshal object command  dataoutput out  throws ioexception
out writeutf marshaltext command
public object unmarshal datainput in  throws ioexception
string text   in readutf
return unmarshaltext text
public bytesequence marshal object command  throws ioexception
bytearrayoutputstream baos   new bytearrayoutputstream
dataoutputstream dos   new dataoutputstream baos
marshal command  dos
dos close
return baos tobytesequence
public object unmarshal bytesequence packet  throws ioexception
bytearrayinputstream stream   new bytearrayinputstream packet
datainputstream dis   new datainputstream stream
return unmarshal dis