/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq console formatter
import java io outputstream
import java io printstream
import java util collection
import java util iterator
import java util map
import javax jms message
import javax management attribute
import javax management attributelist
import javax management objectinstance
import javax management objectname
public class commandshelloutputformatter implements outputformatter
private outputstream outputstream
private printstream out
public commandshelloutputformatter outputstream out
this outputstream   out
if  out instanceof printstream
this out    printstream out
else
this out   new printstream out
/**
* retrieve the output stream being used by the formatter
*
* @return
*/
public outputstream getoutputstream
return outputstream
/**
* print an objectinstance format of an mbean
*
* @param mbean - mbean to print
*/
public void printmbean objectinstance mbean
printmbean mbean getobjectname
/**
* print an objectname format of an mbean
*
* @param mbean - mbean to print
*/
public void printmbean objectname mbean
printmbean mbean getkeypropertylist
/**
* print an attributelist format of an mbean
*
* @param mbean - mbean to print
*/
public void printmbean attributelist mbean
for  iterator i   mbean iterator    i hasnext
attribute attrib    attribute i next
if  attrib getvalue   instanceof objectname
printmbean  objectname attrib getvalue
else if  attrib getvalue   instanceof objectinstance
printmbean  objectinstance attrib getvalue
else
out println attrib getname         attrib getvalue   tostring
out println
/**
* print a map format of an mbean
*
* @param mbean - mbean to print
*/
public void printmbean map mbean
for  iterator i   mbean keyset   iterator    i hasnext
string key    string i next
string val   mbean get key  tostring
out println key       val
out println
/**
* print a collection of mbean
*
* @param mbean - collection of mbeans
*/
public void printmbean collection mbean
for  iterator i   mbean iterator    i hasnext
object obj   i next
if  obj instanceof objectinstance
printmbean  objectinstance obj
else if  obj instanceof objectname
printmbean  objectname obj
else if  obj instanceof map
printmbean  map obj
else if  obj instanceof attributelist
printmbean  attributelist obj
else if  obj instanceof collection
printmessage  collection obj
else
printexception new unsupportedoperationexception     obj getclass   getname
/**
* print a map format of a jms message
*
* @param msg
*/
public void printmessage map msg
for  iterator i   msg keyset   iterator    i hasnext
string key    string i next
string val   msg get key  tostring
out println key       val
out println
/**
* print a message format of a jms message
*
* @param msg - jms message to print
*/
public void printmessage message msg
// todo
/**
* print a collection of jms messages
*
* @param msg - collection of jms messages
*/
public void printmessage collection msg
for  iterator i   msg iterator    i hasnext
object obj   i next
if  obj instanceof message
printmessage  message obj
else if  obj instanceof map
printmessage  map obj
else if  obj instanceof collection
printmessage  collection obj
else
printexception new unsupportedoperationexception     obj getclass   getname
/**
* print help messages
*
* @param helpmsgs - help messages to print
*/
public void printhelp string helpmsgs
for  int i   0  i < helpmsgs length  i
out println helpmsgs
out println
/**
* print an information message
*
* @param info - information message to print
*/
public void printinfo string info
out println     info
/**
* print an exception message
*
* @param e - exception to print
*/
public void printexception exception e
out println     e
e printstacktrace out
/**
* print a version information
*
* @param version - version info to print
*/
public void printversion string version
out println
out println     version
out println
out println
/**
* print a generic key value mapping
*
* @param map to print
*/
public void print map map
for  iterator i   map keyset   iterator    i hasnext
string key    string i next
string val   map get key  tostring
out println key       val
out println
/**
* print a generic array of strings
*
* @param strings - string array to print
*/
public void print string strings
for  int i   0  i < strings length  i
out println strings
out println
/**
* print a collection of objects
*
* @param collection - collection to print
*/
public void print collection collection
for  iterator i   collection iterator    i hasnext
out println i next   tostring
out println
/**
* print a java string
*
* @param string - string to print
*/
public void print string string
out println string