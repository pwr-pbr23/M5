/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq util
import java io ioexception
import java io inputstream
/**
* very similar to the java.io.bytearrayinputstream but this version is not
* thread safe.
*/
public class bytearrayinputstream extends inputstream
byte buffer
int limit
int pos
int mark
public bytearrayinputstream byte data
this data  0  data length
public bytearrayinputstream bytesequence sequence
this sequence getdata    sequence getoffset    sequence getlength
public bytearrayinputstream byte data  int offset  int size
this buffer   data
this mark   offset
this pos   offset
this limit   offset   size
public int read   throws ioexception
if  pos < limit
return buffer   0xff
else
return  1
public int read byte b  throws ioexception
return read b  0  b length
public int read byte b  int off  int len
if  pos < limit
len   math min len  limit   pos
if  len > 0
system arraycopy buffer  pos  b  off  len
pos    len
return len
else
return  1
public long skip long len  throws ioexception
if  pos < limit
len   math min len  limit   pos
if  len > 0
pos    len
return len
else
return  1
public int available
return limit   pos
public boolean marksupported
return true
public void mark int markpos
mark   pos
public void reset
pos   mark