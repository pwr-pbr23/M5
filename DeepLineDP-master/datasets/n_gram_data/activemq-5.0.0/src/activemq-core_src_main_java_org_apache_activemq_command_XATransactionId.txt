/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq command
import java util arrays
import javax transaction xa xid
import org apache activemq util hexsupport
/**
* @openwire:marshaller code="112"
* @version $revision: 1.6 $
*/
public class xatransactionid extends transactionid implements xid  comparable
public static final byte data_structure_type   commandtypes activemq_xa_transaction_id
private int formatid
private byte branchqualifier
private byte globaltransactionid
private transient int hash
private transient string transactionkey
public xatransactionid
public xatransactionid xid xid
this formatid   xid getformatid
this globaltransactionid   xid getglobaltransactionid
this branchqualifier   xid getbranchqualifier
public byte getdatastructuretype
return data_structure_type
public synchronized string gettransactionkey
if  transactionkey    null
transactionkey       formatid       hexsupport tohexfrombytes globaltransactionid
hexsupport tohexfrombytes branchqualifier
return transactionkey
public string tostring
return gettransactionkey
public boolean isxatransaction
return true
public boolean islocaltransaction
return false
/**
* @openwire:property version=1
*/
public int getformatid
return formatid
/**
* @openwire:property version=1
*/
public byte getglobaltransactionid
return globaltransactionid
/**
* @openwire:property version=1
*/
public byte getbranchqualifier
return branchqualifier
public void setbranchqualifier byte branchqualifier
this branchqualifier   branchqualifier
this hash   0
public void setformatid int formatid
this formatid   formatid
this hash   0
public void setglobaltransactionid byte globaltransactionid
this globaltransactionid   globaltransactionid
this hash   0
public int hashcode
if  hash    0
hash   formatid
hash   hash globaltransactionid  hash
hash   hash branchqualifier  hash
if  hash    0
hash   0xaceace
return hash
private static int hash byte bytes  int hash
int size   bytes length
for  int i   0  i < size  i
hash ^  bytes <<   i % 4    8
return hash
public boolean equals object o
if  o    null    o getclass      xatransactionid class
return false
xatransactionid xid    xatransactionid o
return xid formatid    formatid    arrays equals xid globaltransactionid  globaltransactionid
arrays equals xid branchqualifier  branchqualifier
public int compareto object o
if  o    null    o getclass      xatransactionid class
return  1
xatransactionid xid    xatransactionid o
return gettransactionkey   compareto xid gettransactionkey