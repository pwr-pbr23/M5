/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq axis
import java util hashmap
import javax jms connectionfactory
import javax jms queueconnectionfactory
import javax jms topicconnectionfactory
import org apache activemq activemqconnectionfactory
import org apache axis components jms beanvendoradapter
import org apache axis transport jms jmsurlhelper
/**
* an adapter for using activemq inside <a
* href="http://ws.apache.org/axis/">apache axis</a>
*
* @version $revision$
*/
public class activemqvendoradapter extends beanvendoradapter
/**
* the url to connect to the broker
*/
public static final string broker_url
/**
* specifies the default user name
*/
public static final string default_username
/**
* specifies the default password
*/
public static final string default_password
protected static final string qcf_class   activemqconnectionfactory class getname
protected static final string tcf_class   qcf_class
public queueconnectionfactory getqueueconnectionfactory hashmap properties  throws exception
properties    hashmap properties clone
properties put connection_factory_class  qcf_class
return super getqueueconnectionfactory properties
public topicconnectionfactory gettopicconnectionfactory hashmap properties  throws exception
properties    hashmap properties clone
properties put connection_factory_class  tcf_class
return super gettopicconnectionfactory properties
public void addvendorconnectionfactoryproperties jmsurlhelper jmsurl  hashmap properties
if  jmsurl getpropertyvalue broker_url     null
properties put broker_url  jmsurl getpropertyvalue broker_url
if  jmsurl getpropertyvalue default_username     null
properties put default_username  jmsurl getpropertyvalue default_username
if  jmsurl getpropertyvalue default_password     null
properties put default_password  jmsurl getpropertyvalue default_password
public boolean ismatchingconnectionfactory connectionfactory connectionfactory  jmsurlhelper jmsurl  hashmap properties
string brokerurl   null
if  connectionfactory instanceof activemqconnectionfactory
activemqconnectionfactory amqconnectionfactory    activemqconnectionfactory connectionfactory
// get existing queue connection factory properties
brokerurl   amqconnectionfactory getbrokerurl
// compare broker url
string propertybrokerurl    string properties get broker_url
if  brokerurl    null     brokerurl equals propertybrokerurl
return false
return true