/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq kaha impl index hash
import java io datainput
import java io dataoutput
import java io ioexception
import org apache activemq kaha marshaller
/**
* key and index for diskbased hash index
*
* @version $revision: 1.1.1.1 $
*/
class hashentry implements comparable
static final int not_set    1
private comparable key
private long indexoffset
public int compareto object o
if  o instanceof hashentry
hashentry other    hashentry o
return key compareto other key
else
return key compareto o
public boolean equals object o
return compareto o     0
public int hashcode
return key hashcode
public string tostring
return     key       indexoffset
hashentry copy
hashentry copy   new hashentry
copy key   this key
copy indexoffset   this indexoffset
return copy
/**
* @return the key
*/
comparable getkey
return this key
/**
* @param key the key to set
*/
void setkey comparable key
this key   key
/**
* @return the indexoffset
*/
long getindexoffset
return this indexoffset
/**
* @param indexoffset the indexoffset to set
*/
void setindexoffset long indexoffset
this indexoffset   indexoffset
void write marshaller keymarshaller  dataoutput dataout  throws ioexception
dataout writelong indexoffset
keymarshaller writepayload key  dataout
void read marshaller keymarshaller  datainput datain  throws ioexception
indexoffset   datain readlong
key    comparable keymarshaller readpayload datain