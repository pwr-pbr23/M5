/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq network jms
import javax jms connection
import javax jms jmsexception
import javax jms message
import javax jms messageconsumer
import javax jms messageproducer
import javax jms queue
import javax jms queueconnection
import javax jms queuesender
import javax jms queuesession
import javax jms session
/**
* a destination bridge is used to bridge between to different jms systems
*
* @version $revision: 1.1.1.1 $
*/
class queuebridge extends destinationbridge
protected queue consumerqueue
protected queue producerqueue
protected queuesession consumersession
protected queuesession producersession
protected string selector
protected queuesender producer
protected queueconnection consumerconnection
protected queueconnection producerconnection
public void stop   throws exception
super stop
if  consumersession    null
consumersession close
if  producersession    null
producersession close
protected messageconsumer createconsumer   throws jmsexception
// set up the consumer
consumersession   consumerconnection createqueuesession false  session client_acknowledge
messageconsumer consumer   null
if  selector    null    selector length   > 0
consumer   consumersession createreceiver consumerqueue  selector
else
consumer   consumersession createreceiver consumerqueue
return consumer
protected synchronized messageproducer createproducer   throws jmsexception
producersession   producerconnection createqueuesession false  session auto_acknowledge
producer   producersession createsender null
return producer
protected synchronized void sendmessage message message  throws jmsexception
if  producer    null
createproducer
producer send producerqueue  message
/**
* @return returns the consumerconnection.
*/
public queueconnection getconsumerconnection
return consumerconnection
/**
* @param consumerconnection the consumerconnection to set.
*/
public void setconsumerconnection queueconnection consumerconnection
this consumerconnection   consumerconnection
/**
* @return returns the consumerqueue.
*/
public queue getconsumerqueue
return consumerqueue
/**
* @param consumerqueue the consumerqueue to set.
*/
public void setconsumerqueue queue consumerqueue
this consumerqueue   consumerqueue
/**
* @return returns the producerconnection.
*/
public queueconnection getproducerconnection
return producerconnection
/**
* @param producerconnection the producerconnection to set.
*/
public void setproducerconnection queueconnection producerconnection
this producerconnection   producerconnection
/**
* @return returns the producerqueue.
*/
public queue getproducerqueue
return producerqueue
/**
* @param producerqueue the producerqueue to set.
*/
public void setproducerqueue queue producerqueue
this producerqueue   producerqueue
/**
* @return returns the selector.
*/
public string getselector
return selector
/**
* @param selector the selector to set.
*/
public void setselector string selector
this selector   selector
protected connection getconnnectionforconsumer
return getconsumerconnection
protected connection getconnectionforproducer
return getproducerconnection