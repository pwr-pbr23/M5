/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq blob
/**
* the policy for configuring how blobs (binary large objects) are transferred
* out of band between producers, brokers and consumers.
*
* @version $revision: $
*/
public class blobtransferpolicy
private string defaultuploadurl
private string brokeruploadurl
private string uploadurl
private int buffersize   128   1024
private blobuploadstrategy uploadstrategy
/**
* returns a copy of this policy object
*/
public blobtransferpolicy copy
blobtransferpolicy that   new blobtransferpolicy
that defaultuploadurl   this defaultuploadurl
that brokeruploadurl   this brokeruploadurl
that uploadurl   this uploadurl
that uploadstrategy   this uploadstrategy
return that
public string getuploadurl
if  uploadurl    null
uploadurl   getbrokeruploadurl
if  uploadurl    null
uploadurl   getdefaultuploadurl
return uploadurl
/**
* sets the upload url to use explicitly on the client which will
* overload the default or the broker's url. this allows the client to decide
* where to upload files to irrespective of the brokers configuration.
*/
public void setuploadurl string uploadurl
this uploadurl   uploadurl
public string getbrokeruploadurl
return brokeruploadurl
/**
* called by the jms client when a broker advertises its upload url
*/
public void setbrokeruploadurl string brokeruploadurl
this brokeruploadurl   brokeruploadurl
public string getdefaultuploadurl
return defaultuploadurl
/**
* sets the default upload url to use if the broker does not
* have a configured upload url
*/
public void setdefaultuploadurl string defaultuploadurl
this defaultuploadurl   defaultuploadurl
public blobuploadstrategy getuploadstrategy
if  uploadstrategy    null
uploadstrategy   createuploadstrategy
return uploadstrategy
/**
* sets the upload strategy to use for uploading blobs to some url
*/
public void setuploadstrategy blobuploadstrategy uploadstrategy
this uploadstrategy   uploadstrategy
public int getbuffersize
return buffersize
/**
* sets the default buffer size used when uploading or downloading files
*/
public void setbuffersize int buffersize
this buffersize   buffersize
protected blobuploadstrategy createuploadstrategy
return new defaultblobuploadstrategy this