/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq transport udp
import java nio bytebuffer
import java util arraylist
import java util list
/**
* a default implementation of {@link bufferpool} which keeps a pool of direct
* byte buffers.
*
* @version $revision$
*/
public class defaultbufferpool extends simplebufferpool implements bytebufferpool
private list<bytebuffer> buffers   new arraylist<bytebuffer>
private object lock   new object
public defaultbufferpool
super true
public defaultbufferpool boolean usedirect
super usedirect
public synchronized bytebuffer borrowbuffer
synchronized  lock
int size   buffers size
if  size > 0
return buffers remove size   1
return createbuffer
public void returnbuffer bytebuffer buffer
synchronized  lock
buffers add buffer
public void start   throws exception
public void stop   throws exception
synchronized  lock
/*
* for (iterator iter = buffers.iterator(); iter.hasnext();) {
* bytebuffer buffer = (bytebuffer) iter.next(); }
*/
buffers clear