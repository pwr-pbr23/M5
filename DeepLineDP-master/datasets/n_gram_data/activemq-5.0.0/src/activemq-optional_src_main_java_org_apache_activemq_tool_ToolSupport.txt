/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq tool
import javax jms connection
import javax jms destination
import javax jms jmsexception
import javax jms session
import org apache activemq activemqconnection
import org apache activemq activemqconnectionfactory
import org apache activemq util indentprinter
/**
* abstract base class useful for implementation inheritence
*
* @version $revision$
*/
public class toolsupport
protected destination destination
protected string subject
protected boolean topic   true
protected string user   activemqconnection default_user
protected string pwd   activemqconnection default_password
protected string url   activemqconnection default_broker_url
protected boolean transacted
protected boolean durable
protected string clientid   getclass   getname
protected int ackmode   session auto_acknowledge
protected string consumername
protected session createsession connection connection  throws exception
if  durable
connection setclientid clientid
session session   connection createsession transacted  ackmode
if  topic
destination   session createtopic subject
else
destination   session createqueue subject
return session
protected connection createconnection   throws jmsexception  exception
activemqconnectionfactory connectionfactory   new activemqconnectionfactory user  pwd  url
return connectionfactory createconnection
protected void close connection connection  session session  throws jmsexception
// lets dump the stats
dumpstats connection
if  session    null
session close
if  connection    null
connection close
protected void dumpstats connection connection
activemqconnection c    activemqconnection connection
c getconnectionstats   dump new indentprinter