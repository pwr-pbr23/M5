/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component routebox seda
import java util arraylist
import java util hashset
import java util list
import java util set
import java util concurrent blockingqueue
import java util concurrent copyonwritearrayset
import java util concurrent linkedblockingqueue
import org apache camel consumer
import org apache camel exchange
import org apache camel multipleconsumerssupport
import org apache camel processor
import org apache camel producer
import org apache camel waitfortasktocomplete
import org apache camel component routebox routeboxcomponent
import org apache camel component routebox routeboxconfiguration
import org apache camel component routebox routeboxconsumer
import org apache camel component routebox routeboxendpoint
import org apache camel component routebox routeboxproducer
import org apache camel spi browsableendpoint
public class routeboxsedaendpoint extends routeboxendpoint implements browsableendpoint  multipleconsumerssupport
private waitfortasktocomplete waitfortasktocomplete   waitfortasktocomplete ifreplyexpected
private volatile blockingqueue<exchange> queue
private volatile set<routeboxproducer> producers   new copyonwritearrayset<routeboxproducer>
private volatile set<routeboxconsumer> consumers   new copyonwritearrayset<routeboxconsumer>
public routeboxsedaendpoint string endpointuri  routeboxcomponent component  routeboxconfiguration config  throws exception
super endpointuri  component  config
public routeboxsedaendpoint string endpointuri  routeboxcomponent component  routeboxconfiguration config  blockingqueue<exchange> queue  throws exception
this endpointuri  component  config
this queue   queue
public consumer createconsumer processor processor  throws exception
return new routeboxsedaconsumer this  processor
public producer createproducer   throws exception
return new routeboxsedaproducer this  queue  getwaitfortasktocomplete    getconfig   getconnectiontimeout
public boolean issingleton
return true
public void onstarted routeboxproducer producer
producers add producer
public void onstopped routeboxproducer producer
producers remove producer
public void onstarted routeboxconsumer consumer
consumers add consumer
public void onstopped routeboxconsumer consumer
consumers remove consumer
public set<routeboxconsumer> getconsumers
return new hashset<routeboxconsumer> consumers
public set<routeboxproducer> getproducers
return new hashset<routeboxproducer> producers
public void setqueue blockingqueue<exchange> queue
this queue   queue
public waitfortasktocomplete getwaitfortasktocomplete
return waitfortasktocomplete
public void setwaitfortasktocomplete waitfortasktocomplete waitfortasktocomplete
this waitfortasktocomplete   waitfortasktocomplete
public blockingqueue<exchange> getqueue
if  queue    null
if  getconfig   getqueuesize   > 0
queue   new linkedblockingqueue<exchange> getconfig   getqueuesize
else
queue   new linkedblockingqueue<exchange>
return queue
public boolean ismultipleconsumerssupported
return true
public list<exchange> getexchanges
return new arraylist<exchange> getqueue