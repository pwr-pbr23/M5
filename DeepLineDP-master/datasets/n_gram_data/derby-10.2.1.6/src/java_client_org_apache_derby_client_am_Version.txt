/*
derby - class org.apache.derby.client.am.version
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby client am
import org apache derby shared common i18n messageutil
public abstract class version
static messageutil msgutil   sqlexception getmessageutil
// constants for internationalized message ids
private static string security_manager_no_access_id
private static string unknown_host_id
// same as java.sql.databasemetadata.getdrivername()
public static string getdrivername
return configuration dncdrivername
// for databasemetadata.getdriverversion()
public static string getdriverversion
return configuration dncproductversionholder__ getversionbuildstring true
// same as java.sql.driver.getmajorversion(), getminorversion()
public static int getmajorversion
return configuration getproductversionholder   getmajorversion
public static int getminorversion
return configuration getproductversionholder   getminorversion
public static int getbuildnumber
return configuration getproductversionholder   getbuildnumberasint
public static int getprotocolmaintversion
return configuration getproductversionholder   getdrdamaintversion
public static boolean isalpha
return configuration getproductversionholder   isalpha
public static boolean isbeta
return configuration getproductversionholder   isbeta
// not an external, just a helper method
private static string getdrivernameandversion
return configuration dncdrivername
configuration dncproductversionholder__ getversionbuildstring true
// -------------------------- configuration print stream ---------------------
public static void writedriverconfiguration java io printwriter printwriter
string header
synchronized  printwriter
printwriter println header
printwriter println header       getdrivernameandversion
printwriter print header
for  int i   0  i < configuration dnccompatiblejreversions length  i
printwriter print configuration dnccompatiblejreversions
if  i    configuration dnccompatiblejreversions length   1
printwriter print
printwriter println
printwriter println header       configuration rangecheckcrossconverters
printwriter println header       integer tohexstring configuration bugchecklevel
printwriter println header       configuration defaultfetchsize
printwriter println header       configuration defaultisolation
java lang securitymanager security   java lang system getsecuritymanager
if  security    null
printwriter println header
else
printwriter println header
detectlocalhost java lang system getsecuritymanager    printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security           printwriter
printsystemproperty security           printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printsystemproperty security        printwriter
printwriter println header
printwriter flush
private static void printsystemproperty java lang securitymanager security
string prefix
string property
java io printwriter printwriter
string header
synchronized  printwriter
try
if  security    null
security checkpropertyaccess property
string result   system getproperty property
printwriter println header   prefix   result
printwriter flush
catch  securityexception e
printwriter println header
msgutil gettextmessage security_manager_no_access_id  property
printwriter flush
// printwriter synchronized by caller
private static void detectlocalhost java lang securitymanager security  java io printwriter printwriter
string header
// getlocalhost() will hang the hotjava 1.0 browser with a high security manager.
if  security    null
try
printwriter print header
printwriter println java net inetaddress getlocalhost   tostring
printwriter flush
catch  java net unknownhostexception e
printwriter println header
msgutil gettextmessage unknown_host_id  e getmessage
printwriter flush