/*
derby - class org.apache.derby.iapi.sql.statement
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi sql
import org apache derby iapi error standardexception
import org apache derby iapi sql dictionary schemadescriptor
import org apache derby iapi sql conn languageconnectioncontext
/**
* the statement interface provides a way of giving a statement to the
* language module, preparing the statement, and executing it. it also
* provides some support for stored statements. simple, non-stored,
* non-parameterized statements can be executed with the execute() method.
* parameterized statements must use prepare(). to get the stored query
* plan for a statement, use get().
* <p>
* this interface will have different implementations for the execution-only
* and compile-and-execute versions of the product. in the execution-only
* version, some of the methods will do nothing but raise exceptions to
* indicate that they are not implemented.
* <p>
* there is a statement factory in the connection interface in the database
* module, which uses the one provided in languagefactory.
*
*	@author jeff lichtman
*/
public interface statement
/**
* generates an execution plan without executing it.
*
* @return a preparedstatement that allows execution of the execution
*	   plan.
* @exception standardexception	thrown if this is an
*	   execution-only version of the module (the prepare() method
*	   relies on compilation).
*/
preparedstatement	prepare languageconnectioncontext lcc  throws standardexception
/**
* generates an execution plan without executing it.
*
* @param 	lcc			the language connection context
* @param 	allowinternalsyntax	if this statement is for a metadata call then
*	   we will allow internal sql syntax on such statement. this internal
*	   sql syntax is not available to a user sql statement.
*
* @return a preparedstatement that allows execution of the execution
*	   plan.
* @exception standardexception	thrown if this is an
*	   execution-only version of the module (the prepare() method
*	   relies on compilation).
*/
preparedstatement	prepare languageconnectioncontext lcc  boolean allowinternalsyntax  throws standardexception
/**
* generates an execution plan given a set of named parameters.
* for generating a storable prepared statement (which
* has some extensions over a standard prepared statement).
*
* @param 	lcc					compiler state variable.
* @param 	ps					prepared statement
* @param	paramdefaults		default parameter values to use for
*								optimization
* @param	spsschema schema of the stored prepared statement
*
* @return a storable preparedstatement that allows execution of the execution
*	   plan.
* @exception standardexception	thrown if this is an
*	   execution-only version of the module (the prepare() method
*	   relies on compilation).
*/
public	preparedstatement	preparestorable
languageconnectioncontext lcc
preparedstatement ps
object			paramdefaults
schemadescriptor	spsschema
boolean	internalsql
throws standardexception
/**
*	return the sql string that this statement is for.
*
*	@return the sql string this statement is for.
*/
string getsource