/*
derby - class org.apache.derby.ui.decorator.derbyisrunningdecorator
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby ui decorate
import org apache derby ui derbyplugin
import org apache derby ui common commonnames
import org apache derby ui util derbyserverutils
import org apache derby ui util logger
import org apache derby ui util selectionutil
import org eclipse core resources iproject
import org eclipse core runtime coreexception
import org eclipse core runtime istatus
import org eclipse core runtime platform
import org eclipse jdt core ijavaproject
import org eclipse jface resource imagedescriptor
import org eclipse jface viewers idecoration
import org eclipse jface viewers ilightweightlabeldecorator
import org eclipse jface viewers labelprovider
import org eclipse jface viewers labelproviderchangedevent
import org eclipse swt widgets display
import org eclipse ui idecoratormanager
public class derbyisrunningdecorator     extends labelprovider
implements ilightweightlabeldecorator
private static final imagedescriptor derbyrunningimagedesc   imagedescriptor
createfromurl platform getbundle commonnames ui_path  getentry   commonnames isrunning
public void decorate object element  idecoration decoration
iproject proj null
if element instanceof ijavaproject
proj     ijavaproject element  getproject
else
proj  iproject element
try
if  derbyserverutils getdefault   getrunning proj
decoration addoverlay derbyrunningimagedesc
catch  coreexception ce
logger log selectionutil getstatusmessages ce  istatus error
private void startupdatedecor iproject proj
final labelproviderchangedevent evnt   new labelproviderchangedevent this  proj
display getdefault   asyncexec new runnable
public void run
firelabelproviderchanged evnt
public static void performupdatedecor iproject proj
idecoratormanager dm   derbyplugin getdefault   getworkbench   getdecoratormanager
derbyisrunningdecorator decorator    derbyisrunningdecorator dm getbaselabelprovider commonnames rundecorator
decorator startupdatedecor proj