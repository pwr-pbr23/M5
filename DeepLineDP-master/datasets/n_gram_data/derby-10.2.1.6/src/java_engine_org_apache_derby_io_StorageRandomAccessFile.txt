/*
derby - class org.apache.derby.io.storagerandomaccessfile
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby io
import java io datainput
import java io dataoutput
import java io filenotfoundexception
import java io eofexception
import java io ioexception
/**
* this interface abstracts an object that implements reading and writing on a random access
* file. it extends datainput and dataoutput, so it implicitly contains all the methods of those
* interfaces. any method in this interface that also appears in the java.io.randomaccessfile class
* should behave as the java.io.randomaccessfile method does.
*<p>
* each storagerandomaccessfile has an associated file pointer, a byte offset in the file. all reading and writing takes
* place at the file pointer offset and advances it.
*<p>
* an implementation of storagerandomaccessfile need not be thread safe. the database engine
* single-threads access to each storagerandomaccessfile instance. two threads will not access the
* same storagerandomaccessfile instance at the same time.
*<p>
* @see <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/io/randomaccessfile.html">java.io.randomaccessfile</a>
*/
public interface storagerandomaccessfile extends datainput  dataoutput
/**
* closes this file.
*
* @exception ioexception - if an i/o error occurs.
*/
public void close   throws ioexception
/**
* get the current offset in this file.
*
* @return the current file pointer.
*
* @exception ioexception - if an i/o error occurs.
*/
public long getfilepointer   throws ioexception
/**
* gets the length of this file.
*
* @return the number of bytes this file.
*
* @exception ioexception - if an i/o error occurs.
*/
public long length   throws ioexception
/**
* set the file pointer. it may be moved beyond the end of the file, but this does not change
* the length of the file. the length of the file is not changed until data is actually written..
*
* @param newfilepointer the new file pointer, measured in bytes from the beginning of the file.
*
* @exception ioexception - if newfilepointer is less than 0 or an i/o error occurs.
*/
public void seek long newfilepointer  throws ioexception
/**
* sets the length of this file, either extending or truncating it.
*<p>
* if the file is extended then the contents of the extension are not defined.
*<p>
* if the file is truncated and the file pointer is greater than the new length then the file pointer
* is set to the new length.
*
* @param newlength the new file length.
*
* @exception ioexception if an i/o error occurs.
*/
public void setlength long newlength  throws ioexception
/**
* force any changes out to the persistent store. if the database is to be transient, that is, if the database
* does not survive a restart, then the sync method implementation need not do anything.
*
* @param metadata if true then this method must force both changes to the file's
*          contents and metadata to be written to storage; if false, it need only force file content changes
*          to be written. the implementation is allowed to ignore this parameter and always force out
*          metadata changes.
*
* @exception syncfailedexception if a possibly recoverable error occurs.
* @exception ioexception if an io error occurs.
*/
public void sync  boolean metadata  throws ioexception