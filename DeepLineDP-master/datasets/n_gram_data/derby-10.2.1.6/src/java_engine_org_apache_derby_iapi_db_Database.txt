/*
derby - class org.apache.derby.iapi.db.database
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi db
import org apache derby iapi services context contextmanager
import org apache derby iapi error standardexception
import org apache derby iapi sql resultset
import org apache derby iapi sql conn languageconnectioncontext
import org apache derby iapi jdbc authenticationservice
import org apache derby iapi services i18n localefinder
import java io inputstream
import java io outputstream
import java sql date
import java util hashtable
import java util locale
/**
* the org.apache.derby.iapi.db.database
* interface provides "internal" methods on the database which are
* not available to jbms users (org.apache.derby.database.database,
* which this interface extends, provides all the externally visible
* methods).
* <p>
* at the present moment, this file defines methods which will at
* some point be moved to to the external database interface.
*
* <b> there are a bunch of the unimplemninted interface that used to be in
* this file.  they have been moved to old_database.java.  old_database.java is
* checked into the codeline but is not built, it is there for reference </b>
*
* @author jeff lichtman
*/
public interface database extends org apache derby database database  localefinder
// this interface gets used on a module, so we name it:
// note that doers not point to this class name, but instead to
// the public api for this class. this ensures that the name
// written in service.properties is not a obfuscated one.
/**
* sets up a connection to the database, owned by the given user.
*
* the jdbc version of getconnection takes a url. the purpose
* of the url is to tell the driver where the database system is.
* by the time we get here, we have found the database system
* (that's how we're making this method call), so the url is not
* necessary to establish the connection here. the driver should
* remember the url that was used to establish the connection,
* so it can implement the databasemetadata.geturl() method.
*
* @param user	the userid of the user getting the connection
* @param drdaid	the drda id of the connection (from network server)
* @param dbname	the database name
*
* @return	a new languageconnectioncontext
*
* @exception standardexception thrown if unable to create the connection.
*/
public languageconnectioncontext setupconnection contextmanager cm  string user  string drdaid  string dbname  throws standardexception
/**
push a dbcontext onto the provided context stack. this conext will
shut down the database in case of a databaseexception being
cleaned up.
*/
public void pushdbcontext contextmanager cm
/**
is the database active (open).
*/
public boolean isactive
/**
*/
public	int	getenginetype
/**
* this method returns the authentication service handle for the
* database.
*
* note: there is always a authentication service per database
* and at the system level.
*
* @return	the authentication service handle for the database
*/
public authenticationservice getauthenticationservice
/**
* get a resource adapter - only used by xa system.  there is one and only
* one resource adapter per cloudscape database.
*
* @return the resource adapter for the database, null if no resource
* adapter is available for this database. returned as an object
* so that non-xa aggressive jvms such as chai don't get classnotfound.
* caller must cast result to resourceadapter.
*
*/
public object getresourceadapter
/** set the locale that is returned by this localefinder */
public	void	setlocale locale locale