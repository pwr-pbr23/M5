/*
derby - class org.apache.derby.iapi.services.property.persistentset
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi services property
import java util properties
import java io serializable
import org apache derby iapi error standardexception
public interface persistentset
/**
* gets a value for a stored property. the returned value will be:
*
* <ol>
* <li> the de-serialized object associated with the key
*      using setproperty if such a value is defined or
* <li> the default de-serialized object associated with
*      the key using setpropertydefault if such a value
*      is defined or
* <li> null
* </ol>
*
* <p>
* the store provides a transaction protected list of database properties.
* higher levels of the system can store and retrieve these properties
* once recovery has finished. each property is a serializable object
* and is stored/retrieved using a string key.
* <p>
*
* @param key     the "key" of the property that is being requested.
*
* @return object the requested object or null.
*
* @exception  standardexception  standard exception policy.
**/
public serializable getproperty
string key
throws standardexception
/**
* gets a default value for a stored property. the returned
* value will be:
*
* <ol>
* <li> the default de-serialized object associated with
*      the key using setpropertydefault if such a value
*      is defined or
* <li> null
* </ol>
*
* <p>
* the store provides a transaction protected list of database properties.
* higher levels of the system can store and retrieve these properties
* once recovery has finished. each property is a serializable object
* and is stored/retrieved using a string key.
* <p>
*
* @param key     the "key" of the property that is being requested.
*
* @return object the requested object or null.
*
* @exception  standardexception  standard exception policy.
**/
public serializable getpropertydefault
string key
throws standardexception
/**
* return true if the default property is visible. a default
* is visible as long as the property is not set.
*
* @param key     the "key" of the property that is being requested.
* @exception  standardexception  standard exception policy.
**/
public boolean propertydefaultisvisible string key  throws standardexception
/**
* sets the serializable object associated with a property key.
* <p>
* see the discussion of getproperty().
* <p>
* the value stored may be a formatable object or a serializable object
* whose class name starts with java.*. this stops arbitary objects being
* stored in the database by class name, which will cause problems in
* obfuscated/non-obfuscated systems.
*
* @param	key		the key used to lookup this property.
* @param	value	the value to be associated with this key. if null,
*                  delete the property from the properties list.
@param   dbonlyproperty true if property is only ever searched for int the database properties.
*
* @exception  standardexception  standard exception policy.
**/
public void	setproperty
string          key
serializable    value
boolean dbonlyproperty
throws standardexception
/**
* sets the serializable object default value associated with a property
* key.
* <p>
* see the discussion of getproperty().
* <p>
* the value stored may be a formatable object or a serializable object
* whose class name starts with java.*. this stops arbitary objects being
* stored in the database by class name, which will cause problems in
* obfuscated/non-obfuscated systems.
*
* @param	key		the key used to lookup this propertydefault.
* @param	value	the default value to be associated with this key.
*                  if null, delete the property default from the
*                  properties list.
*
* @exception  standardexception  standard exception policy.
**/
public void	setpropertydefault
string          key
serializable    value
throws standardexception
/**
* get properties that can be stored in a java.util.properties object.
* <p>
* get the sub-set of stored properties that can be stored in a
* java.util.properties object. that is all the properties that have a
* value of type java.lang.string.  changes to this properties object are
* not reflected in any persisent storage.
* <p>
* code must use the setproperty() method call.
*
* @return the sub-set of stored properties that can be stored in a
*         java.util.propertes object.
*
* @exception  standardexception  standard exception policy.
**/
public properties getproperties
throws standardexception