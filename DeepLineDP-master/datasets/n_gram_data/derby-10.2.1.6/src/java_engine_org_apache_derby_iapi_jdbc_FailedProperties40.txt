/*
derby - class org.apache.derby.impl.jdbc.failedproperties40
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi jdbc
import java util properties
import java util enumeration
import java util map
import java util hashmap
import java sql sqlclientinfoexception
import java sql clientinfostatus
/**
* class <code>failedproperties40</code> is a helper class for the
* sqlclientinfoexception. it provides convenient access to data
* that is needed when constructing sqlclientinfoexceptions. should
* be kept in sync with its client side counter part
* (org.apache.derby.client.am.failedproperties40).
* @see java.sql.sqlclientinfoexception
* @see org.apache.derby.client.am.failedproperties40
*/
public class failedproperties40
private final hashmap<string clientinfostatus> failedprops_
new hashmap<string clientinfostatus>
private final string firstkey_
private final string firstvalue_
/**
* helper method that creates a propery object from the name-value
* pair given as arguments.
* @param name property key
* @param value property value
* @return the created <code>properties</code> object
*/
public static properties makeproperties string name  string value
properties p   new properties
if  name    null    value    null
p setproperty name  value
return p
/**
* creates a new <code>failedproperties40</code> instance. since
* derby doesn't support any properties, all the keys from the
* <code>props</code> parameter are added to the
* <code>failedprops_</code> member with value
* reason_unknown_property.
*
* @param props a <code>properties</code> value. can be null or empty
*/
public failedproperties40 properties props
if  props    null    props isempty
firstkey_   null
firstvalue_   null
return
enumeration e   props keys
firstkey_    string e nextelement
firstvalue_   props getproperty firstkey_
failedprops_ put firstkey_  clientinfostatus reason_unknown_property
while  e hasmoreelements
failedprops_ put  string e nextelement
clientinfostatus reason_unknown_property
/**
* <code>getproperties</code> provides a
* <code>map<string,clientinfostatus></code> object describing the
* failed properties (as specified in the javadoc for
* java.sql.sqlclientinfoexception).
*
* @return a <code>map<string,clientinfostatus></code> object with
* the failed property keys and the reason why each failed
*/
public map<string clientinfostatus> getproperties     return failedprops_
/**
* <code>getfirstkey</code> returns the first property key. used
* when sqlclientinfoexception is thrown with a parameterized error
* message.
*
* @return a <code>string</code> value
*/
public string getfirstkey     return firstkey_
/**
* <code>getfirstvalue</code> returns the first property value. used
* when sqlclientinfoexception is thrown with a parameterized error
* message.
*
* @return a <code>string</code> value
*/
public string getfirstvalue     return firstvalue_