/*
derby - class org.apache.derby.impl.sql.catalog.systemcolumnimpl
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby impl sql catalog
import java sql types
import	org apache derby iapi sql dictionary systemcolumn
import org apache derby iapi error standardexception
import org apache derby iapi types datatypedescriptor
import org apache derby iapi types datavaluedescriptor
import org apache derby iapi types datavaluefactory
import org apache derby iapi types typeid
/**
* implements the description of a column in a system table.
*
*
* @version 0.1
* @author rick hillegas
*/
class systemcolumnimpl implements systemcolumn
private	final string	name
/**
* fully described type of the column.
*/
private final datatypedescriptor type
/**
* create a system column for a builtin type.
*
* @param name
*            name of column
* @param jdbctypeid
*            jdbc type id from java.sql.types
* @param nullability
*            whether or not column accepts nulls.
*/
static systemcolumn getcolumn string name  int jdbctypeid
boolean nullability
return new systemcolumnimpl name  datatypedescriptor
getbuiltindatatypedescriptor jdbctypeid  nullability
/**
* create a system column for a builtin type.
*
* @param name
*            name of column
* @param jdbctypeid
*            jdbc type id from java.sql.types
* @param nullability
*            whether or not column accepts nulls.
*/
static systemcolumn getcolumn string name  int jdbctypeid
boolean nullability int maxlength
return new systemcolumnimpl name  datatypedescriptor
getbuiltindatatypedescriptor jdbctypeid  nullability  maxlength
/**
* create a system column for an identifer with consistent type of
* varchar(128)
*
* @param name
*            name of the column.
* @param nullability
*            nullability of the column.
* @return object representing the column.
*/
static systemcolumn getidentifiercolumn string name  boolean nullability
return new systemcolumnimpl name  datatypedescriptor
getbuiltindatatypedescriptor types varchar  nullability  128
/**
* create a system column for a character representation of a uuid with
* consistent type of char(36)
*
* @param name
*            name of the column.
* @param nullability
*            nullability of the column.
* @return object representing the column.
*/
static systemcolumn getuuidcolumn string name  boolean nullability
return new systemcolumnimpl name  datatypedescriptor
getbuiltindatatypedescriptor types char  nullability  36
/**
* create a system column for a character representation of an indicator
* column with consistent type of char(1) not null
*
* @param name
*            name of the column.
* @return object representing the column.
*/
static systemcolumn getindicatorcolumn string name
return new systemcolumnimpl name  datatypedescriptor
getbuiltindatatypedescriptor types char  false  1
/**
* create a system column for a java column.
*
* @param name
*            name of the column.
* @param javaclassname
* @param nullability
*            nullability of the column.
* @return object representing the column.
*/
static systemcolumn getjavacolumn string name  string javaclassname
boolean nullability
typeid typeid   typeid getuserdefinedtypeid javaclassname  false
datatypedescriptor dtd   new datatypedescriptor typeid  nullability
return new systemcolumnimpl name  dtd
/**
* create a systemcolumnimpl representing the given name and type.
*/
private systemcolumnimpl string name  datatypedescriptor type
this name   name
this type   type
/**
* constructor to create a description of a column in a system table.
*
* @param name
*            of column.
* @param id
*            of column.
* @param nullability
*            whether or not column accepts nulls.
* @param datatype
*            datatype of column.
* @param maxlength
*            maximum length of data in column.
*/
systemcolumnimpl 	string	name
int		id
boolean	nullability
string	datatype
boolean	builtintype
int		maxlength
this name			  name
typeid  typeid
if  builtintype
typeid   typeid getbuiltintypeid datatype
else
typeid   typeid getuserdefinedtypeid datatype  false
this type   new datatypedescriptor
typeid
0
0
nullability
maxlength
systemcolumnimpl    string  name
int     id
int ignorep
int ignores
boolean nullability
string  datatype
boolean builtintype
int     maxlength
this name  id  nullability  datatype  builtintype  maxlength
/**
* constructor to create a description of a column in a system table.
* this constructor is used for sql identifiers (varchar 128).
*
*	@param	name of column.
*	@param	id of column.
*	@param	nullability whether or not column accepts nulls.
*/
systemcolumnimpl 	string	name
int		id
boolean	nullability
this name  id  nullability     true  128
/**
* gets the name of this column.
*
* @return	the column name.
*/
public string	getname
return	name
/**
* return the type of this column.
*/
public datatypedescriptor gettype
return type