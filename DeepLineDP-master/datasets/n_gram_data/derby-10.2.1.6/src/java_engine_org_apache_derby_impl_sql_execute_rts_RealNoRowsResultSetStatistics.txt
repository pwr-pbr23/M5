/*
derby - class org.apache.derby.impl.sql.execute.rts.realnorowsresultsetstatistics
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby impl sql execute rts
import org apache derby iapi services io formatable
import org apache derby iapi services i18n messageservice
import org apache derby iapi reference sqlstate
import java io objectoutput
import java io objectinput
import java io ioexception
import java util vector
/**
resultsetstatistics implemenation for noputresultsetimpl.
@author jerry
*/
abstract class realnorowsresultsetstatistics
implements resultsetstatistics
/* leave these fields public for object inspectors */
/* fields used for formating run time statistics output */
protected string indent
protected string subindent
protected int sourcedepth
public	resultsetstatistics	sourceresultsetstatistics
protected long executetime
// variables to implement the inspectable interface.
// do these have to be public?
public long inspectoverall
public long inspectnum
public string inspectdesc
// constructors
/**
* initializes the time spent in norowsresultset minus the source
* result set.
*/
public realnorowsresultsetstatistics long executetime
resultsetstatistics sourcers
if  sourcers instanceof realbasicnoputresultsetstatistics
this executetime   executetime
realbasicnoputresultsetstatistics sourcers  gettotaltime
/**
* initialize the format info for run time statistics.
*/
protected void initformatinfo int depth
char  indentchars   new char
char  subindentchars   new char
sourcedepth   depth   1
/*
** form an array of tab characters for indentation.
*/
subindentchars
while  depth > 0
subindentchars
indentchars
depth
indent   new string indentchars
subindent   new string subindentchars
/**
* dump out the time information for run time stats.
*
* @return string to be printed out.
*/
protected string dumptimestats string indent
return
indent   messageservice gettextmessage sqlstate rts_execute_time
executetime
/**
* get the objects to be displayed when this tree object is expanded.
* <p>
* the objects returned can be of any type, including addtional inspectables.
*
* @return java.util.vector	a vector of objects.
*/
public vector getchildren
vector children   new vector
children addelement sourceresultsetstatistics
return children
/**
* format for display, a name for this node.
*
*/
public abstract string getnodename
/**
* get the estimated row count for the number of rows returned
* by the associated query or statement.
*
* @return	the estimated number of rows returned by the associated
* query or statement.
*/
public double getestimatedrowcount
return 0 0