/*
derby - class org.apache.derby.impl.load.exportwritedataabstract
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby impl load
abstract class exportwritedataabstract
protected controlinfo controlfilereader
protected int columnlengths
protected string fieldseparator
protected string recordseparator
protected string nullstring
protected string columndefinition
protected string format
protected string fieldstartdelimiter
protected string fieldstopdelimiter
protected string datacodeset
protected string datalocale
protected boolean hasdelimiteratend
protected boolean doubledelimiter true
//load properties locally for faster reference to them periodically
protected void loadpropertiesinfo   throws exception
fieldseparator   controlfilereader getfieldseparator
recordseparator   controlfilereader getrecordseparator
nullstring   controlfilereader getnullstring
columndefinition   controlfilereader getcolumndefinition
format   controlfilereader getformat
fieldstartdelimiter   controlfilereader getfieldstartdelimiter
fieldstopdelimiter   controlfilereader getfieldenddelimiter
datacodeset   controlfilereader getdatacodeset
hasdelimiteratend   controlfilereader gethasdelimiteratend
//if control file says true for column definition, write it as first line of the
//data file
abstract void writecolumndefinitionoptionally string columnnames
string columntypes
throws exception
//used in case of fixed format
public void setcolumnlengths int columnlengths
this columnlengths   columnlengths
//write the passed row into the data file
public abstract void writedata string onerow  boolean isnumeric  throws exception
//if nothing more to write, then close the file and write a message of completion
//in message file
public abstract void nomorerows   throws exception