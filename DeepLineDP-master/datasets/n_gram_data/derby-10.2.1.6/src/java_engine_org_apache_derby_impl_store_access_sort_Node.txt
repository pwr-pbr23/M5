/*
derby - class org.apache.derby.impl.store.access.sort.node
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby impl store access sort
import org apache derby iapi services sanity sanitymanager
import org apache derby iapi types datavaluedescriptor
import org apache derby impl sql execute rowutil
/**
a node in a balanced binary tree.  this class is effectively a
struct to the balanced tree class.
**/
final class node
public int balance
public node leftlink
public node rightlink
public datavaluedescriptor key
public int id
public node dupchain
public int aux
public node int id
this id   id
reset
public void reset
balance   0
leftlink   null
rightlink   null
key   null
dupchain   null
aux   0
// leave id alone
public node link int which
if  which < 0
return leftlink
else
return rightlink
public void setlink int which  node l
if  which < 0
leftlink   l
else
rightlink   l
datavaluedescriptor getkey
return key
public string tostring
if  sanitymanager debug
int lid    leftlink    null  ?  1   leftlink id
int rid    rightlink    null  ?  1   rightlink id
int did    dupchain    null  ?  1   dupchain id
return
id
rowutil tostring key
lid
rid
balance
did
aux
else
return null