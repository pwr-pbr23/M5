/*
derby - class org.apache.derby.client.am.bloboutputstream
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby client am
public class bloboutputstream extends java io outputstream
private blob blob_
private long offset_
public bloboutputstream blob blob  long offset
blob_   blob
offset_   offset
/*
offset_=1 while blob_.binarystring_.length - blob_.dataoffset_ = 0
for a empty blob hence check for offset_-1
*/
if   offset_ 1  >  blob_ binarystring_ length   blob_ dataoffset_
throw new indexoutofboundsexception
public void write int b  throws java io ioexception
byte newbuf   new byte
system arraycopy blob_ binarystring_  0  newbuf  0   int  offset_   1   blob_ dataoffset_
blob_ binarystring_   newbuf
blob_ binarystring_    byte  b
blob_ binarystream_   new java io bytearrayinputstream blob_ binarystring_
blob_ sqllength_   blob_ binarystring_ length   blob_ dataoffset_
offset_
public void write byte b  int off  int len  throws java io ioexception
if  b    null
throw new nullpointerexception
else if   off < 0      off > b length      len < 0
off   len  > b length       off   len  < 0
throw new indexoutofboundsexception
else if  len    0
return
byte newbuf   new byte
system arraycopy blob_ binarystring_  0  newbuf  0   int  offset_   1   blob_ dataoffset_
blob_ binarystring_   newbuf
for  int i   0  i < len  i    offset_
blob_ binarystring_   b
blob_ binarystream_   new java io bytearrayinputstream blob_ binarystring_
blob_ sqllength_   blob_ binarystring_ length   blob_ dataoffset_