/*
derby - class org.apache.derby.iapi.services.compiler.classbuilder
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi services compiler
import org apache derby iapi services loader generatedclass
import org apache derby iapi error standardexception
import org apache derby iapi util bytearray
/**
* classbuilder is used to construct a java class's byte array
* representation.
*
* limitations:
*   no checking for language use violations such as invalid modifiers
*	or duplicate field names.
*   all classes must have a superclass; java.lang.object must be
*      supplied if there is no superclass.
*
* <p>
* when a class is first created, it has:
* <ul>
* <li> a superclass
* <li> modifiers
* <li> a name
* <li> a package
* <li> no superinterfaces, methods, fields, or constructors
* <li> an empty static initializer
* </ul>
* <p>
* methodbuilder implementations are required to get code out of the
* constructs within their bodies in some manner.
* most typically, they may have a stream to which the statement and
* expression constructs write the code that they represent,
* and they walk over the statements and expressions in the appropriate order.
*
* @author ames
*/
public interface classbuilder
/**
* add a field to this class. fields cannot
* be initialized here, they must be initialized
* in the static initializer code (static fields)
* or in the constructors.
* <p>
* methods are added when they are created with the javafactory.
* @param type	the type of the field in java language.
* @param name	the name of the field.
* @param modifiers	the | of the modifier values such as
*					public, static, etc.
* @see classbuilder#newmethodbuilder
* @see #newconstructorbuilder
*/
localfield addfield string type  string name  int modifiers
/**
fully create the bytecode and load the
class using the classbuilder's classfactory.
@exception standardexception standard cloudscape policy
*/
generatedclass getgeneratedclass   throws standardexception
/**
* at the time the class is completed and bytecode
* generated, if there are no constructors then
* the default no-arg constructor will be defined.
*/
bytearray getclassbytecode   throws standardexception
/**
* the class's unqualified name
*/
string getname
/**
* the class's qualified name
*/
string getfullname
/**
* a method. once it is created, parameters, thrown
* exceptions, statements, and local variable declarations
* must be added to it. it is put into its defining class
* when it is created.
* <verbatim>
java: #modifiers #returntype #methodname() {}
// modifiers is the | of the jvm constants for
// the modifiers such as static, public, etc.
</verbatim>
<p>
* this is used to start a constructor as well; pass in
* null for the returntype when used in that manner.
*
* @param modifiers the | of the modifier
*	constants representing the visibility and control of this
*	method.
* @param returntype the return type of the method as its
*	java language type name.
* @param methodname the name of the method.
*
* @return the method builder.
* @see java.lang.reflect.modifier
*/
methodbuilder newmethodbuilder int modifiers  string returntype
string methodname
/**
* a method with parameters. once it is created, thrown
* exceptions, statements, and local variable declarations
* must be added to it. it is put into its defining class
* when it is created.
* <verbatim>
java: #modifiers #returntype #methodname() {}
// modifiers is the | of the jvm constants for
// the modifiers such as static, public, etc.
</verbatim>
<p>
* this is used to start a constructor as well; pass in
* null for the returntype when used in that manner.
*
* @param modifiers the | of the modifier
*	constants representing the visibility and control of this
*	method.
* @param returntype the return type of the method as its
*	java language type name.
* @param methodname the name of the method.
* @param parms	an array of string representing the
*				method's parameter types
*
* @return the method builder.
* @see java.lang.reflect.modifier
*/
methodbuilder newmethodbuilder int modifiers  string returntype
string methodname  string parms
/**
* a constructor. once it is created, parameters, thrown
* exceptions, statements, and local variable declarations
* must be added to it. it is put into its defining class
* when it is created.
* <verbatim>
java: #modifiers #classname() {}
// modifiers is the | of the jvm constants for
// the modifiers such as static, public, etc.
// classname is taken from definingclass.name()
</verbatim>
* <p>
* this is used to start a constructor as well; pass in
* null for the returntype when used in that manner.
*
* @param modifiers the | of the modifier
*	constants representing the visibility and control of this
*	method.
*
* @return the method builder for the constructor.
* @see java.lang.reflect.modifier
*/
methodbuilder newconstructorbuilder int modifiers
/**
create a new private field and its getter and setter methods.
@param getter getter for field
@param setter setter for field
@param methodmodifier modifier for method
@param staticfield true if the field is static
@param type type of the field, return type of the get method and
parameter type of the set method.
*/
void newfieldwithaccessors string getter  string setter  int methodmodifier
boolean staticfield  string type