/*
derby - class org.apache.derby.iapi.services.monitor.modulecontrol
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi services monitor
import java util properties
import org apache derby iapi error standardexception
/**
modulecontrol is <b>optionally</b> implemented by a module's factory class.
*/
public interface modulecontrol
/**
boot this module with the given properties. creates a module instance
that can be found using the findmodule() methods of monitor.
the module can only be found using one of these findmodule() methods
once this method has returned.
<p>
an implementation's boot method can throw standardexception. if it
is thrown the module is not registered by the monitor and therefore cannot
be found through a findmodule(). in this case the module's stop() method
is not called, thus throwing this exception must free up any
resources.
<p>
when create is true the contents of the properties object
will be written to the service.properties of the persistent
service. thus any code that requires an entry in service.properties
must <b>explicitly</b> place the value in this properties set
using the put method.
<br>
typically the properties object contains one or more default
properties sets, which are not written out to service.properties.
these default sets are how callers modify the create process. in a
jdbc connection database create the first set of defaults is a properties
object that contains the attributes that were set on the jdbc:derby: url.
this attributes properties set has the second default properties set as
its default. this set (which could be null) contains the properties
that the user set on their drivermanager.getconnection() call, and are thus
not owned by cloudscape code, and thus must not be modified by cloudscape
code.
<p>
when create is false the properties object contains all the properties
set in the service.properties file plus a <b>limited</b> number of
attributes from the jdbc url attributes or connection properties set.
this avoids properties set by the user compromising the boot process.
an example of a property passed in from the jdbc world is the bootpassword
for encrypted databases.
<p>
code should not hold onto the passed in properties reference after boot time
as its contents may change underneath it. at least after the complete boot
is completed, the links to all the default sets will be removed.
@exception standardexception module cannot be started.
@see monitor
@see modulefactory
*/
public void boot boolean create  properties properties
throws standardexception
/**
stop the module.
the module may be found via a findmodule() method until some time after
this method returns. therefore the factory must be prepared to reject requests
to it once it has been stopped. in addition other modules may cache a reference
to the module and make requests of it after it has been stopped, these requests
should be rejected as well.
@see monitor
@see modulefactory
*/
public void stop