/*
derby - class org.apache.derby.impl.jdbc.embedsqlwarning
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby impl jdbc
import org apache derby iapi services i18n messageservice
import org apache derby iapi error exceptionseverity
import org apache derby iapi error standardexception
import java sql sqlwarning
/**
this class understands the message protocol and looks up
sqlexceptions based on keys, so that the local jdbc driver's
messages can be localized.
remind: may want to investigate putting some of this in the protocol
side, for the errors that any cloudscape jdbc driver might return.
the assert mechanism is a wrapper of the basic services,
to ensure that failed asserts at this level will behave
well in a jdbc environment.
@author ames
*/
public class embedsqlwarning extends sqlwarning
/*
** instance fields
*/
/*
** constructor
*/
/**
* because sqlwarning does not have settable fields,
* the caller of the constructor must do message lookup,
* and pass the appropriate values here for message and sqlstate,
*/
protected embedsqlwarning string message  string sqlstate
super message  sqlstate  exceptionseverity warning_severity
/*
** methods of throwable
*/
/*
** methods of object
*/
/**
override throwable's tostring() to avoid the class name
appearing in the message.
*/
public string tostring
return     getmessage
// class implementation
public static sqlwarning newembedsqlwarning string messageid
return newembedsqlwarning messageid  null
/**
this looks up the message and sqlstate values and generates
the appropriate exception off of them.
*/
public static sqlwarning newembedsqlwarning string messageid
object arg
return new embedsqlwarning
messageservice getcompletemessage messageid  new object  arg
standardexception getsqlstatefromidentifier messageid
/** generate an sql warning from a standard exception
* @param se exception to convert to a warning
* @return new sqlwarning with message and sqlstate of the se
*/
public static sqlwarning generatecssqlwarning standardexception se
return new embedsqlwarning
se getmessage    se getsqlstate