/*
derby - class org.apache.derby.iapi.sql.dictionary.statementpermission
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi sql dictionary
import org apache derby iapi sql conn languageconnectioncontext
import org apache derby iapi error standardexception
/**
* this class describes a permission require by a statement.
*/
public abstract class statementpermission
/**
* restrict implementations to this package to reduce
* risk of external code spoofing the grant/revoke system
* by providing its own fake implementations.
*
*/
statementpermission
/**
* @param lcc				languageconnectioncontext
* @param authorizationid	authorizationid
* @param forgrant
*
* @exception standardexception if the permission has not been granted
*/
public abstract void check  languageconnectioncontext lcc
string authorizationid
boolean forgrant  throws standardexception
/**
*
* get the permissiondescriptor for the passed authorization id for this
* object. this method gets called during the execution phase of create
* view/constraint/trigger. the return value of this method is saved in
* dependency system to keep track of views/constraints/triggers
* dependencies on required permissions. this happens in execution phase
* after it has been established that passed authorization id has all the
* permissions it needs to create that view/constraint/trigger. which means
* that we can only get to writing into dependency system once all the required
* privileges are confirmed.
*
* @param authid	authorizationid
* @param dd	datadictionary
*
* @return permissionsdescriptor	the permissiondescriptor for the passed
*  authorization id on this object
*
* @exception standardexception
*/
public abstract permissionsdescriptor getpermissiondescriptor string authid  datadictionary dd
throws standardexception