/*
derby - class org.apache.derby.impl.services.stream.basicgetlogheader
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby impl services stream
import org apache derby iapi services stream printwritergetheader
import org apache derby iapi util cheapdateformatter
/**
* get a header to prepend to a line of output. *
* a headerprintwriter requires an object which implements
* this interface to construct line headers.
*
* @see org.apache.derby.iapi.services.stream.headerprintwriter
*/
class basicgetlogheader implements printwritergetheader
private boolean dothreadid
private boolean dotimestamp
private string tag
/*
* stub: this should take a header template. check if
*		 the error message facility provides something.
*
*		 this should be localizable. how?
*/
/**
* constructor for a basicgetlogheader object.
* <p>
* @param dothreadid	true means include the calling thread's
*							id in the header.
* @param dotimestamp	true means include the current time in
*							the header.
* @param tag			a string to prefix the header. null
*						means don't prefix the header with
*						a string.
*/
basicgetlogheader boolean dothreadid
boolean dotimestamp
string tag
this dothreadid   dothreadid
this dotimestamp   dotimestamp
this tag   tag
public string getheader
stringbuffer header   new stringbuffer 48
if  tag    null
header append tag
header append
if  dotimestamp
long currenttime   system currenttimemillis
header append cheapdateformatter formatdate currenttime
header append
if  dothreadid
header append thread currentthread   tostring
header append
return header tostring