/*
derby - class org.apache.derby.iapi.services.io.arrayoutputstream
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi services io
import java io ioexception
import java io eofexception
import java io outputstream
public class arrayoutputstream extends outputstream implements limit
private byte pagedata
private int		start
private int		end 		   exclusive
private int		position
public arrayoutputstream
super
public arrayoutputstream byte data
super
setdata data
public void setdata byte data
pagedata   data
start   0
if  data    null
end   data length
else
end   0
position   0
/*
** methods of outputstream
*/
public void write int b  throws ioexception
if  position >  end
throw new eofexception
pagedata    byte  b
public void write byte b  int off  int len  throws ioexception
if   position   len  > end
throw new eofexception
system arraycopy b  off  pagedata  position  len
position    len
/*
** methods of lengthoutputstream
*/
public int getposition
return position
/**
set the position of the stream pointer.
*/
public void setposition int newposition
throws ioexception
if   newposition < start      newposition > end
throw new eofexception
position   newposition
public void setlimit int length  throws ioexception
if  length < 0
throw new eofexception
if   position   length  > end
throw new eofexception
start   position
end   position   length
return
public int clearlimit
int unwritten   end   position
end   pagedata length
return unwritten