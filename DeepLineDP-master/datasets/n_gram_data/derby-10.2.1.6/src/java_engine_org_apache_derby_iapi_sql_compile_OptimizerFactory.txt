/*
derby - class org.apache.derby.iapi.sql.compile.optimizerfactory
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi sql compile
import org apache derby iapi sql conn languageconnectioncontext
import org apache derby iapi sql dictionary datadictionary
import org apache derby iapi store access transactioncontroller
import org apache derby iapi services context contextmanager
import org apache derby iapi error standardexception
/**
this is simply the factory for creating an optimizer.
<p>
there is expected to be only one of these configured per database.
*/
public interface optimizerfactory
/**
module name for the monitor's module locating system.
*/
string module
/**
* only one optimizer level should exist in the database, however, the
* connection may have multiple instances of that optimizer
* at a given time.
*
* @param optimizablelist	the list of optimizables to optimize.
* @param predicatelist	the list of unassigned optimizablepredicates.
* @param ddictionary	the datadictionary to use.
* @param requiredrowordering	the required ordering of the rows to
*								come out of the optimized result set
* @param numtablesinquery	the number of tables in the current query
* @param lcc			the languageconnectioncontext
*
* resolve - we probably want to pass a subquery list, once we define a
* new interface for them, so that the optimizer can out where to attach
* the subqueries.
*
* @exception standardexception		thrown on error
*/
public optimizer getoptimizer  optimizablelist optimizablelist
optimizablepredicatelist predicatelist
datadictionary ddictionary
requiredrowordering requiredrowordering
int numtablesinquery
languageconnectioncontext lcc
throws standardexception
/**
* return a new costestimate.
*
* @exception standardexception		thrown on error
*/
public costestimate getcostestimate
throws standardexception
/**
* return whether or not the optimizer associated with
* this factory supports optimizer trace.
*
* @return whether or not the optimizer associated with
* this factory supports optimizer trace.
*/
public boolean supportsoptimizertrace
/**
* return the maxmemorypertable setting, this is used in
* optimizer, as well as subquery materialization at run time.
*
* @return	maxmemorypertable value
*/
public int getmaxmemorypertable