/*
derby - class org.apache.derby.iapi.services.daemon.daemonfactory
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi services daemon
import org apache derby iapi error standardexception
/**
daemon factory can create new daemonservice, which runs on seperate
background threads.  one can use these daemonservice to handle background
clean up task by implementing serviceable and subscribing to a daemonservice.
a daemonservice is a background worker thread which does asynchronous i/o and
general clean up.  it should not be used as a general worker thread for
parallel execution.  a daemonservice can be subscribe to by many serviceable
objects and a daemon will call that object's performwork from time to
time.  these performwork method should be well behaved - in other words,
it should not take too long or hog too many resources or deadlock with
anyone else.  and it cannot (should not) error out.
the best way to use a daemon is to have an existing daemonservice and subscribe to it.
if you can't find an existing one, then make one thusly:
daemonservice daemon = daemonfactory.createnewdaemon();
after you have a daemon, you can subscribe to it by
int myclientnumber = daemon.subscribe(serviceableobject);
and ask it to run performwork for you asap by
daemon.servicenow(myclientnumber);
or, for one time service, you can enqueue a serviceable object by
daemon.enqueue(serviceableobject, true);  - urgent service
daemon.enqueue(serviceableobject, false); - non-urgent service
@see daemonservice
@see serviceable
*/
public interface daemonfactory
/**
create a new daemonservice with the default daemon timer delay.
@exception standardexception standard cloudscape error policy
*/
public daemonservice createnewdaemon string name  throws standardexception