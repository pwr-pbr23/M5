/*
derby - class org.apache.derby.iapi.types.cdcdatavaluefactory
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi types
import java util properties
import org apache derby iapi services info jvminfo
import org apache derby iapi services monitor modulesupportable
import org apache derby iapi error standardexception
/**
* datavaluefactory implementation for j2me/cdc/foundation.
* cannot use sqldecimal since that requires java.math.bigdecimal.
* uses bigintegerdecimal for decimal support.
*
* @see datavaluefactory
*/
public class cdcdatavaluefactory extends datavaluefactoryimpl
implements modulesupportable
/**
*     make the constructor public.
*
*/
public cdcdatavaluefactory
/* (non-javadoc)
* @see org.apache.derby.iapi.services.monitor.modulesupportable#cansupport(java.util.properties)
*/
public boolean cansupport properties properties
return jvminfo j2me
public numberdatavalue getdecimaldatavalue long value
numberdatavalue previous  throws standardexception
if  previous    null
previous   new bigintegerdecimal
previous setvalue value
return previous
public numberdatavalue getdecimaldatavalue string value
throws standardexception
numberdatavalue ndv   new bigintegerdecimal
ndv setvalue value
return ndv
public numberdatavalue getnulldecimal numberdatavalue datavalue
if  datavalue    null
return new bigintegerdecimal
else
datavalue settonull
return datavalue