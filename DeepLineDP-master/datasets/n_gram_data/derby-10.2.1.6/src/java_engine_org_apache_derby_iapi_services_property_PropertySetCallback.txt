/*
derby - class org.apache.derby.iapi.services.property.propertysetcallback
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi services property
import org apache derby iapi error standardexception
import org apache derby iapi services daemon serviceable
import java io serializable
import java util dictionary
public interface propertysetcallback
/**
initialize the properties for this callback.
called when addpropertysetnotification() is called
with a non-null transaction controller.
this allows code to set read its initial property
values at boot time.
<p>
code within an init() method should use the 3 argument
propertyutil method getpropertyfromset() to obtain a property's value.
@param dbonly true if only per-database properties are to be looked at
@param p the complete set of per-database properties.
*/
void init boolean dbonly  dictionary p
/**
validate a property change.
@param key property key for the property being set
@param value proposed new value for the property being set or null if
the property is being dropped.
@param p property set before the change. settingproperty may read but
must never change p.
@return true if this object was interested in this property, false otherwise.
@exception standardexception oh well.
*/
boolean validate string key  serializable value  dictionary p
throws standardexception
/**
apply a property change. will only be called after validate has been called
and only if validate returned true. if this method is called then the
new value is the value to be used, ie. the property is not set in the
overriding jvm system set.
@param key property key for the property being set
@param value proposed new value for the property being set or null if
the property is being dropped.
@param p property set before the change. settingproperty may read but
must never change p.
@return post commit work for the property change.
@exception standardexception oh well.
*/
serviceable apply string key  serializable value  dictionary p
throws standardexception
/**
map a proposed new value for a property to an official value.
will only be called after apply() has been called.
@param key property key for the property being set
@param value proposed new value for the property being set or null if
the property is being dropped.
@param p property set before the change. settingproperty may read but
must never change p.
@return new value for the change
@exception standardexception oh well.
*/
serializable map string key  serializable value  dictionary p
throws standardexception