/*
derby - class org.apache.derby.iapi.store.access.sortinfo
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby iapi store access
import org apache derby iapi error standardexception
import java util properties
/**
this object provides performance information related to a sort.
the information is accumulated during operations on a sortcontroller() and
then copied into this object and returned by a call to
sortcontroller.getsortinfo().
**/
public interface sortinfo
/**
* return all information gathered about the sort.
* <p>
* this routine returns a list of properties which contains all information
* gathered about the sort.  if a property is passed in, then that property
* list is appended to, otherwise a new property object is created and
* returned.
* <p>
* not all sorts may support all properties, if the property is not
* supported then it will not be returned.  the following is a list of
* properties that may be returned:
*
*     sorttype
*         - type of the sort being performed:
*           internal
*           external
*     numrowsinput
*         - the number of rows input to the sort.  this
*           number includes duplicates.
*     numrowsoutput
*         - the number of rows to be output by the sort.  this number
*           may be different from numrowsinput since duplicates may not
*           be output.
*     nummergeruns
*         - the number of merge runs for the sort.
*           applicable to external sorts only.
*           note: when a sortcontroller is closed, nummergeruns may increase by 1, to
*           reflect the additional merge run that may be created for
*           any data still in the sort buffer.
*     mergerunssize
*         - the size (number of rows) of each merge run for the sort.
*           applicable to external sorts only.
*           e.g. [3,3,2] indicates 3 merge runs, where the first two runs
*           have 3 rows each, and the last run has 2 rows.
*           note: when a sortcontroller is closed, this vector may get an
*           additional element, to reflect the additional merge run that
*           may be created for any data still in the sort buffer.
*     note - this list will be expanded as more information about the sort
*            is gathered and returned.
*
* @param prop   property list to fill in.
*
* @exception  standardexception  standard exception policy.
**/
properties getallsortinfo properties prop
throws standardexception