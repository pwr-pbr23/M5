/*
derby - class org.apache.derby.impl.store.access.pc_xenaversion
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby impl store access
import org apache derby iapi reference sqlstate
import org apache derby iapi reference property
import org apache derby iapi reference classname
import org apache derby iapi services io formatidutil
import org apache derby iapi services io storedformatids
import org apache derby iapi services io formatable
import org apache derby iapi error standardexception
import org apache derby iapi sql dictionary datadictionary
import org apache derby iapi store access transactioncontroller
import org apache derby iapi services property propertyutil
import org apache derby catalog uuid
import java io ioexception
import java io objectinput
import java io objectoutput
import java io streamcorruptedexception
import java util enumeration
import java util properties
public class pc_xenaversion implements formatable
private static final int xena_major_version   1
private static final int xena_minor_version_0   0
//
//persistent state. the default value defined here is
//over-ridden by readexternal when reading serialized
//versions.
private int minorversion   xena_minor_version_0
private boolean isupgradeneeded pc_xenaversion fromversion
return
fromversion    null
getmajorversionnumber      fromversion getmajorversionnumber
public void upgradeifneeded transactioncontroller tc
propertyconglomerate pc
properties serviceproperties
throws standardexception
pc_xenaversion dbversion
pc_xenaversion pc getproperty tc datadictionary property_conglomerate_version
if  isupgradeneeded dbversion
throw standardexception newexception sqlstate upgrade_unsupported  dbversion  this
public int getmajorversionnumber    return xena_major_version
public int getminorversionnumber    return minorversion
public void writeexternal objectoutput out  throws ioexception
out writeint getmajorversionnumber
out writeint getminorversionnumber
public void readexternal objectinput in  throws ioexception
int majorversion   in readint
minorversion   in readint
public int gettypeformatid    return storedformatids pc_xena_version_id
public string tostring    return getmajorversionnumber     getminorversionnumber