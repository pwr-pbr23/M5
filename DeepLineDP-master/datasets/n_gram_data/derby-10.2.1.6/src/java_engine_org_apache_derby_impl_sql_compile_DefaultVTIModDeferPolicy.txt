/*
derby - class org.apache.derby.impl.sql.compile.defaultvtimoddeferpolicy
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package	org apache derby impl sql compile
import org apache derby vti defermodification
/**
* this class implements the default policy for defering modifications to virtual
* tables.
*/
class defaultvtimoddeferpolicy implements defermodification
private final string targetvticlassname
private final boolean vtiresultsetissensitive
defaultvtimoddeferpolicy  string targetvticlassname
boolean vtiresultsetissensitive
this targetvticlassname   targetvticlassname
this vtiresultsetissensitive   vtiresultsetissensitive
/**
* @see org.apache.derby.vti.defermodification#alwaysdefer
*/
public boolean alwaysdefer  int statementtype
return false
/**
* @see org.apache.derby.vti.defermodification#columnrequiresdefer
*/
public boolean columnrequiresdefer  int statementtype
string columnname
boolean inwhereclause
switch  statementtype
case defermodification insert_statement
return false
case defermodification update_statement
return vtiresultsetissensitive    inwhereclause
case defermodification delete_statement
return false
return false     should not get here
end of columnrequiresdefer
/**
* @see org.apache.derby.vti.defermodification#subselectrequiresdefer(int,string,string)
*/
public boolean subselectrequiresdefer  int statementtype
string schemaname
string tablename
return false
end of subselectrequiresdefer  statementtype  schemaname  tablename
/**
* @see org.apache.derby.vti.defermodification#subselectrequiresdefer(int, string)
*/
public boolean subselectrequiresdefer  int statementtype
string vticlassname
return targetvticlassname equals  vticlassname
end of subselectrequiresdefer  statementtype  vticlassname
public void modificationnotify  int statementtype
boolean deferred