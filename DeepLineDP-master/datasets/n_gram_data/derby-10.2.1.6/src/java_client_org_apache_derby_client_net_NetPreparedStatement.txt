/*
derby - class org.apache.derby.client.net.netpreparedstatement
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby client net
import org apache derby client am columnmetadata
import org apache derby client am preparedstatement
import org apache derby client am section
import org apache derby client am sqlexception
import org apache derby jdbc clientdriver
import org apache derby client am clientjdbcobjectfactory
import org apache derby client clientpooledconnection
public class netpreparedstatement extends netstatement
implements org apache derby client am materialpreparedstatement
// alias for (netpreparedstatement) super.statement.
/*final*/
org apache derby client am preparedstatement preparedstatement_
// relay constructor for netcallablestatement.
netpreparedstatement org apache derby client am preparedstatement statement
netagent netagent
netconnection netconnection
super statement  netagent  netconnection
initnetpreparedstatement statement
void resetnetpreparedstatement org apache derby client am preparedstatement statement
netagent netagent
netconnection netconnection
super resetnetstatement statement  netagent  netconnection
initnetpreparedstatement statement
private void initnetpreparedstatement org apache derby client am preparedstatement statement
preparedstatement_   statement
preparedstatement_ materialpreparedstatement_   this
/**
*
* the constructor for the netpreparedstatement class. called by abstract
* connection.preparestatment().newpreparedstatement()
* for jdbc 2 prepared statements with scroll attributes.
* it has the clientpooledconnection as one of its parameters
* this is used to raise the statement events when the prepared
* statement is closed.
*
* @param netagent the instance of netagent associated with this
*              callablestatement object.
* @param netconnection the connection object associated with this
*                      preparedstatement object.
* @param sql         a string object that is the sql statement
*                    to be sent to the database.
* @param type        one of the resultset type constants.
* @param concurrency one of the resultset concurrency constants.
* @param holdability one of the resultset holdability constants.
* @param autogeneratedkeys a flag indicating whether auto-generated
*                          keys should be returned.
* @param columnnames a string array of column names indicating
*                    the columns that should be returned
*                    from the inserted row or rows.
* @param cpc the clientpooledconnection wraps the underlying physical
*            connection associated with this prepared statement
*            it is used to pass the statement closed and the statement
*            error occurred events that occur back to the
*            clientpooledconnection.
* @throws sqlexception
*
*/
netpreparedstatement netagent netagent  netconnection netconnection  string sql  int type  int concurrency  int holdability  int autogeneratedkeys  string columnnames  clientpooledconnection cpc  throws sqlexception
this clientdriver getfactory   newpreparedstatement netagent
netconnection  sql  type  concurrency  holdability
autogeneratedkeys  columnnames  cpc
netagent
netconnection
void resetnetpreparedstatement netagent netagent  netconnection netconnection  string sql  int type  int concurrency  int holdability  int autogeneratedkeys  string columnnames  throws sqlexception
preparedstatement_ resetpreparedstatement netagent  netconnection  sql  type  concurrency  holdability  autogeneratedkeys  columnnames
resetnetpreparedstatement preparedstatement_  netagent  netconnection
/**
*
* the constructor for the netpreparedstatement class. for jdbc 3.0
* positioned updates.it has the clientpooledconnection as one of
* its parameters this is used to raise the statement events when the
* prepared statement is closed.
*
* @param netagent the instance of netagent associated with this
*              callablestatement object.
* @param netconnection the connection object associated with this
*                      preparedstatement object.
* @param sql           a string object that is the sql statement to be
*                      sent to the database.
* @param section
* @param cpc the clientpooledconnection wraps the underlying physical
*            connection associated with this prepared statement
*            it is used to pass the statement closed and the statement
*            error occurred events that occur back to the
*            clientpooledconnection
* @throws sqlexception
*
*/
netpreparedstatement netagent netagent
netconnection netconnection
string sql
section section clientpooledconnection cpc
throws sqlexception
this clientdriver getfactory   newpreparedstatement netagent
netconnection  sql  section cpc
netagent
netconnection
void resetnetpreparedstatement netagent netagent
netconnection netconnection
string sql
section section  throws sqlexception
preparedstatement_ resetpreparedstatement netagent  netconnection  sql  section
resetnetpreparedstatement preparedstatement_  netagent  netconnection
void resetnetpreparedstatement netagent netagent
netconnection netconnection
string sql
section section
columnmetadata parametermetadata
columnmetadata resultsetmetadata  throws sqlexception
preparedstatement_ resetpreparedstatement netagent  netconnection  sql  section  parametermetadata  resultsetmetadata
this resetnetpreparedstatement preparedstatement_  netagent  netconnection
protected void finalize   throws java lang throwable
super finalize
public void writeexecute_ section section
columnmetadata parametermetadata
object inputs
int numinputcolumns
boolean outputexpected
// this is a hint to the material layer that more write commands will follow.
// it is ignored by the driver in all cases except when blob data is written,
// in which case this boolean is used to optimize the implementation.
// otherwise we wouldn't be able to chain after blob data is sent.
// if we could always chain a no-op ddm after every execute that writes blobs
// then we could just always set the chaining flag to on for blob send data
boolean chainedwritesfollowingsetlob  throws sqlexception
netagent_ statementrequest_ writeexecute this
section
parametermetadata
inputs
numinputcolumns
outputexpected
chainedwritesfollowingsetlob
public void readexecute_   throws sqlexception
netagent_ statementreply_ readexecute preparedstatement_
public void writeopenquery_ section section
int fetchsize
int resultsettype
int numinputcolumns
columnmetadata parametermetadata
object inputs  throws sqlexception
netagent_ statementrequest_ writeopenquery this
section
fetchsize
resultsettype
numinputcolumns
parametermetadata
inputs
// super.readopenquery()
public void writedescribeinput_ section section  throws sqlexception
netagent_ statementrequest_ writedescribeinput this  section
public void readdescribeinput_   throws sqlexception
netagent_ statementreply_ readdescribeinput preparedstatement_
public void writedescribeoutput_ section section  throws sqlexception
netagent_ statementrequest_ writedescribeoutput this  section
public void readdescribeoutput_   throws sqlexception
netagent_ statementreply_ readdescribeoutput preparedstatement_