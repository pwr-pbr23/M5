/*
derby - class nserverdemo.networkserverutil
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package nserverdemo
import java util properties
import java sql sqlexception
import java sql drivermanager
import java io ioexception
import java sql statement
import java sql resultset
import java sql sqlexception
import java sql sqlwarning
import java io printwriter
import java net inetaddress
import org apache derby drda networkservercontrol    derby network server
import java io fileoutputstream
/**
* class for starting the derby networkserver on a separate thread.
* this class provides methods to start, and shutdown the server
*/
public class networkserverutil
private int portnum
private networkservercontrol servercontrol
private printwriter pw
public networkserverutil int port  printwriter pw
this portnum   port
this pw   pw
try
servercontrol   new
networkservercontrol inetaddress getbyname     port
pw println
catch  exception e
e printstacktrace
/**
* trace utility of server
*/
public void trace boolean onoff
try
servercontrol trace onoff
catch  exception e
e printstacktrace
/**
* try to test for a connection
* throws exception if unable to get a connection
*/
public void testforconnection
throws exception
servercontrol ping
/**
* shutdown the networkserver
*/
public void shutdown
try
servercontrol shutdown
catch  exception e
e printstacktrace
/**
* start derby network server
*
*/
public void start
try
servercontrol start pw
catch  exception e
e printstacktrace