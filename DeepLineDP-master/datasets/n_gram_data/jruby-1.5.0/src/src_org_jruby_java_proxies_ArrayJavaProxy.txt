package org jruby java proxies
import org jruby ruby
import org jruby rubyclass
import org jruby rubyfixnum
import org jruby rubyinteger
import org jruby rubymodule
import org jruby rubyrange
import org jruby anno jrubymethod
import org jruby internal runtime methods dynamicmethod
import org jruby javasupport javaarray
import org jruby javasupport javaclass
import org jruby javasupport javautil
import org jruby javasupport util runtimehelpers
import org jruby runtime block
import org jruby runtime objectallocator
import org jruby runtime threadcontext
import org jruby runtime visibility
import org jruby runtime builtin irubyobject
public class arrayjavaproxy extends javaproxy
public arrayjavaproxy ruby runtime  rubyclass klazz
super runtime  klazz
public static rubyclass createarrayjavaproxy threadcontext context
ruby runtime   context getruntime
rubyclass arrayjavaproxy   runtime defineclass
runtime getjavasupport   getjavaproxyclass
new objectallocator
public irubyobject allocate ruby runtime  rubyclass klazz
return new arrayjavaproxy runtime  klazz
rubyclass singleton   arrayjavaproxy getsingletonclass
final dynamicmethod oldnew   singleton searchmethod
singleton addmethod    new arraynewmethod singleton  visibility public  oldnew
arrayjavaproxy defineannotatedmethods arrayjavaproxy class
arrayjavaproxy includemodule runtime getenumerable
return arrayjavaproxy
public javaarray getjavaarray
return  javaarray datagetstruct
@jrubymethod name          backtrace   true
public irubyobject length
return getjavaarray   length
@jrubymethod name      backtrace   true
public irubyobject empty threadcontext context
return rubyfixnum zero context getruntime    eql_p getjavaarray   length
@jrubymethod name      backtrace   true
public irubyobject op_aref threadcontext context  irubyobject arg
if  arg instanceof rubyinteger
int index    int   rubyinteger arg  getlongvalue
return getjavaarray   arefdirect index
else
return getrange context  arg
@jrubymethod name      required   1  rest   true  backtrace   true
public irubyobject op_aref threadcontext context  irubyobject args
if  args length    1    args instanceof rubyinteger
int index    int   rubyinteger args  getlongvalue
return getjavaarray   arefdirect index
else
return getrange context  args
@jrubymethod name      backtrace   true
public irubyobject op_aset threadcontext context  irubyobject index  irubyobject value
object converted   value tojava getjavaarray   getcomponenttype
getjavaarray   setwithexceptionhandling  int index converttointeger   getlongvalue    converted
return value
@jrubymethod backtrace   true
public irubyobject at threadcontext context  irubyobject indexobj
rubyfixnum lengthf   getjavaarray   length
rubyinteger indexi   indexobj converttointeger
if  indexi getlongvalue   < 0
indexi   rubyfixnum newfixnum context getruntime    indexi getlongvalue     lengthf getlongvalue
long index   indexi getlongvalue
if  index >  0    index < lengthf getlongvalue
return getjavaarray   arefdirect  int indexi getlongvalue
else
return context getruntime   getnil
@jrubymethod name      backtrace   true
public irubyobject op_plus threadcontext context  irubyobject other
javaclass arrayclass   javaclass get context getruntime    getjavaarray   getcomponenttype
if  other instanceof arrayjavaproxy
javaarray otherarray     arrayjavaproxy other  getjavaarray
if  getjavaarray   getcomponenttype   isassignablefrom otherarray getcomponenttype
return arrayclass concatarrays context  getjavaarray    otherarray
return arrayclass concatarrays context  getjavaarray    other
@jrubymethod backtrace   true
public irubyobject each threadcontext context  block block
int length    int getjavaarray   length   getlongvalue
for  int i   0  i < length  i
irubyobject rubyobj   getjavaarray   arefdirect i
block yield context  rubyobj
return this
@jrubymethod name          backtrace   true
public irubyobject to_a threadcontext context
rubymodule javaarrayutilities   context getruntime   getjavasupport   getjavaarrayutilitiesmodule
return runtimehelpers invoke context  javaarrayutilities     this
public irubyobject getrange threadcontext context  irubyobject args
if  args length    1
return getrange context  args
else if  args length    2
return getrange context  args  args
else
throw context getruntime   newargumenterror args length  1
public irubyobject getrange threadcontext context  irubyobject arg0
int length    int getjavaarray   length   getlongvalue
javaclass arrayclass   javaclass get context getruntime    getjavaarray   getcomponenttype
if  arg0 instanceof rubyrange
rubyrange range    rubyrange arg0
if  range first   instanceof rubyfixnum    range last   instanceof rubyfixnum
int first    int   rubyfixnum range first    getlongvalue
int last    int   rubyfixnum range last    getlongvalue
first   first >  0 ? first   length   first
last   last >  0 ? last   length   last
int newlength   last   first
if  range exclude_end_p   isfalse    newlength    1
if  newlength <  0
return arrayclass emptyjavaarray context
return arrayclass javaarraysubarray context  getjavaarray    first  newlength
else
throw context getruntime   newtypeerror
else
throw context getruntime   newtypeerror arg0  context getruntime   getrange
public irubyobject getrange threadcontext context  irubyobject firstobj  irubyobject lengthobj
javaclass arrayclass   javaclass get context getruntime    getjavaarray   getcomponenttype
if  firstobj instanceof rubyfixnum    lengthobj instanceof rubyfixnum
int first    int   rubyfixnum firstobj  getlongvalue
int length    int   rubyfixnum lengthobj  getlongvalue
if  length > getjavaarray   length   getlongvalue
throw context getruntime   newindexerror
first   first >  0 ? first    int getjavaarray   length   getlongvalue     first
if  length <  0
return arrayclass emptyjavaarray context
return arrayclass javaarraysubarray context  getjavaarray    first  length
else
throw context getruntime   newtypeerror
public static class arraynewmethod extends org jruby internal runtime methods javamethod javamethodone
private dynamicmethod oldnew
public arraynewmethod rubymodule implclass  visibility visibility  dynamicmethod oldnew
super implclass  visibility
this oldnew   oldnew
@override
public irubyobject call threadcontext context  irubyobject self  rubymodule clazz  string name  irubyobject arg0
ruby runtime   context getruntime
irubyobject proxy   oldnew call context  self  clazz
if  arg0 instanceof javaarray
proxy datawrapstruct arg0
return proxy
else
throw runtime newtypeerror arg0  runtime getjavasupport   getjavaarrayclass
@deprecated
public irubyobject at int index
return getjavaarray   at index