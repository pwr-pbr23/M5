/*
* licensed to the apache software foundation (asf) under one
* or more contributor license agreements.  see the notice file
* distributed with this work for additional information
* regarding copyright ownership.  the asf licenses this file
* to you under the apache license, version 2.0 (the
* "license"); you may not use this file except in compliance
* with the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache hadoop hbase security token
import java io datainput
import java io dataoutput
import java io ioexception
import org apache hadoop io text
import org apache hadoop io writableutils
import org apache hadoop security usergroupinformation
import org apache hadoop security token tokenidentifier
/**
* represents the identity information stored in an hbase authentication token.
*/
public class authenticationtokenidentifier extends tokenidentifier
public static final byte version   1
public static final text auth_token_type   new text
protected string username
protected int keyid
protected long issuedate
protected long expirationdate
protected long sequencenumber
public authenticationtokenidentifier
public authenticationtokenidentifier string username
this username   username
public authenticationtokenidentifier string username  int keyid
long issuedate  long expirationdate
this username   username
this keyid   keyid
this issuedate   issuedate
this expirationdate   expirationdate
@override
public text getkind
return auth_token_type
@override
public usergroupinformation getuser
if  username    null      equals username
return null
return usergroupinformation createremoteuser username
public string getusername
return username
void setusername string name
this username   name
public int getkeyid
return keyid
void setkeyid int id
this keyid   id
public long getissuedate
return issuedate
void setissuedate long timestamp
this issuedate   timestamp
public long getexpirationdate
return expirationdate
void setexpirationdate long timestamp
this expirationdate   timestamp
public long getsequencenumber
return sequencenumber
void setsequencenumber long seq
this sequencenumber   seq
@override
public void write dataoutput out  throws ioexception
out writebyte version
writableutils writestring out  username
writableutils writevint out  keyid
writableutils writevlong out  issuedate
writableutils writevlong out  expirationdate
writableutils writevlong out  sequencenumber
@override
public void readfields datainput in  throws ioexception
byte version   in readbyte
if  version    version
throw new ioexception
version   version
username   writableutils readstring in
keyid   writableutils readvint in
issuedate   writableutils readvlong in
expirationdate   writableutils readvlong in
sequencenumber   writableutils readvlong in
@override
public boolean equals object other
if  other    null
return false
if  other instanceof authenticationtokenidentifier
authenticationtokenidentifier ident    authenticationtokenidentifier other
return sequencenumber    ident getsequencenumber
keyid    ident getkeyid
issuedate    ident getissuedate
expirationdate    ident getexpirationdate
username    null ? ident getusername      null
username equals ident getusername
return false
@override
public int hashcode
return  int sequencenumber