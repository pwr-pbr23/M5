/**
* copyright 2010 the apache software foundation
*
* licensed to the apache software foundation (asf) under one
* or more contributor license agreements.  see the notice file
* distributed with this work for additional information
* regarding copyright ownership.  the asf licenses this file
* to you under the apache license, version 2.0 (the
* "license"); you may not use this file except in compliance
* with the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache hadoop hbase ipc
import java io ioexception
import org apache hadoop hbase hserverload
import org apache hadoop hbase servername
import org apache hadoop hbase security kerberosinfo
import org apache hadoop io mapwritable
import org apache hadoop hbase ipc versionedprotocol
/**
* the master publishes this interface for regionservers to register themselves
* on.
*/
@kerberosinfo
serverprincipal
clientprincipal
public interface hmasterregioninterface extends versionedprotocol
/**
* this interfaces' version. version changes when the interface changes.
*/
// all hbase interfaces used derive from hbaserpcprotocolversion.  it
// maintained a single global version number on all hbase interfaces.  this
// meant all hbase rpc was broke though only one of the three rpc interfaces
// had changed.  this has since been undone.
public static final long version   29l
/**
* called when a region server first starts.
* @param port port number this regionserver is up on.
* @param serverstartcode this servers' startcode.
* @param servercurrenttime the current time of the region server in ms
* @throws ioexception e
* @return configuration for the regionserver to use: e.g. filesystem,
* hbase rootdir, the hostname to use creating the regionserver servername,
* etc.
*/
public mapwritable regionserverstartup final int port
final long serverstartcode  final long servercurrenttime
throws ioexception
/**
* @param sn {@link servername#getversionedbytes()}
* @param hsl server load.
* @throws ioexception
*/
public void regionserverreport byte  sn  hserverload hsl
throws ioexception
/**
* called by a region server to report a fatal error that is causing
* it to abort.
* @param sn {@link servername#getversionedbytes()}
* @param errormessage informative text to expose in the master logs and ui
*/
public void reportrsfatalerror byte  sn  string errormessage