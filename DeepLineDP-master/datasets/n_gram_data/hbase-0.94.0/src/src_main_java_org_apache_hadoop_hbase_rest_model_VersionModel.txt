/*
* copyright 2010 the apache software foundation
*
* licensed to the apache software foundation (asf) under one
* or more contributor license agreements.  see the notice file
* distributed with this work for additional information
* regarding copyright ownership.  the asf licenses this file
* to you under the apache license, version 2.0 (the
* "license"); you may not use this file except in compliance
* with the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache hadoop hbase rest model
import java io ioexception
import java io serializable
import javax servlet servletcontext
import javax xml bind annotation xmlattribute
import javax xml bind annotation xmlrootelement
import org apache hadoop hbase rest protobufmessagehandler
import org apache hadoop hbase rest restservlet
import org apache hadoop hbase rest protobuf generated versionmessage version
import com sun jersey spi container servlet servletcontainer
/**
* a representation of the collection of versions of the rest gateway software
* components.
* <ul>
* <li>restversion: rest gateway revision</li>
* <li>jvmversion: the jvm vendor and version information</li>
* <li>osversion: the os type, version, and hardware architecture</li>
* <li>serverversion: the name and version of the servlet container</li>
* <li>jerseyversion: the version of the embedded jersey framework</li>
* </ul>
*/
@xmlrootelement name
public class versionmodel implements serializable  protobufmessagehandler
private static final long serialversionuid   1l
private string restversion
private string jvmversion
private string osversion
private string serverversion
private string jerseyversion
/**
* default constructor. do not use.
*/
public versionmodel
/**
* constructor
* @param context the servlet context
*/
public versionmodel servletcontext context
restversion   restservlet version_string
jvmversion   system getproperty
system getproperty
system getproperty
osversion   system getproperty
system getproperty
system getproperty
serverversion   context getserverinfo
jerseyversion   servletcontainer class getpackage
getimplementationversion
/**
* @return the rest gateway version
*/
@xmlattribute name
public string getrestversion
return restversion
/**
* @return the jvm vendor and version
*/
@xmlattribute name
public string getjvmversion
return jvmversion
/**
* @return the os name, version, and hardware architecture
*/
@xmlattribute name
public string getosversion
return osversion
/**
* @return the servlet container version
*/
@xmlattribute name
public string getserverversion
return serverversion
/**
* @return the version of the embedded jersey framework
*/
@xmlattribute name
public string getjerseyversion
return jerseyversion
/**
* @param version the rest gateway version string
*/
public void setrestversion string version
this restversion   version
/**
* @param version the os version string
*/
public void setosversion string version
this osversion   version
/**
* @param version the jvm version string
*/
public void setjvmversion string version
this jvmversion   version
/**
* @param version the servlet container version string
*/
public void setserverversion string version
this serverversion   version
/**
* @param version the jersey framework version string
*/
public void setjerseyversion string version
this jerseyversion   version
/* (non-javadoc)
* @see java.lang.object#tostring()
*/
@override
public string tostring
stringbuilder sb   new stringbuilder
sb append
sb append restversion
sb append
sb append jvmversion
sb append
sb append osversion
sb append
sb append serverversion
sb append
sb append jerseyversion
sb append
return sb tostring
@override
public byte createprotobufoutput
version builder builder   version newbuilder
builder setrestversion restversion
builder setjvmversion jvmversion
builder setosversion osversion
builder setserverversion serverversion
builder setjerseyversion jerseyversion
return builder build   tobytearray
@override
public protobufmessagehandler getobjectfrommessage byte message
throws ioexception
version builder builder   version newbuilder
builder mergefrom message
if  builder hasrestversion
restversion   builder getrestversion
if  builder hasjvmversion
jvmversion   builder getjvmversion
if  builder hasosversion
osversion   builder getosversion
if  builder hasserverversion
serverversion   builder getserverversion
if  builder hasjerseyversion
jerseyversion   builder getjerseyversion
return this