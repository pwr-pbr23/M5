package org apache solr search function distance
/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
import org apache lucene index indexreader
import org apache lucene search spell stringdistance
import org apache solr search function docvalues
import org apache solr search function valuesource
import java io ioexception
import java util map
/**
*
*
**/
public class stringdistancefunction extends valuesource
protected valuesource str1  str2
protected stringdistance dist
/**
* @param str1
* @param str2
* @param measure
*/
public stringdistancefunction valuesource str1  valuesource str2  stringdistance measure
this str1   str1
this str2   str2
dist   measure
@override
public docvalues getvalues map context  indexreader reader  throws ioexception
final docvalues str1dv   str1 getvalues context  reader
final docvalues str2dv   str2 getvalues context  reader
return new docvalues
@override
public float floatval int doc
return dist getdistance str1dv strval doc   str2dv strval doc
@override
public int intval int doc
return  int  doubleval doc
@override
public long longval int doc
return  long  doubleval doc
@override
public double doubleval int doc
return  double  floatval doc
@override
public string tostring int doc
stringbuilder sb   new stringbuilder
sb append    append
sb append str1dv tostring doc   append    append str2dv tostring doc
append    append dist getclass   getname
sb append
return sb tostring
@override
public string description
stringbuilder sb   new stringbuilder
sb append    append
sb append str1  append    append str2  append    append dist getclass   getname
sb append
return sb tostring
@override
public boolean equals object o
if  this    o  return true
if    o instanceof stringdistancefunction   return false
stringdistancefunction that    stringdistancefunction  o
if   dist equals that dist   return false
if   str1 equals that str1   return false
if   str2 equals that str2   return false
return true
@override
public int hashcode
int result   str1 hashcode
result   31   result   str2 hashcode
result   31   result   dist hashcode
return result