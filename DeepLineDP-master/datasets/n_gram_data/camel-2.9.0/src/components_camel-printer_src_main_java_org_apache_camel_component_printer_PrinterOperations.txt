/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component printer
import java io file
import java io fileoutputstream
import java io inputstream
import java util uuid
import javax print doc
import javax print docflavor
import javax print docprintjob
import javax print printexception
import javax print printservice
import javax print printservicelookup
import javax print attribute hashprintrequestattributeset
import javax print attribute printrequestattributeset
import javax print attribute standard copies
import javax print attribute standard mediasizename
import javax print attribute standard sides
import org apache camel util iohelper
import org slf4j logger
import org slf4j loggerfactory
public class printeroperations implements printeroperationsinterface
private static final transient logger log   loggerfactory getlogger printeroperations class
private printservice printservice
private docprintjob job
private docflavor flavor
private printrequestattributeset printrequestattributeset
private doc doc
public printeroperations   throws printexception
printservice   printservicelookup lookupdefaultprintservice
if  printservice    null
throw new printexception
job   printservice createprintjob
flavor   docflavor byte_array autosense
printrequestattributeset   new hashprintrequestattributeset
printrequestattributeset add new copies 1
printrequestattributeset add mediasizename na_letter
printrequestattributeset add sides one_sided
public printeroperations printservice printservice  docprintjob job  docflavor flavor  printrequestattributeset printrequestattributeset  throws printexception
this
this setprintservice printservice
this setjob job
this setflavor flavor
this setprintrequestattributeset printrequestattributeset
public void print doc doc  int copies  boolean sendtoprinter  string mimetype  throws printexception
log trace     this printservice getname
log trace     copies
for  int i   0  i < copies  i
if   sendtoprinter
log debug
file file
if  mimetype equalsignorecase       mimetype equalsignorecase
file   new file     i       uuid randomuuid
else if  mimetype equalsignorecase
file   new file     i       uuid randomuuid
else if  mimetype equalsignorecase
file   new file     i       uuid randomuuid
else
file   new file     i       uuid randomuuid
log debug     file getabsolutepath
try
inputstream in   doc getstreamforbytes
fileoutputstream fos   new fileoutputstream file
iohelper copyandcloseinput in  fos
iohelper close fos
catch  exception e
throw new printexception     file getabsolutepath
else
if  log isdebugenabled
log debug    i  this printservice getname
print doc
public void print doc doc  throws printexception
job print doc  printrequestattributeset
public printservice getprintservice
return printservice
public void setprintservice printservice printservice
this printservice   printservice
public docprintjob getjob
return job
public void setjob docprintjob job
this job   job
public docflavor getflavor
return flavor
public void setflavor docflavor flavor
this flavor   flavor
public printrequestattributeset getprintrequestattributeset
return printrequestattributeset
public void setprintrequestattributeset printrequestattributeset printrequestattributeset
this printrequestattributeset   printrequestattributeset
public doc getdoc
return doc
public void setdoc doc doc
this doc   doc