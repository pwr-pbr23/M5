/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel impl
import java util arraylist
import java util hashmap
import java util list
import java util map
import org apache camel endpoint
import org apache camel route
import org apache camel service
import org apache camel spi routecontext
import org apache camel support servicesupport
/**
* default implementation of {@link route}.
* <p/>
* use the api from {@link org.apache.camel.camelcontext} to control the lifecycle of a route,
* such as starting and stopping using the {@link org.apache.camel.camelcontext#startroute(string)}
* and {@link org.apache.camel.camelcontext#stoproute(string)} methods.
*
* @version
*/
public abstract class defaultroute extends servicesupport implements route
private final endpoint endpoint
private final map<string  object> properties   new hashmap<string  object>
private final list<service> services   new arraylist<service>
private final routecontext routecontext
public defaultroute routecontext routecontext  endpoint endpoint
this routecontext   routecontext
this endpoint   endpoint
public defaultroute routecontext routecontext  endpoint endpoint  service    services
this routecontext  endpoint
for  service service   services
addservice service
@override
public string tostring
return     getid
public string getid
return  string  properties get route id_property
public endpoint getendpoint
return endpoint
public routecontext getroutecontext
return routecontext
public map<string  object> getproperties
return properties
public void onstartingservices list<service> services  throws exception
addservices services
public list<service> getservices
return services
public void addservice service service
getservices   add service
/**
* do not invoke this method directly, use {@link org.apache.camel.camelcontext#startroute(string)} to start a route.
*/
@override
public void start   throws exception
super start
/**
* do not invoke this method directly, use {@link org.apache.camel.camelcontext#stoproute(string)} to stop a route.
*/
@override
public void stop   throws exception
super stop
/**
* strategy method to allow derived classes to lazily load services for the route
*/
protected void addservices list<service> services  throws exception
protected void dostart   throws exception
// noop
protected void dostop   throws exception
// clear services when stopping
services clear