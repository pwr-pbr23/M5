/***** begin license block *****
* version: cpl 1.0/gpl 2.0/lgpl 2.1
*
* the contents of this file are subject to the common public
* license version 1.0 (the "license"); you may not use this file
* except in compliance with the license. you may obtain a copy of
* the license at http://www.eclipse.org/legal/cpl-v10.html
*
* software distributed under the license is distributed on an "as
* is" basis, without warranty of any kind, either express or
* implied. see the license for the specific language governing
* rights and limitations under the license.
*
* copyright (c) 2007 charles o nutter <headius@headius.com>
*
* alternatively, the contents of this file may be used under the terms of
* either of the gnu general public license version 2 or later (the "gpl"),
* or the gnu lesser general public license version 2.1 or later (the "lgpl"),
* in which case the provisions of the gpl or the lgpl are applicable instead
* of those above. if you wish to allow use of your version of this file only
* under the terms of either the gpl or the lgpl, and not to allow others to
* use your version of this file under the terms of the cpl, indicate your
* decision by deleting the provisions above and replace them with the notice
* and other provisions required by the gpl or the lgpl. if you do not delete
* the provisions above, a recipient may use your version of this file under
* the terms of any one of the cpl, the gpl or the lgpl.
***** end license block *****/
package org jruby util
import org jcodings encoding
import org jruby ruby
import org jruby runtime builtin irubyobject
public final class kcode
public static final kcode nil   new kcode null     0
public static final kcode none   new kcode       0
public static final kcode utf8   new kcode       64
public static final kcode sjis   new kcode       48
public static final kcode euc   new kcode       32
private final string kcode
private final string encodingname
private final int code
private volatile encoding encoding
private kcode string kcode  string encodingname  int code
this kcode   kcode
this encodingname   encodingname
this code   code
public static kcode create ruby runtime  string lang
if  lang    null  return nil
if  lang length      0  return none
switch  lang charat 0
case
case
return euc
case
case
return sjis
case
case
return utf8
case
case
case
case
return none
return nil
public irubyobject kcode ruby runtime
return kcode    null ? runtime getnil     runtime newstring kcode
public string getkcode
return kcode
public int bits
return code
public string name
return kcode    null ? kcode tolowercase     null
public encoding getencoding
if  encoding    null
encoding   encoding load encodingname
return encoding
@override
public string tostring
return name