/*
***** begin license block *****
* version: cpl 1.0/gpl 2.0/lgpl 2.1
*
* the contents of this file are subject to the common public
* license version 1.0 (the "license"); you may not use this file
* except in compliance with the license. you may obtain a copy of
* the license at http://www.eclipse.org/legal/cpl-v10.html
*
* software distributed under the license is distributed on an "as
* is" basis, without warranty of any kind, either express or
* implied. see the license for the specific language governing
* rights and limitations under the license.
*
* copyright (c) 2002 jan arne petersen <jpetersen@uni-bonn.de>
* copyright (c) 2002 benoit cerrina <b.cerrina@wanadoo.fr>
* copyright (c) 2002-2004 anders bengtsson <ndrsbngtssn@yahoo.se>
* copyright (c) 2004-2005 thomas e enebo <enebo@acm.org>
*
* alternatively, the contents of this file may be used under the terms of
* either of the gnu general public license version 2 or later (the "gpl"),
* or the gnu lesser general public license version 2.1 or later (the "lgpl"),
* in which case the provisions of the gpl or the lgpl are applicable instead
* of those above. if you wish to allow use of your version of this file only
* under the terms of either the gpl or the lgpl, and not to allow others to
* use your version of this file under the terms of the cpl, indicate your
* decision by deleting the provisions above and replace them with the notice
* and other provisions required by the gpl or the lgpl. if you do not delete
* the provisions above, a recipient may use your version of this file under
* the terms of any one of the cpl, the gpl or the lgpl.
***** end license block *****/
package org jruby ast
import java util list
import org jruby ruby
import org jruby rubyarray
import org jruby ast util argsutil
import org jruby ast visitor nodevisitor
import org jruby evaluator astinterpreter
import org jruby evaluator assignmentvisitor
import org jruby javasupport util runtimehelpers
import org jruby lexer yacc isourceposition
import org jruby runtime arity
import org jruby runtime block
import org jruby runtime threadcontext
import org jruby runtime builtin irubyobject
public class multipleasgnnode extends assignablenode
private final listnode pre
private final node rest
public multipleasgnnode isourceposition position  listnode pre  node rest
super position
this pre   pre
this rest   rest
public nodetype getnodetype
return nodetype multipleasgnnode
/**
* accept for the visitor pattern.
* @param ivisitor the visitor
**/
public object accept nodevisitor ivisitor
return ivisitor visitmultipleasgnnode this
/**
* gets the headnode.
* @return returns a listnode
*/
public listnode getheadnode
return pre
public listnode getpre
return pre
public int getprecount
return pre    null ? 0   pre size
/**
* gets the argsnode.
* @return returns a inode
*/
public node getargsnode
return rest
public node getrest
return rest
/**
* number of arguments is dependent on headnodes size
*/
@override
public arity getarity
if  rest    null
return arity required pre    null ? 0   pre size
return arity fixed pre size
public list<node> childnodes
return node createlist pre  rest  getvaluenode
@override
public irubyobject interpret ruby runtime  threadcontext context  irubyobject self  block ablock
switch  getvaluenode   getnodetype
case arraynode
arraynode ivisited2    arraynode  getvaluenode
return astinterpreter multipleasgnarraynode runtime  context  this  ivisited2  self  ablock
case splatnode
splatnode splatnode    splatnode  getvaluenode
rubyarray rubyarray   runtimehelpers splatvalue splatnode getvalue   interpret runtime  context  self  ablock
return assignmentvisitor multiassign runtime  context  self  this  rubyarray  false
default
irubyobject value   getvaluenode   interpret runtime  context  self  ablock
if    value instanceof rubyarray
value   rubyarray newarray runtime  value
return assignmentvisitor multiassign runtime  context  self  this   rubyarray value  false
@override
public irubyobject assign ruby runtime  threadcontext context  irubyobject self  irubyobject value  block block  boolean checkarity
if    value instanceof rubyarray
value   argsutil converttorubyarray runtime  value  pre    null
return assignmentvisitor multiassign runtime  context  self  this   rubyarray  value  checkarity