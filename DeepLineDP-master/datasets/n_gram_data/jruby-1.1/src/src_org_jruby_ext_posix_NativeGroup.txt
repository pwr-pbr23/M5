package org jruby ext posix
import java util arraylist
import java util list
import com sun jna structure
import com sun jna stringarray
import com sun jna
import com sun jna ptr pointerbyreference
public class nativegroup extends structure implements group
public string gr_name       name
public string gr_passwd     group password  encrypted
public int gr_gid           group id
public pointer gr_mem
public string getname
return gr_name
public string getpassword
return gr_passwd
public long getgid
return gr_gid
public string getmembers
int size   pointer size
int i 0
list<string> lst   new arraylist<string>
while gr_mem getpointer i     null
lst add gr_mem getpointer i  getstring 0
i  size
return lst toarray new string