package org jruby util string
/**
* uchariterator - an iterator on unicode characters in a utf-8 byte array.
*
* <p>a conventional iterator, remove() is not supported, and there's an extra
* nextchar() method that returns a naked int as opposed to a wrapped integer.
* </p>
*
* @see org.jruby.util.string.ustr
*/
public class uchariterator implements java util iterator  java io serializable
private static final long serialversionuid    2821982911687539515l
private ustr u
private int next
/**
* creates a new uchariterator starting at an offset in a buffer.
*
* @param s the byte array containing utf-8-encoded unicode characters.
* @param offset how far into the array to start iterating.
*/
public uchariterator byte s  int offset
u   new ustr s  offset
u preparenext
next   u nextchar
/**
* tests whether there are any more characters in the buffer.
*
* @return true or false depending on whether there are more characters.
*/
public boolean hasnext
return  next    0
/**
* retrieve the next unicode character from a utf-8 byte buffer, wrapped
* in an integer object. throws nosuchelementexception if hasnext
* would return false.
*
* @return the next unicode character as a java.lang.integer
* @throws nosuchelementexception
*/
public object next
if  next    0
throw new java util nosuchelementexception
integer i   new integer next
next   u nextchar
return i
/**
* retrieve the next unicode character from a utf-8 byte buffer and return
* it as an int.  once the null-termination is hit, returns 0 as many times
* as you want to call it.
*
* @return the next unicode character as an int, 0 on end-of-string.
*/
public int nextchar
int i   next
if  i    0
next   u nextchar
return i
/**
* throws an unsupportedoperationexception.
*
* @throws unsupportedoperationexception
*/
public void remove
throw new unsupportedoperationexception