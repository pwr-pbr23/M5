/*
* to change this template, choose tools | templates
* and open the template in the editor.
*/
package org jruby anno
import java lang reflect method
import java lang reflect modifier
import org jruby runtime block
import org jruby runtime threadcontext
/**
*
* @author headius
*/
public class javamethoddescriptor
public final boolean isstatic
public final boolean hascontext
public final boolean hasblock
public final int actualrequired
public final int arity
public final int required
public final int optional
public final boolean rest
public final class parameters
public final jrubymethod anno
public final method method
public javamethoddescriptor method method
this method   method
anno   method getannotation jrubymethod class
isstatic   modifier isstatic method getmodifiers
parameters   method getparametertypes
if  parameters length > 0
hascontext   parameters    threadcontext class
hasblock   parameters    block class
else
hascontext   false
hasblock   false
optional   anno optional
rest   anno rest
required   anno required
if  optional    0     rest
int args   parameters length
if  args    0
actualrequired   0
else
if  isstatic  args
if  hascontext  args
if  hasblock  args
// todo: confirm expected args are irubyobject (or similar)
actualrequired   args
else
// optional args, so we have irubyobject[]
// todo: confirm
int args   parameters length
if  args    0
actualrequired   0
else
if  isstatic  args
if  hascontext  args
if  hasblock  args
// minus one more for irubyobject[]
args
// todo: confirm expected args are irubyobject (or similar)
actualrequired   args
if  actualrequired    0
throw new runtimeexception
int arityrequired   math max required  actualrequired
arity    optional > 0    rest  ?   arityrequired   1    arityrequired