/***** begin license block *****
* version: cpl 1.0/gpl 2.0/lgpl 2.1
*
* the contents of this file are subject to the common public
* license version 1.0 (the "license"); you may not use this file
* except in compliance with the license. you may obtain a copy of
* the license at http://www.eclipse.org/legal/cpl-v10.html
*
* software distributed under the license is distributed on an "as
* is" basis, without warranty of any kind, either express or
* implied. see the license for the specific language governing
* rights and limitations under the license.
*
* copyright (c) 2007 ola bini <ola@ologix.com>
*
* alternatively, the contents of this file may be used under the terms of
* either of the gnu general public license version 2 or later (the "gpl"),
* or the gnu lesser general public license version 2.1 or later (the "lgpl"),
* in which case the provisions of the gpl or the lgpl are applicable instead
* of those above. if you wish to allow use of your version of this file only
* under the terms of either the gpl or the lgpl, and not to allow others to
* use your version of this file under the terms of the cpl, indicate your
* decision by deleting the provisions above and replace them with the notice
* and other provisions required by the gpl or the lgpl. if you do not delete
* the provisions above, a recipient may use your version of this file under
* the terms of any one of the cpl, the gpl or the lgpl.
***** end license block *****/
package org jvyamlb
import java io inputstream
import java io bytearrayoutputstream
import java io outputstream
import java util iterator
import java util map
import java util hashmap
import java util list
import java util arraylist
import org jruby util bytelist
/**
* the combinatorial explosion class.
*
* @author <a href="mailto:ola.bini@ki.se">ola bini</a>
*/
public class yaml
public static final string default_scalar_tag
public static final string default_sequence_tag
public static final string default_mapping_tag
public static final map escape_replacements   new hashmap
static
escape_replacements put new character
escape_replacements put new character
escape_replacements put new character
escape_replacements put new character
escape_replacements put new character
escape_replacements put new character
escape_replacements put new character
escape_replacements put new character
escape_replacements put new character
escape_replacements put new character '
escape_replacements put new character
escape_replacements put new character
public static yamlconfig config
return defaultconfig
public static yamlconfig defaultconfig
return new defaultyamlconfig
public static bytelist dump final object data
return dump data config
public static bytelist dump final object data  final yamlfactory fact
return dump data fact  config
public static bytelist dump final object data  final yamlconfig cfg
final list lst   new arraylist 1
lst add data
return dumpall lst cfg
public static bytelist dump final object data  final yamlfactory fact  final yamlconfig cfg
final list lst   new arraylist 1
lst add data
return dumpall lst fact cfg
public static bytelist dumpall final list data
return dumpall data config
public static bytelist dumpall final list data  final yamlfactory fact
return dumpall data fact config
public static bytelist dumpall final list data  final yamlconfig cfg
final bytearrayoutputstream swe   new bytearrayoutputstream
dumpall data swe cfg
return new bytelist swe tobytearray   false
public static bytelist dumpall final list data  final yamlfactory fact  final yamlconfig cfg
final bytearrayoutputstream swe   new bytearrayoutputstream
dumpall data swe fact cfg
return new bytelist swe tobytearray   false
public static void dump final object data  final outputstream output
dump data output config
public static void dump final object data  final outputstream output  yamlfactory fact
dump data output fact config
public static void dump final object data  final outputstream output  final yamlconfig cfg
final list lst   new arraylist 1
lst add data
dumpall lst output cfg
public static void dump final object data  final outputstream output  final yamlfactory fact  final yamlconfig cfg
final list lst   new arraylist 1
lst add data
dumpall lst output fact cfg
public static void dumpall final list data  final outputstream output
dumpall data output config
public static void dumpall final list data  final outputstream output  final yamlfactory fact
dumpall data output fact config
public static void dumpall final list data  final outputstream output  final yamlconfig cfg
dumpall data output new defaultyamlfactory   cfg
public static void dumpall final list data  final outputstream output  final yamlfactory fact  final yamlconfig cfg
final serializer s   fact createserializer fact createemitter output cfg  fact createresolver   cfg
try
s open
final representer r   fact createrepresenter s cfg
for final iterator iter   data iterator    iter hasnext
r represent iter next
catch final java io ioexception e
throw new yamlexception e
finally
try   s close      catch final java io ioexception e
public static object load final bytelist io
return load io  new defaultyamlfactory   config
public static object load final inputstream io
return load io  new defaultyamlfactory   config
public static object load final bytelist io  final yamlconfig cfg
return load io  new defaultyamlfactory   cfg
public static object load final inputstream io  final yamlconfig cfg
return load io  new defaultyamlfactory   cfg
public static object load final bytelist io  final yamlfactory fact  final yamlconfig cfg
final constructor ctor   fact createconstructor fact createcomposer fact createparser fact createscanner io  cfg  fact createresolver
if ctor checkdata
return ctor getdata
else
return null
public static object load final inputstream io  final yamlfactory fact  final yamlconfig cfg
final constructor ctor   fact createconstructor fact createcomposer fact createparser fact createscanner io  cfg  fact createresolver
if ctor checkdata
return ctor getdata
else
return null
public static list loadall final bytelist io
return loadall io  new defaultyamlfactory   config
public static list loadall final inputstream io
return loadall io  new defaultyamlfactory   config
public static list loadall final bytelist io  final yamlconfig cfg
return loadall io  new defaultyamlfactory   cfg
public static list loadall final inputstream io  final yamlconfig cfg
return loadall io  new defaultyamlfactory   cfg
public static list loadall final bytelist io  final yamlfactory fact  final yamlconfig cfg
final list result   new arraylist
final constructor ctor   fact createconstructor fact createcomposer fact createparser fact createscanner io  cfg  fact createresolver
while ctor checkdata
result add ctor getdata
return result
public static list loadall final inputstream io  final yamlfactory fact  final yamlconfig cfg
final list result   new arraylist
final constructor ctor   fact createconstructor fact createcomposer fact createparser fact createscanner io  cfg  fact createresolver
while ctor checkdata
result add ctor getdata
return result
public static void main final string args
system err println yaml load new bytelist   getbytes
yaml