/*
* codegenutils.java
*
* created on january 31, 2007, 11:54 am
*
* to change this template, choose tools | template manager
* and open the template in the editor.
*/
package org jruby util
import java util arrays
/**
*
* @author headius
*/
public class codegenutils
/**
* creates a dotted class name from a path/package name
*/
public static string c string p
return p replace
/**
* creates a class path name, from a class.
*/
public static string p class n
return n getname   replace
/**
* creates a class identifier of form labc/abc;, from a class.
*/
public static string ci class n
if  n isarray
n   n getcomponenttype
if  n isprimitive
if  n    byte type
return
else if  n    boolean type
return
else if  n    integer type
return
else if  n    double type
return
else if  n    long type
return
else
throw new runtimeexception     n getname
else
return     ci n
else
if  n isprimitive
if  n    byte type
return
else if  n    boolean type
return
else if  n    integer type
return
else if  n    double type
return
else if  n    long type
return
else if  n    void type
return
else
throw new runtimeexception     n getname
else
return     p n
/**
* create a method signature from the given param types and return values
*/
public static string sig class retval  class    params
stringbuffer signature   new stringbuffer
for  int i   0  i < params length  i
signature append ci params
signature append    append ci retval
return signature tostring
/**
* create a method signature with just a return value
*/
public static string sig class retval
stringbuffer signature   new stringbuffer
signature append ci retval
return signature tostring
public static class params class    classes
return classes
public static class params class cls  int times
class classes   new class
arrays fill classes  cls
return classes
public static class params class cls1  class clsfill  int times
class classes   new class
arrays fill classes  clsfill
classes   cls1
return classes