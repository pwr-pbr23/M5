/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component bean
import org apache camel camelcontext
import org apache camel processor
import org apache camel spi registry
import org apache camel util camelcontexthelper
import org apache camel util objecthelper
/**
* an implementation of a {@link beanholder} which will look up a bean from the registry and act as a cache of its metadata
*
* @version $revision$
*/
public class registrybean implements beanholder
private final camelcontext context
private final string name
private final registry registry
private processor processor
private beaninfo beaninfo
private object bean
private parametermappingstrategy parametermappingstrategy
public registrybean camelcontext context  string name
this context   context
this name   name
this registry   context getregistry
public registrybean camelcontext context  string name  parametermappingstrategy parametermappingstrategy
this context  name
this parametermappingstrategy   parametermappingstrategy
@override
public string tostring
return     name
public constantbeanholder createcacheholder   throws exception
return new constantbeanholder getbean    getbeaninfo
public object getbean   throws exception
object value   lookupbean
if  value    null
throw new nobeanavailableexception name
if  value    bean
bean   value
processor   null
if   objecthelper equal objecthelper type bean   objecthelper type value
beaninfo   null
return value
public processor getprocessor
if  processor    null    bean    null
processor   camelcontexthelper convertto context  processor class  bean
return processor
public beaninfo getbeaninfo
if  beaninfo    null    bean    null
this beaninfo   createbeaninfo
return beaninfo
public string getname
return name
public registry getregistry
return registry
public camelcontext getcontext
return context
public parametermappingstrategy getparametermappingstrategy
if  parametermappingstrategy    null
parametermappingstrategy   createparametermappingstrategy
return parametermappingstrategy
public void setparametermappingstrategy parametermappingstrategy parametermappingstrategy
this parametermappingstrategy   parametermappingstrategy
// implementation methods
//-------------------------------------------------------------------------
protected beaninfo createbeaninfo
return new beaninfo context  bean getclass    getparametermappingstrategy
protected parametermappingstrategy createparametermappingstrategy
return beaninfo createparametermappingstrategy context
protected object lookupbean   throws exception
return registry lookup name