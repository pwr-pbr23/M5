/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component jms
import javax jms destination
import javax jms jmsexception
import javax jms session
import javax jms temporarytopic
import org springframework jms core jmsoperations
import org springframework jms core sessioncallback
/**
* a <a href="http://activemq.apache.org/jms.html">jms endpoint</a>
* for working with a {@link temporarytopic}
*
* @version $revision$
*/
// todo need to be really careful to always use the same connection otherwise the destination goes stale
public class jmstemporarytopicendpoint extends jmsendpoint implements destinationendpoint
private destination jmsdestination
public jmstemporarytopicendpoint string uri  jmscomponent component  string destination  jmsconfiguration configuration
super uri  component  destination  true  configuration
public jmstemporarytopicendpoint string endpointuri  string destination
super endpointuri  destination
/**
* this endpoint is a singleton so that the temporary destination instances are shared across all
* producers and consumers of the same endpoint uri
*
* @return true
*/
public boolean issingleton
return true
public synchronized destination getjmsdestination session session  throws jmsexception
if  jmsdestination    null
jmsdestination   createjmsdestination session
return jmsdestination
protected destination createjmsdestination session session  throws jmsexception
return session createtemporarytopic