/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component ibatis
import java io ioexception
import java sql sqlexception
import java util list
import com ibatis sqlmap client sqlmapclient
import org apache camel message
import org apache camel pollingconsumer
import org apache camel producer
import org apache camel impl defaultpollingendpoint
/**
* an <a href="http://activemq.apache.org/camel/ibatis.html>ibatis endpoint</a>
* for performing sql operations using an xml mapping file to abstract away the sql
*
* @version $revision$
*/
public class ibatisendpoint extends defaultpollingendpoint
private final string entityname
public ibatisendpoint string endpointuri  ibatiscomponent component  string entityname
super endpointuri  component
this entityname   entityname
public ibatisendpoint string endpointuri  string entityname
super endpointuri
this entityname   entityname
@override
public ibatiscomponent getcomponent
return  ibatiscomponent  super getcomponent
public boolean issingleton
return true
public producer createproducer   throws exception
return new ibatisproducer this
@override
public pollingconsumer createpollingconsumer   throws exception
return new ibatispollingconsumer this
/**
* returns the ibatis sql client
*/
public sqlmapclient getsqlclient   throws ioexception
return getcomponent   getsqlmapclient
public string getentityname
return entityname
public void query message message  throws ioexception  sqlexception
string name   getentityname
list list   getsqlclient   queryforlist name
message setbody list
message setheader    name