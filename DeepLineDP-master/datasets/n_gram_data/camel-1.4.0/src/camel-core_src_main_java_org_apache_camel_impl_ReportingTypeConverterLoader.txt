/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel impl
import java lang reflect method
import java util arraylist
import java util collections
import java util comparator
import java util list
import org apache camel typeconverter
import org apache camel impl converter annotationtypeconverterloader
import org apache camel impl converter typeconverterregistry
import org apache camel util objecthelper
/**
* type converter loader that is capable of reporting the loaded type converters.
* <p/>
* used by the camel-maven-plugin.
*/
public class reportingtypeconverterloader extends annotationtypeconverterloader
private static final comparator<typemapping> compare_last_loaded_first   new comparator<typemapping>
public int compare typemapping t1  typemapping t2
if  objecthelper equal t1 fromtype  t2 fromtype
return objecthelper equal t1 totype  t2 totype  ? t1 index   t2 index   objecthelper
compare gettypename t1 totype   gettypename t2 totype
return objecthelper compare gettypename t1 fromtype   gettypename t2 fromtype
private list<typemapping> typemappings   new arraylist<typemapping>
public typemapping gettypeconversions
collections sort typemappings  compare_last_loaded_first
return typemappings toarray new typemapping
protected void registertypeconverter typeconverterregistry registry  method method  class totype
class fromtype  typeconverter typeconverter
typemapping mapping   new typemapping totype  fromtype  typeconverter getclass    method
typemappings add mapping
private static string gettypename class type
return type    null ? type getname     null
/**
* represents a mapping from one type (which can be null) to another
*
* used by the camel-maven-plugin.
*/
public static class typemapping
private static int counter
private class totype
private class fromtype
private class convertertype
private method method
private int index
public typemapping class totype  class fromtype  class convertertype  method method
this totype   totype
this fromtype   fromtype
this convertertype   convertertype
this method   method
this index   counter
public class getfromtype
return fromtype
public class gettotype
return totype
public class getconvertertype
return convertertype
public method getmethod
return method
public int getindex
return index
@override
public boolean equals object object
if  object instanceof typemapping
typemapping that    typemapping object
return this index    that index
return false
@override
public int hashcode
int answer   totype hashcode
if  fromtype    null
answer    37   fromtype hashcode
return answer
@override
public string tostring
return     fromtype getsimplename         totype getsimplename