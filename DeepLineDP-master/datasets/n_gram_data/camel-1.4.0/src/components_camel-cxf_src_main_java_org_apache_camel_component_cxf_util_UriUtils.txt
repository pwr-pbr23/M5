/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component cxf util
import java net malformedurlexception
import java net uri
import java net urisyntaxexception
import java net url
import org apache camel component cxf cxfconstants
import org apache cxf common classloader classloaderutils
public final class uriutils
private uriutils
// not constructred
static url getwsdlurl final uri uri  throws malformedurlexception
url wsdlurl   null
if  uri getscheme   equals cxfconstants protocol_name_res
if  uri getpath      null
string path   uri isabsolute   ? getrelativepath uri    uri getpath
wsdlurl   classloaderutils getresource path  uriutils class
else
wsdlurl   new url uri getscheme    uri gethost    uri getport    uri getpath
return wsdlurl
private static string getrelativepath uri uri
uri base   null
try
base   new uri cxfconstants protocol_name_res
catch  urisyntaxexception e
// this shouldn't fail
e printstacktrace
return base relativize uri  getpath