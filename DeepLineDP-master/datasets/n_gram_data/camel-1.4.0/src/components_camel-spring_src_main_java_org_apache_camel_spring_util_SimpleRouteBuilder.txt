/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel spring util
import java util arraylist
import java util list
import org apache camel builder routebuilder
import org apache camel model processortype
import org apache camel util objecthelper
/**
* a simple {@link routebuilder} which can be configured directly with one or more from uris, zero or more to uris
* and an optional bean processing step.
*
* @version $revision$
*/
public class simpleroutebuilder extends routebuilder
private list<string> fromuris   new arraylist<string>
private list<string> touris   new arraylist<string>
private class beantype
private string beanclass
private string beanref
private string beanmethod
public void configure   throws exception
if  fromuris isempty
throw new illegalargumentexception
for  string fromuri   fromuris
processortype route   from fromuri
addbeancall route
for  string touri   touris
route   route to touri
// properties
//-------------------------------------------------------------------------
public void setfromuri string uri
setfromuris singletonlist uri
public void settouri string uri
settouris singletonlist uri
public list<string> getfromuris
return fromuris
public void setfromuris list<string> fromuris
this fromuris   fromuris
public list<string> gettouris
return touris
public void settouris list<string> touris
this touris   touris
public string getbeanclass
return beanclass
public void setbeanclass string beanclass
this beanclass   beanclass
public string getbeanref
return beanref
public void setbeanref string beanref
this beanref   beanref
public class getbeantype
if  beantype    null
if  beanclass    null
beantype   objecthelper loadclass beanclass  getclass   getclassloader
return beantype
public void setbeantype class beantype
this beantype   beantype
public string getbeanmethod
return beanmethod
public void setbeanmethod string beanmethod
this beanmethod   beanmethod
// implementation methods
//-------------------------------------------------------------------------
protected void addbeancall processortype route
class type   getbeantype
if  type    null
if  beanmethod    null
route   route bean type  beanmethod
else
route   route bean type
else if  beanref    null
if  beanmethod    null
route   route beanref beanref  beanmethod
else
route   route beanref beanref
protected list<string> singletonlist string value
list<string> uris   new arraylist<string>
uris add value
return uris