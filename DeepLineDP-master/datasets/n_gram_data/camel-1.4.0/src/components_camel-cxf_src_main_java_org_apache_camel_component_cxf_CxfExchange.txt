/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component cxf
import org apache camel camelcontext
import org apache camel exchangepattern
import org apache camel impl defaultexchange
import org apache cxf message exchange
import org apache cxf message message
import org apache cxf transport conduit
import org apache cxf transport destination
/**
* an {@link exchange} for working with apache cxf which exposes the underlying
* cxf messages via {@link #getinmessage()} and {@link #getoutmessage()} along with the
* {@link #getexchange()}
*
* @version $revision$
*/
public class cxfexchange extends defaultexchange
public static final string data_format
private exchange exchange
public cxfexchange camelcontext context  exchangepattern pattern  exchange exchange
super context  pattern
this exchange   exchange
// to avoid the npe here
if  exchange    null
if  exchange getoutmessage      null
setout new cxfmessage exchange getoutmessage
if  exchange getinmessage      null
setin new cxfmessage exchange getinmessage
if  exchange getinfaultmessage      null
setfault new cxfmessage exchange getinfaultmessage
public cxfexchange camelcontext context  exchangepattern pattern
super context  pattern
public cxfexchange camelcontext context  exchangepattern pattern  message inmessage
this context  pattern
this exchange   inmessage getexchange
setin new cxfmessage inmessage
if  exchange    null
if  exchange getoutmessage      null
setout new cxfmessage exchange getoutmessage
if  exchange getinfaultmessage      null
setfault new cxfmessage exchange getinfaultmessage
@override
public org apache camel exchange newinstance
return new cxfexchange this getcontext    this getpattern    this getexchange
@override
public cxfmessage getin
return  cxfmessage  super getin
@override
public cxfmessage getout
return  cxfmessage  super getout
@override
public cxfmessage getout boolean lazycreate
return  cxfmessage  super getout lazycreate
@override
public cxfmessage getfault
return  cxfmessage  super getfault
@override
protected org apache camel message createfaultmessage
return new cxfmessage
public void setexchange exchange exchange
this exchange   exchange
// expose cxf apis directly on the exchange
//-------------------------------------------------------------------------
/**
* returns the underlying cxf message exchange for an inbound exchange
* or null for outbound messages
*
* @return the inbound message exchange
*/
public exchange getexchange
return exchange
public message getinmessage
return getin   getmessage
public message getoutmessage
return getout   getmessage
public message getoutfaultmessage
return getexchange   getoutfaultmessage
public message getinfaultmessage
return getexchange   getinfaultmessage
public destination getdestination
return getexchange   getdestination
public conduit getconduit message message
return getexchange   getconduit message
@override
protected cxfmessage createinmessage
return new cxfmessage
@override
protected cxfmessage createoutmessage
return new cxfmessage