/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component mock
import java util arraylist
import java util list
import org apache camel exchange
import org apache camel expression
import org apache camel predicate
import org apache camel builder expressionclause
import org apache camel builder valuebuilder
import static org apache camel builder expressionbuilder bodyexpression
import static org apache camel builder expressionbuilder headerexpression
/**
* a builder of assertions on message exchanges
*
* @version $revision$
*/
public abstract class assertionclause implements runnable
private list<predicate<exchange>> predicates   new arraylist<predicate<exchange>>
// builder methods
// -------------------------------------------------------------------------
/**
* adds the given predicate to this assertion clause
*/
public assertionclause predicate predicate<exchange> predicate
addpredicate predicate
return this
public expressionclause<assertionclause> predicate
expressionclause<assertionclause> clause   new expressionclause<assertionclause> this
addpredicate clause
return clause
/**
* returns a predicate and value builder for headers on an exchange
*/
public valuebuilder<exchange> header string name
expression<exchange> expression   headerexpression name
return new predicatevaluebuilder expression
/**
* returns a predicate and value builder for the inbound body on an exchange
*/
public predicatevaluebuilder body
expression<exchange> expression   bodyexpression
return new predicatevaluebuilder expression
/**
* returns a predicate and value builder for the inbound message body as a
* specific type
*/
public <t> predicatevaluebuilder bodyas class<t> type
expression<exchange> expression   bodyexpression type
return new predicatevaluebuilder expression
/**
* returns a predicate and value builder for the outbound body on an
* exchange
*/
public predicatevaluebuilder outbody
expression<exchange> expression   bodyexpression
return new predicatevaluebuilder expression
/**
* returns a predicate and value builder for the outbound message body as a
* specific type
*/
public <t> predicatevaluebuilder outbody class<t> type
expression<exchange> expression   bodyexpression type
return new predicatevaluebuilder expression
/**
* performs any assertions on the given exchange
*/
protected void applyassertionon mockendpoint endpoint  int index  exchange exchange
for  predicate<exchange> predicate   predicates
predicate assertmatches endpoint getendpointuri        exchange
protected void addpredicate predicate<exchange> predicate
predicates add predicate
public class predicatevaluebuilder extends valuebuilder<exchange>
public predicatevaluebuilder expression<exchange> expression
super expression
protected predicate<exchange> onnewpredicate predicate<exchange> predicate
addpredicate predicate
return predicate