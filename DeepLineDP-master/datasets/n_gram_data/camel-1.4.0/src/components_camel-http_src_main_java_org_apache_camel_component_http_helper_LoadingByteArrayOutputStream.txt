/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component http helper
import java io bytearrayinputstream
import java io bytearrayoutputstream
/**
* subclass of bytearrayoutputstream that allows creation of a
* bytearrayinputstream directly without creating a copy of the byte[].
*
* also, on "tobytearray()" it truncates it's buffer to the current size
* and returns the new buffer directly.  multiple calls to tobytearray()
* will return the exact same byte[] unless a write is called in between.
*
* note: once the inputstream is created, the output stream should
* no longer be used.  in particular, make sure not to call reset()
* and then write as that may overwrite the data that the inputstream
* is using.
*/
public class loadingbytearrayoutputstream extends bytearrayoutputstream
public loadingbytearrayoutputstream
super 1024
public loadingbytearrayoutputstream int i
super i
public bytearrayinputstream createinputstream
return new bytearrayinputstream buf  0  count
public byte tobytearray
if  count    buf length
buf   super tobytearray
return buf