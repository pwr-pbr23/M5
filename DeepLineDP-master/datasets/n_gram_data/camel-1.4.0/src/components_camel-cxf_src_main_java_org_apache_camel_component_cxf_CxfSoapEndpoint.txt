/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component cxf
import java util map
import javax wsdl definition
import javax wsdl factory wsdlfactory
import javax wsdl xml wsdlreader
import javax xml namespace qname
import org apache camel camelcontext
import org apache camel consumer
import org apache camel endpoint
import org apache camel exchange
import org apache camel exchangepattern
import org apache camel pollingconsumer
import org apache camel processor
import org apache camel producer
import org apache cxf bus
import org apache cxf busfactory
import org apache cxf helpers domutils
import org springframework core io resource
import org springframework util assert
/**
* a cxf based soap endpoint which wraps an existing
* endpoint with soap processing.
*/
public class cxfsoapendpoint implements endpoint
private final endpoint endpoint
private resource wsdl
private string serviceclass
private org w3c dom document description
private definition definition
private qname servicename
private qname endpointname
private bus bus
public cxfsoapendpoint endpoint endpoint
this endpoint   endpoint
protected endpoint getinnerendpoint
return endpoint
public boolean issingleton
return endpoint issingleton
public string getendpointuri
return endpoint getendpointuri
public exchange createexchange
return endpoint createexchange
public exchange createexchange exchangepattern pattern
return endpoint createexchange pattern
public exchange createexchange exchange exchange
return endpoint createexchange exchange
public camelcontext getcamelcontext
return endpoint getcamelcontext
public producer createproducer   throws exception
return new cxfsoapproducer this
public consumer createconsumer processor processor  throws exception
return new cxfsoapconsumer this  processor
public pollingconsumer createpollingconsumer   throws exception
throw new unsupportedoperationexception
public void configureproperties map options
public resource getwsdl
return wsdl
public void setwsdl resource wsdl
this wsdl   wsdl
public void setserviceclass string serviceclass
this serviceclass   serviceclass
public string getserviceclass
return serviceclass
public void setservicename string servicename
this servicename   qname valueof servicename
public void setendpointname string endpointname
this endpointname   qname valueof endpointname
public qname getendpointname
return endpointname
public void init   throws exception
assert notnull wsdl
if  servicename    null
description   domutils readxml wsdl getinputstream
wsdlfactory wsdlfactory   wsdlfactory newinstance
wsdlreader reader   wsdlfactory newwsdlreader
reader setfeature    false
definition   reader readwsdl wsdl geturl   tostring    description
servicename    qname  definition getservices   keyset   iterator   next
protected bus getbus
if  bus    null
bus   busfactory newinstance   createbus
return bus
public definition getdefinition
return definition
public qname getservicename
return servicename
public void setcamelcontext camelcontext context
endpoint setcamelcontext context
@deprecated
public camelcontext getcontext
return getcamelcontext
@deprecated
public void setcontext camelcontext context
setcamelcontext context