/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel processor interceptor
import java util list
import org apache camel exchange
import org apache camel processor
import org apache camel converter stream streamcache
import org apache camel model interceptorref
import org apache camel model interceptortype
import org apache camel processor interceptor
/**
* {@link interceptor} that converts a message into a re-readable format
*/
public class streamcachinginterceptor extends interceptor
public streamcachinginterceptor
super
setinterceptorlogic new processor
public void process exchange exchange  throws exception
object newbody   exchange getin   getbody streamcache class
if  newbody    null
exchange getin   setbody newbody
proceed exchange
public streamcachinginterceptor processor processor
this
setprocessor processor
@override
public string tostring
return
/**
* remove the {@link streamcachinginterceptor} type of interceptor from the given list of interceptors
*
* @param interceptors the list of interceptors
*/
public static void nostreamcaching list<interceptortype> interceptors
for  int i   0  i < interceptors size    i
interceptortype interceptor   interceptors get i
if  interceptor instanceof interceptorref
interceptorref interceptor  getinterceptor   instanceof streamcachinginterceptor
interceptors remove interceptor