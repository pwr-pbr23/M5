/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component bean
import java lang reflect invocationhandler
import java lang reflect invocationtargetexception
import java lang reflect method
import org apache camel endpoint
import org apache camel exchangepattern
import org apache camel producer
/**
* an {@link java.lang.reflect.invocationhandler} which invokes a
* message exchange on a camel {@link endpoint}
*
* @version $revision$
*/
public class camelinvocationhandler implements invocationhandler
private final endpoint endpoint
private final producer producer
public camelinvocationhandler endpoint endpoint  producer producer
this endpoint   endpoint
this producer   producer
public object invoke object proxy  method method  object args  throws throwable
beaninvocation invocation   new beaninvocation method  args
beanexchange exchange   new beanexchange endpoint getcamelcontext    exchangepattern inout
exchange setinvocation invocation
producer process exchange
throwable fault   exchange getexception
if  fault    null
throw new invocationtargetexception fault
return exchange getout true  getbody