/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component cxf transport
import java io ioexception
import java util collection
import java util hashset
import java util set
import javax annotation postconstruct
import javax annotation resource
import org apache camel camelcontext
import org apache cxf bus
import org apache cxf service model endpointinfo
import org apache cxf transport abstracttransportfactory
import org apache cxf transport conduit
import org apache cxf transport conduitinitiator
import org apache cxf transport conduitinitiatormanager
import org apache cxf transport destination
import org apache cxf transport destinationfactory
import org apache cxf transport destinationfactorymanager
import org apache cxf ws addressing endpointreferencetype
/**
* @version $revision$
*/
public class cameltransportfactory extends abstracttransportfactory implements conduitinitiator  destinationfactory
public static final string transport_id
private static final set<string> uri_prefixes   new hashset<string>
private collection<string> activationnamespaces
static
uri_prefixes add
private bus bus
private camelcontext camelcontext
@resource name
public void setbus bus b
bus   b
public bus getbus
return bus
@resource
public void setactivationnamespaces collection<string> ans
activationnamespaces   ans
public camelcontext getcamelcontext
return camelcontext
@resource name
public void setcamelcontext camelcontext camelcontext
this camelcontext   camelcontext
public conduit getconduit endpointinfo targetinfo  throws ioexception
return getconduit targetinfo  null
public conduit getconduit endpointinfo endpointinfo  endpointreferencetype target  throws ioexception
return new camelconduit camelcontext  bus  endpointinfo  target
public destination getdestination endpointinfo endpointinfo  throws ioexception
return new cameldestination camelcontext  bus  this  endpointinfo
public set<string> geturiprefixes
return uri_prefixes
@postconstruct
void registerwithbindingmanager
if  null    bus
return
conduitinitiatormanager cim   bus getextension conduitinitiatormanager class
if  null    cim    null    activationnamespaces
for  string ns   activationnamespaces
cim registerconduitinitiator ns  this
destinationfactorymanager dfm   bus getextension destinationfactorymanager class
if  null    dfm    null    activationnamespaces
for  string ns   activationnamespaces
dfm registerdestinationfactory ns  this