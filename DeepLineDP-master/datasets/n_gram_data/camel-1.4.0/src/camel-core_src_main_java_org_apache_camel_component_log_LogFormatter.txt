/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component log
import org apache camel processor interceptor exchangeformatter
import org apache camel exchange
import org apache camel message
import org apache camel util objecthelper
/**
* log formatter to format the logging output.
*/
public class logformatter implements exchangeformatter
private boolean showexchangeid
private boolean showproperties
private boolean showheaders
private boolean showbodytype   true
private boolean showbody   true
private boolean showout
private boolean showall
private boolean multiline
public object format exchange exchange
message in   exchange getin
stringbuilder sb   new stringbuilder
if  showall    showexchangeid
if  multiline  sb append
sb append    append exchange getexchangeid
if  showall    showproperties
if  multiline  sb append
sb append    append exchange getproperties
if  showall    showheaders
if  multiline  sb append
sb append    append in getheaders
if  showall    showbodytype
if  multiline  sb append
sb append    append getbodytypeasstring in
if  showall    showbody
if  multiline  sb append
sb append    append getbodyasstring in
message out   exchange getout false
if  showall    showout
if  out    null
if  showall    showheaders
if  multiline  sb append
sb append    append out getheaders
if  showall    showbodytype
if  multiline  sb append
sb append    append getbodytypeasstring out
if  showall    showbody
if  multiline  sb append
sb append    append getbodyasstring out
else
if  multiline  sb append
sb append
// get rid of the leading space comma if needed
return      multiline ? sb append    tostring     sb tostring   substring 2
public boolean isshowexchangeid
return showexchangeid
public void setshowexchangeid boolean showexchangeid
this showexchangeid   showexchangeid
public boolean isshowproperties
return showproperties
public void setshowproperties boolean showproperties
this showproperties   showproperties
public boolean isshowheaders
return showheaders
public void setshowheaders boolean showheaders
this showheaders   showheaders
public boolean isshowbodytype
return showbodytype
public void setshowbodytype boolean showbodytype
this showbodytype   showbodytype
public boolean isshowbody
return showbody
public void setshowbody boolean showbody
this showbody   showbody
public boolean isshowout
return showout
public void setshowout boolean showout
this showout   showout
public boolean isshowall
return showall
public void setshowall boolean showall
this showall   showall
public boolean ismultiline
return multiline
/**
* if enabled then each information is outputted on a newline.
*/
public void setmultiline boolean multiline
this multiline   multiline
// implementation methods
//-------------------------------------------------------------------------
protected object getbodyasstring message message
object answer   message getbody string class
if  answer    null
answer   message getbody
return answer
protected object getbodytypeasstring message message
string answer   objecthelper classname message getbody
if  answer startswith
return answer substring 10
return answer