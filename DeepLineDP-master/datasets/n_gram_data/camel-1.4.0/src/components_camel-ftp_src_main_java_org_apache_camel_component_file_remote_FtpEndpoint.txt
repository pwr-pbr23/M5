/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component file remote
import java io ioexception
import org apache camel processor
import org apache commons logging log
import org apache commons logging logfactory
import org apache commons net ftp ftpclient
public class ftpendpoint extends remotefileendpoint<remotefileexchange>
private static final transient log log   logfactory getlog ftpendpoint class
public ftpendpoint string uri  remotefilecomponent remotefilecomponent  remotefileconfiguration configuration
super uri  remotefilecomponent  configuration
public ftpendpoint string endpointuri
super endpointuri
public ftpproducer createproducer   throws exception
return new ftpproducer this  createftpclient
public ftpconsumer createconsumer processor processor  throws exception
final ftpconsumer consumer   new ftpconsumer this  processor  createftpclient
configureconsumer consumer
return consumer
protected ftpclient createftpclient
final ftpclient client   new ftpclient
return client
public void connect ftpclient client  throws ioexception
remotefileconfiguration config   getconfiguration
string host   config gethost
int port   config getport
client connect host  port
if  null    config getusername
client login config getusername    config getpassword
else
client login    null
client setfiletype config isbinary   ? ftpclient binary_file_type   ftpclient ascii_file_type
public void disconnect ftpclient client  throws ioexception
client disconnect