/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel impl converter
import java beans propertyeditor
import java beans propertyeditormanager
import org apache camel typeconverter
import org apache camel util objecthelper
/**
* uses the {@link java.beans.propertyeditor} conversion system to convert objects to
* and from string values.
*
* @version $revision$
*/
public class propertyeditortypeconverter implements typeconverter
public <t> t convertto class<t> totype  object value
// we can't convert null values since we can't figure out a property
// editor for it.
if  value    null
return null
if  value getclass      string class
// no conversion needed.
if  totype    string class
return objecthelper cast totype  value
propertyeditor editor   propertyeditormanager findeditor totype
if  editor    null
editor setastext value tostring
return objecthelper cast totype  editor getvalue
else if  totype    string class
propertyeditor editor   propertyeditormanager findeditor value getclass
if  editor    null
editor setvalue value
return objecthelper cast totype  editor getastext
return null