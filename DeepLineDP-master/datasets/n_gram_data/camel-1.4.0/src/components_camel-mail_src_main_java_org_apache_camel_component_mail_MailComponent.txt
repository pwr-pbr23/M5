/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component mail
import java net uri
import java util map
import org apache camel camelcontext
import org apache camel endpoint
import org apache camel impl defaultcomponent
/**
* component for javamail.
*
* @version $revision:520964 $
*/
public class mailcomponent extends defaultcomponent<mailexchange>
private mailconfiguration configuration
public mailcomponent
this configuration   new mailconfiguration
public mailcomponent mailconfiguration configuration
this configuration   configuration
public mailcomponent camelcontext context
super context
this configuration   new mailconfiguration
/**
* static builder method
*/
public static mailcomponent mailcomponent
return new mailcomponent
/**
* static builder method
*/
public static mailcomponent mailcomponent mailconfiguration configuration
return new mailcomponent configuration
@override
protected endpoint<mailexchange> createendpoint string uri  string remaining  map parameters  throws exception
uri url   new uri uri
if    equalsignorecase url getscheme
throw new unsupportedoperationexception
mailconfiguration config   new mailconfiguration
config configure url
// lets make sure we copy the configuration as each endpoint can customize its own version
mailendpoint endpoint   new mailendpoint uri  this  config
setproperties endpoint getconfiguration    parameters
return endpoint
public mailconfiguration getconfiguration
return configuration
/**
* sets the mail configuration
*
* @param configuration the configuration to use by default for endpoints
*/
public void setconfiguration mailconfiguration configuration
this configuration   configuration
/**
* a strategy method allowing the uri destination to be translated into the actual mail destination name
* (say by looking up in jndi or something)
*/
protected string convertpathtoactualdestination string path
return path