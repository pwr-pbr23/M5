/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component jms
import javax jms jmsexception
import javax jms session
import javax jms temporaryqueue
import javax jms temporarytopic
import org springframework jms core jmsoperations
import org springframework jms core sessioncallback
/**
* a class which represents some metadata about the underlying jms provider
* so that we can properly bridge jms providers such as for dealing with temporary destinations.
*
* @version $revision$
*/
public class jmsprovidermetadata
private class<? extends temporaryqueue> temporaryqueuetype
private class<? extends temporarytopic> temporarytopictype
/**
* lazily loads the temporary queue type if one has not been explicitly configured
* via calling the {@link #settemporaryqueuetype(class)}
*/
public class<? extends temporaryqueue> gettemporaryqueuetype jmsoperations template
class<? extends temporaryqueue> answer   gettemporaryqueuetype
if  answer    null
loadtemporarydestinationtypes template
answer   gettemporaryqueuetype
return answer
/**
* lazily loads the temporary topic type if one has not been explicitly configured
* via calling the {@link #settemporarytopictype(class)}
*/
public class<? extends temporarytopic> gettemporarytopictype jmsoperations template
class<? extends temporarytopic> answer   gettemporarytopictype
if  answer    null
loadtemporarydestinationtypes template
answer   gettemporarytopictype
return answer
// properties
//-------------------------------------------------------------------------
public class<? extends temporaryqueue> gettemporaryqueuetype
return temporaryqueuetype
public void settemporaryqueuetype class<? extends temporaryqueue> temporaryqueuetype
this temporaryqueuetype   temporaryqueuetype
public class<? extends temporarytopic> gettemporarytopictype
return temporarytopictype
public void settemporarytopictype class<? extends temporarytopic> temporarytopictype
this temporarytopictype   temporarytopictype
// implementation methods
//-------------------------------------------------------------------------
protected void loadtemporarydestinationtypes jmsoperations template
if  template    null
throw new illegalargumentexception
template execute new sessioncallback
public object doinjms session session  throws jmsexception
temporaryqueue queue   session createtemporaryqueue
settemporaryqueuetype queue getclass
temporarytopic topic   session createtemporarytopic
settemporarytopictype topic getclass
queue delete
topic delete
return null