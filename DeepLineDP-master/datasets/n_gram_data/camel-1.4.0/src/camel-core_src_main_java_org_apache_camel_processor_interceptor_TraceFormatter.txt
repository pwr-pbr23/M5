/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel processor interceptor
import org apache camel exchange
import org apache camel message
import org apache camel spi unitofwork
import org apache camel util objecthelper
/**
* @version $revision$
*/
public class traceformatter
private boolean showbreadcrumb   true
private boolean shownode   true
private boolean showexchangeid
private boolean showproperties   true
private boolean showheaders   true
private boolean showbody   true
private boolean showbodytype   true
public object format traceinterceptor interceptor  exchange exchange
message in   exchange getin
throwable exception   exchange getexception
return  showbreadcrumb ? getbreadcrumbid exchange
getnodemessage interceptor
shownode ? interceptor getnode
exchange getpattern
showexchangeid ?     exchange getexchangeid
showproperties ?     exchange getproperties
showheaders ?     in getheaders
showbodytype ?     getbodytypeasstring in
showbody ?     getbodyasstring in
exception    null ?     exception
public boolean isshowbody
return showbody
public void setshowbody boolean showbody
this showbody   showbody
public boolean isshowbodytype
return showbodytype
public void setshowbodytype boolean showbodytype
this showbodytype   showbodytype
public boolean isshowbreadcrumb
return showbreadcrumb
public void setshowbreadcrumb boolean showbreadcrumb
this showbreadcrumb   showbreadcrumb
public boolean isshowexchangeid
return showexchangeid
public void setshowexchangeid boolean showexchangeid
this showexchangeid   showexchangeid
public boolean isshowheaders
return showheaders
public void setshowheaders boolean showheaders
this showheaders   showheaders
public boolean isshowproperties
return showproperties
public void setshowproperties boolean showproperties
this showproperties   showproperties
public boolean isshownode
return shownode
public void setshownode boolean shownode
this shownode   shownode
// implementation methods
//-------------------------------------------------------------------------
protected object getbreadcrumbid exchange exchange
unitofwork unitofwork   exchange getunitofwork
return unitofwork getid
protected object getbodyasstring message in
object answer   in getbody string class
if  answer    null
answer   in getbody
return answer
protected object getbodytypeasstring message message
string answer   objecthelper classname message getbody
if  answer startswith
return answer substring 10
return answer
protected string getnodemessage traceinterceptor interceptor
return interceptor getnode   idorcreate