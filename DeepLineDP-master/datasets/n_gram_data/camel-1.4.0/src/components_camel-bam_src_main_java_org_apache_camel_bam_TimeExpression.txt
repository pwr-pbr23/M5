/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel bam
import java util date
import org apache camel bam model activitystate
import org apache camel bam model processinstance
import org apache camel bam rules activityrules
import org apache camel bam rules temporalrule
import org apache camel util objecthelper
import static org apache camel util objecthelper equal
/**
* @version $revision$
*/
public abstract class timeexpression
private activityrules activityrules
private activitybuilder builder
private activitylifecycle lifecycle
public timeexpression activitybuilder builder  activitylifecycle lifecycle
this lifecycle   lifecycle
this builder   builder
this activityrules   builder getactivityrules
public boolean isactivitylifecycle activityrules activityrules  activitylifecycle lifecycle
return equal activityrules  this activityrules     equal lifecycle  this lifecycle
/**
* creates a new temporal rule on this expression and the other expression
*/
public temporalrule after timeexpression expression
temporalrule rule   new temporalrule expression  this
rule getsecond   getactivityrules   addrule rule
return rule
public date evaluate processinstance processinstance
activitystate state   processinstance getactivitystate activityrules
if  state    null
return evaluate processinstance  state
return null
public abstract date evaluate processinstance instance  activitystate state
// properties
//-------------------------------------------------------------------------
public activitybuilder getbuilder
return builder
public activityrules getactivityrules
return activityrules
public activitylifecycle getlifecycle
return lifecycle
public activitystate getactivitystate processinstance instance
return instance getactivitystate activityrules
public activitystate getorcreateactivitystate processinstance instance
return instance getorcreateactivitystate activityrules