/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache camel component jms
import javax jms message
import org apache camel exchange
import org apache camel impl pollingconsumersupport
import org apache camel util objecthelper
import org springframework jms core jmsoperations
import org springframework jms core jmstemplate
/**
* @version
*/
public class jmspollingconsumer extends pollingconsumersupport
private jmsoperations template
private jmsendpoint jmsendpoint
public jmspollingconsumer jmsendpoint endpoint  jmsoperations template
super endpoint
this jmsendpoint   endpoint
this template   template
@override
public jmsendpoint getendpoint
return  jmsendpoint super getendpoint
public exchange receivenowait
return receive 1
public exchange receive
return receive 0l
public exchange receive long timeout
setreceivetimeout timeout
message message
// using the selector
if  objecthelper isnotempty jmsendpoint getselector
message   template receiveselected jmsendpoint getselector
else
message   template receive
if  message    null
return getendpoint   createexchange message
return null
protected void dostart   throws exception
protected void dostop   throws exception
protected void setreceivetimeout long timeout
if  template instanceof jmstemplate
jmstemplate jmstemplate    jmstemplate template
jmstemplate setreceivetimeout timeout
else
throw new illegalargumentexception     template getclass   getname