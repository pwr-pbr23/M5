/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq state
import java util collection
import java util map
import java util set
import java util concurrent concurrenthashmap
import java util concurrent atomic atomicboolean
import org apache activemq command consumerid
import org apache activemq command consumerinfo
import org apache activemq command producerid
import org apache activemq command producerinfo
import org apache activemq command sessioninfo
public class sessionstate
final sessioninfo info
private final map<producerid  producerstate> producers   new concurrenthashmap<producerid  producerstate>
private final map<consumerid  consumerstate> consumers   new concurrenthashmap<consumerid  consumerstate>
private final atomicboolean shutdown   new atomicboolean false
public sessionstate sessioninfo info
this info   info
public string tostring
return info tostring
public void addproducer producerinfo info
checkshutdown
producers put info getproducerid    new producerstate info
public producerstate removeproducer producerid id
return producers remove id
public void addconsumer consumerinfo info
checkshutdown
consumers put info getconsumerid    new consumerstate info
public consumerstate removeconsumer consumerid id
return consumers remove id
public sessioninfo getinfo
return info
public set<consumerid> getconsumerids
return consumers keyset
public set<producerid> getproducerids
return producers keyset
public collection<producerstate> getproducerstates
return producers values
public producerstate getproducerstate producerid producerid
return producers get producerid
public collection<consumerstate> getconsumerstates
return consumers values
public consumerstate getconsumerstate consumerid consumerid
return consumers get consumerid
private void checkshutdown
if  shutdown get
throw new illegalstateexception
public void shutdown
shutdown set false