/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache activemq camel component
import org apache camel camelcontext
import org apache camel component jms jmscomponent
import org apache camel component jms jmsconfiguration
/**
* the <a href="http://activemq.apache.org/camel/activemq.html">activemq component</a>
*
* @version $revision$
*/
public class activemqcomponent extends jmscomponent
private boolean exposeallqueues
private camelendpointloader endpointloader
/**
* creates an <a href="http://activemq.apache.org/camel/activemq.html">activemq component</a>
*
* @return the created component
*/
public static activemqcomponent activemqcomponent
return new activemqcomponent
/**
* creates an <a href="http://activemq.apache.org/camel/activemq.html">activemq component</a>
* connecting to the given <a href="http://activemq.apache.org/configuring-transports.html">broker url</a>
*
* @param brokerurl the url to connect to
* @return the created component
*/
public static activemqcomponent activemqcomponent string brokerurl
activemqcomponent answer   new activemqcomponent
if  answer getconfiguration   instanceof activemqconfiguration
activemqconfiguration  answer getconfiguration
setbrokerurl brokerurl
return answer
public activemqcomponent
public activemqcomponent camelcontext context
super context
public activemqcomponent activemqconfiguration configuration
super configuration
public void setbrokerurl string brokerurl
if  getconfiguration   instanceof activemqconfiguration
activemqconfiguration getconfiguration    setbrokerurl brokerurl
public void setusername string username
if  getconfiguration   instanceof activemqconfiguration
activemqconfiguration getconfiguration    setusername username
public void setpassword string password
if  getconfiguration   instanceof activemqconfiguration
activemqconfiguration getconfiguration    setpassword password
public boolean isexposeallqueues
return exposeallqueues
/**
* if enabled this will cause all queues in the activemq broker to be eagerly populated into the camelcontext
* so that they can be easily browsed by any camel tooling. this option is disabled by default.
*
* @param exposeallqueues
*/
public void setexposeallqueues boolean exposeallqueues
this exposeallqueues   exposeallqueues
public void setusepooledconnection boolean usepooledconnection
if  getconfiguration   instanceof activemqconfiguration
activemqconfiguration getconfiguration    setusepooledconnection usepooledconnection
public void setusesingleconnection boolean usesingleconnection
if  getconfiguration   instanceof activemqconfiguration
activemqconfiguration getconfiguration    setusesingleconnection usesingleconnection
@override
protected void dostart   throws exception
super dostart
if  isexposeallqueues
endpointloader   new camelendpointloader getcamelcontext
endpointloader afterpropertiesset
@override
protected void dostop   throws exception
if  endpointloader    null
endpointloader destroy
endpointloader   null
super dostop
@override
protected jmsconfiguration createconfiguration
return new activemqconfiguration