/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket request mapper parameter
import org apache wicket request request
import org apache wicket request url
import org apache wicket request url queryparameter
/**
* simple encoder with direct indexed/named parameters mapping.
*
* @author matej knopp
*/
public class pageparametersencoder implements ipageparametersencoder
/**
* construct.
*/
public pageparametersencoder
/**
* @see org.apache.wicket.request.mapper.parameter.ipageparametersencoder#decodepageparameters(org.apache.wicket.request.request)
*/
public pageparameters decodepageparameters final request request
pageparameters parameters   new pageparameters
int i   0
for  string s   request geturl   getsegments
parameters set i  s
i
for  queryparameter p   request geturl   getqueryparameters
parameters add p getname    p getvalue
return parameters isempty   ? null   parameters
/**
* @see org.apache.wicket.request.mapper.parameter.ipageparametersencoder#encodepageparameters(org.apache.wicket.request.mapper.parameter.pageparameters)
*/
public url encodepageparameters final pageparameters pageparameters
url url   new url
for  int i   0  i < pageparameters getindexedcount      i
url getsegments   add pageparameters get i  tostring
for  pageparameters namedpair pair   pageparameters getallnamed
queryparameter param   new queryparameter pair getkey    pair getvalue
url getqueryparameters   add param
return url