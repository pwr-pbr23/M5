package org apache lucene index
/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
/** this is a {@link logmergepolicy} that measures size of a
*  segment as the number of documents (not taking deletions
*  into account). */
public class logdocmergepolicy extends logmergepolicy
/** default minimum segment size.  @see setminmergedocs */
public static final int default_min_merge_docs   1000
public logdocmergepolicy
super
minmergesize   default_min_merge_docs
// maxmergesize is never used by logdocmergepolicy; set
// it to long.max_value to disable it
maxmergesize   long max_value
protected long size segmentinfo info
return info doccount
/** sets the minimum size for the lowest level segments.
* any segments below this size are considered to be on
* the same level (even if they vary drastically in size)
* and will be merged whenever there are mergefactor of
* them.  this effectively truncates the "long tail" of
* small segments that would otherwise be created into a
* single level.  if you set this too large, it could
* greatly increase the merging cost during indexing (if
* you flush many small segments). */
public void setminmergedocs int minmergedocs
minmergesize   minmergedocs
/** get the minimum size for a segment to remain
*  un-merged.
*  @see #setminmergedocs **/
public int getminmergedocs
return  int  minmergesize