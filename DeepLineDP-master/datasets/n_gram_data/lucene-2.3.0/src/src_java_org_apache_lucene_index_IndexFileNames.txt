package org apache lucene index
/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
/**
* useful constants representing filenames and extensions used by lucene
*
* @author bernhard messer
* @version $rcs = ' $id: exp $ ' ;
*/
final class indexfilenames
/** name of the index segment file */
static final string segments
/** name of the generation reference file name */
static final string segments_gen
/** name of the index deletable file (only used in
* pre-lockless indices) */
static final string deletable
/** extension of norms file */
static final string norms_extension
/** extension of freq postings file */
static final string freq_extension
/** extension of prox postings file */
static final string prox_extension
/** extension of terms file */
static final string terms_extension
/** extension of terms index file */
static final string terms_index_extension
/** extension of stored fields index file */
static final string fields_index_extension
/** extension of stored fields file */
static final string fields_extension
/** extension of vectors fields file */
static final string vectors_fields_extension
/** extension of vectors documents file */
static final string vectors_documents_extension
/** extension of vectors index file */
static final string vectors_index_extension
/** extension of compound file */
static final string compound_file_extension
/** extension of compound file for doc store files*/
static final string compound_file_store_extension
/** extension of deletes */
static final string deletes_extension
/** extension of field infos */
static final string field_infos_extension
/** extension of plain norms */
static final string plain_norms_extension
/** extension of separate norms */
static final string separate_norms_extension
/** extension of gen file */
static final string gen_extension
/**
* this array contains all filename extensions used by
* lucene's index files, with two exceptions, namely the
* extension made up from <code>.f</code> + a number and
* from <code>.s</code> + a number.  also note that
* lucene's <code>segments_n</code> files do not have any
* filename extension.
*/
static final string index_extensions   new string
compound_file_extension
field_infos_extension
fields_index_extension
fields_extension
terms_index_extension
terms_extension
freq_extension
prox_extension
deletes_extension
vectors_index_extension
vectors_documents_extension
vectors_fields_extension
gen_extension
norms_extension
compound_file_store_extension
/** file extensions that are added to a compound file
* (same as above, minus "del", "gen", "cfs"). */
static final string index_extensions_in_compound_file   new string
field_infos_extension
fields_index_extension
fields_extension
terms_index_extension
terms_extension
freq_extension
prox_extension
vectors_index_extension
vectors_documents_extension
vectors_fields_extension
norms_extension
static final string store_index_extensions   new string
vectors_index_extension
vectors_fields_extension
vectors_documents_extension
fields_index_extension
fields_extension
static final string non_store_index_extensions   new string
field_infos_extension
freq_extension
prox_extension
terms_extension
terms_index_extension
norms_extension
/** file extensions of old-style index files */
static final string compound_extensions   new string
field_infos_extension
freq_extension
prox_extension
fields_index_extension
fields_extension
terms_index_extension
terms_extension
/** file extensions for term vector support */
static final string vector_extensions   new string
vectors_index_extension
vectors_documents_extension
vectors_fields_extension
/**
* computes the full file name from base, extension and
* generation.  if the generation is -1, the file name is
* null.  if it's 0, the file name is <base><extension>.
* if it's > 0, the file name is <base>_<generation><extension>.
*
* @param base -- main part of the file name
* @param extension -- extension of the filename (including .)
* @param gen -- generation
*/
static final string filenamefromgeneration string base  string extension  long gen
if  gen    segmentinfo no
return null
else if  gen    segmentinfo without_gen
return base   extension
else
return base       long tostring gen  character max_radix    extension
/**
* returns true if the provided filename is one of the doc
* store files (ends with an extension in
* store_index_extensions).
*/
static final boolean isdocstorefile string filename
if  filename endswith compound_file_store_extension
return true
for int i 0 i<store_index_extensions length i
if  filename endswith store_index_extensions
return true
return false