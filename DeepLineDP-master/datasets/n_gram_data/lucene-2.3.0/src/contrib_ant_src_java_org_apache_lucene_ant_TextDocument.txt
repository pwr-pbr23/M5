package org apache lucene ant
/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
import org apache lucene document document
import org apache lucene document field
import java io bufferedreader
import java io file
import java io filereader
import java io ioexception
import java io stringwriter
/**
*  a utility for making lucene documents from a file.
*
*@author     erik hatcher
*@since      december 6, 2001
*@todo       fix javadoc comments here
*/
public class textdocument
private string contents
/**
*  constructor for the textdocument object
*
*@param  file             description of parameter
*@exception  ioexception  description of exception
*/
public textdocument file file  throws ioexception
bufferedreader br
new bufferedreader new filereader file
stringwriter sw   new stringwriter
string line   br readline
while  line    null
sw write line
line   br readline
br close
contents   sw tostring
sw close
/**
*  makes a document for a file. <p>
*
*  the document has a single field:
*  <ul>
*    <li> <code>contents</code>--containing the full contents
*    of the file, as a text field;
*
*@param  f                description of parameter
*@return                  description of the returned value
*@exception  ioexception  description of exception
*/
public static document document file f  throws ioexception
textdocument textdoc   new textdocument f
// make a new, empty document
document doc   new document
doc add new field    f getname    field store yes  field index tokenized
doc add new field    textdoc getcontents    field store yes  field index tokenized
doc add new field    textdoc getcontents    field store yes  field index no
// return the document
return doc
/**
*@return    the contents value
*@todo      finish this method
*/
public string getcontents
return contents