/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache lucene benchmark quality utils
import java io ioexception
import org apache lucene document fieldselector
import org apache lucene document fieldselectorresult
import org apache lucene search searcher
/**
* utility: extract doc names from an index
*/
public class docnameextractor
private fieldselector fldsel
private string docnamefield
/**
* constructor for docnameextractor.
* @param docnamefield name of the stored field containing the doc name.
*/
public docnameextractor  final string docnamefield
this docnamefield   docnamefield
fldsel   new fieldselector
public fieldselectorresult accept string fieldname
return fieldname equals docnamefield  ?
fieldselectorresult load_and_break
fieldselectorresult no_load
/**
* extract the name of the input doc from the index.
* @param searcher access to the index.
* @param docid id of doc whose name is needed.
* @return the name of the input doc as extracted from the index.
* @throws ioexception if cannot extract the doc name from the index.
*/
public string docname searcher searcher  int docid  throws ioexception
return searcher doc docid fldsel  get docnamefield