package org apache lucene analysis th
/**
* copyright 2006 the apache software foundation
*
* licensed under the apache license, version 2.0 (the "license");
* you may not use this file except in compliance with the license.
* you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
import java io ioexception
import java util locale
import java lang character unicodeblock
import org apache lucene analysis token
import org apache lucene analysis tokenfilter
import org apache lucene analysis tokenstream
import java text breakiterator
/**
* tokenfilter that use java.text.breakiterator to break each
* token that is thai into separate token(s) for each thai word.
* @author samphan raruenrom <samphan@osdev.co.th> for to-be-one technology co., ltd.
* @version 0.2
*/
public class thaiwordfilter extends tokenfilter
private breakiterator breaker   null
private token thaitoken   null
public thaiwordfilter tokenstream input
super input
breaker   breakiterator getwordinstance new locale
public token next   throws ioexception
if  thaitoken    null
string text   thaitoken termtext
int start   breaker current
int end   breaker next
if  end    breakiterator done
return new token text substring start  end
thaitoken startoffset   start  thaitoken startoffset   end  thaitoken type
thaitoken   null
token tk   input next
if  tk    null
return null
string text   tk termtext
if  unicodeblock of text charat 0      unicodeblock thai
return new token text tolowercase    tk startoffset    tk endoffset    tk type
thaitoken   tk
breaker settext text
int end   breaker next
if  end    breakiterator done
return new token text substring 0  end
thaitoken startoffset    thaitoken startoffset   end  thaitoken type
return null