package org apache lucene search regex
/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
import org apache lucene search filteredtermenum
import org apache lucene index indexreader
import org apache lucene index term
import java io ioexception
/**
* subclass of filteredtermenum for enumerating all terms that match the
* specified regular expression term using the specified regular expression
* implementation.
* <p>
* term enumerations are always ordered by term.compareto().  each term in
* the enumeration is greater than all that precede it.
*/
public class regextermenum extends filteredtermenum
private string field
private string pre
private boolean endenum   false
private regexcapabilities regeximpl
public regextermenum indexreader reader  term term  regexcapabilities regeximpl  throws ioexception
super
field   term field
string text   term text
this regeximpl   regeximpl
regeximpl compile text
pre   regeximpl prefix
if  pre    null  pre
setenum reader terms new term term field    pre
protected final boolean termcompare term term
if  field    term field
string searchtext   term text
if  searchtext startswith pre
return regeximpl match searchtext
endenum   true
return false
public final float difference
// todo: adjust difference based on distance of searchterm.text() and term().text()
return 1 0f
public final boolean endenum
return endenum
public void close   throws ioexception
super close
field   null