package org apache lucene search
/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
import java io ioexception
import java util bitset
import org apache lucene index indexreader
/**
* provides caching of {@link filter}s themselves on the remote end of an rmi connection.
* the cache is keyed on filter's hashcode(), so if it sees the same filter twice
* it will reuse the original version.
* <p/>
* note: this does not cache the filter bits, but rather the filter itself.
* thus, this works hand-in-hand with {@link cachingwrapperfilter} to keep both
* file filter cache and the filter bits on the remote end, close to the searcher.
* <p/>
* usage:
* <p/>
* to cache a result you must do something like
* remotecachingwrapperfilter f = new remotecachingwrapperfilter(new cachingwrapperfilter(myfilter));
* <p/>
* @author matt ericson
*/
public class remotecachingwrapperfilter extends filter
protected filter filter
public remotecachingwrapperfilter filter filter
this filter   filter
/**
* uses the {@link filtermanager} to keep the cache for a filter on the
* searcher side of a remote connection.
* @param reader the index reader for the filter
* @return the bitset
*/
public bitset bits indexreader reader  throws ioexception
filter cachedfilter   filtermanager getinstance   getfilter filter
return cachedfilter bits reader