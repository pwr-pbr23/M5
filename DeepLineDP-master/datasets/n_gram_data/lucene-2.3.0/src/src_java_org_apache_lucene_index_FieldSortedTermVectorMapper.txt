package org apache lucene index
import java util
/**
* copyright 2007 the apache software foundation
* <p/>
* licensed under the apache license, version 2.0 (the "license");
* you may not use this file except in compliance with the license.
* you may obtain a copy of the license at
* <p/>
* http://www.apache.org/licenses/license-2.0
* <p/>
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
/**
* for each field, store a sorted collection of {@link termvectorentry}s
* <p/>
* this is not thread-safe.
*/
public class fieldsortedtermvectormapper extends termvectormapper
private map fieldtoterms   new hashmap
private sortedset currentset
private string currentfield
private comparator comparator
/**
*
* @param comparator a comparator for sorting {@link termvectorentry}s
*/
public fieldsortedtermvectormapper comparator comparator
this false  false  comparator
public fieldsortedtermvectormapper boolean ignoringpositions  boolean ignoringoffsets  comparator comparator
super ignoringpositions  ignoringoffsets
this comparator   comparator
public void map string term  int frequency  termvectoroffsetinfo offsets  int positions
termvectorentry entry   new termvectorentry currentfield  term  frequency  offsets  positions
currentset add entry
public void setexpectations string field  int numterms  boolean storeoffsets  boolean storepositions
currentset   new treeset comparator
currentfield   field
fieldtoterms put field  currentset
/**
* get the mapping between fields and terms, sorted by the comparator
*
* @return a map between field names and {@link java.util.sortedset}s per field.  sortedset entries are {@link termvectorentry}
*/
public map getfieldtoterms
return fieldtoterms
public comparator getcomparator
return comparator