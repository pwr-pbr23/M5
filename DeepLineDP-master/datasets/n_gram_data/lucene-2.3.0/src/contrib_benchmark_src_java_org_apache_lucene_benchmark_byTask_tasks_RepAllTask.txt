package org apache lucene benchmark bytask tasks
/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
import java util iterator
import java util list
import org apache lucene benchmark bytask perfrundata
import org apache lucene benchmark bytask stats report
import org apache lucene benchmark bytask stats taskstats
/**
* report all statistics with no aggregations.
* <br>other side effects: none.
*/
public class repalltask extends reporttask
public repalltask perfrundata rundata
super rundata
public int dologic   throws exception
report rp   reportall getrundata   getpoints   taskstats
system out println
system out println   rp getsize     rp getoutof
system out println rp gettext
system out println
return 0
/**
* report detailed statistics as a string
* @return the report
*/
protected report reportall list taskstats
string longestop   longestop taskstats iterator
boolean first   true
stringbuffer sb   new stringbuffer
sb append tabletitle longestop
sb append newline
int reported   0
iterator it   taskstats iterator
while  it hasnext
taskstats stat    taskstats  it next
if  stat getelapsed  > 0       consider only tasks that ended
if   first
sb append newline
first   false
string line   taskreportline longestop  stat
reported
if  taskstats size  >2    reported%2  0
line   line replaceall
sb append line
string reptxt    reported  0 ?     sb tostring
return new report reptxt reported reported taskstats size