package org apache lucene analysis snowball
/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
import java io ioexception
import java lang reflect method
import net sf snowball snowballprogram
import net sf snowball ext
import org apache lucene analysis token
import org apache lucene analysis tokenfilter
import org apache lucene analysis tokenstream
/** a filter that stems words using a snowball-generated stemmer.
*
* available stemmers are listed in {@link net.sf.snowball.ext}.  the name of a
* stemmer is the part of the class name before "stemmer", e.g., the stemmer in
* {@link englishstemmer} is named "english".
*/
public class snowballfilter extends tokenfilter
private static final object  empty_args   new object
private snowballprogram stemmer
private method stemmethod
/** construct the named stemming filter.
*
* @param in the input tokens to stem
* @param name the name of a stemmer
*/
public snowballfilter tokenstream in  string name
super in
try
class stemclass
class forname     name
stemmer    snowballprogram  stemclass newinstance
// why doesn't the snowballprogram class have an (abstract?) stem method?
stemmethod   stemclass getmethod    new class
catch  exception e
throw new runtimeexception e tostring
/** returns the next input token, after being stemmed */
public final token next   throws ioexception
token token   input next
if  token    null
return null
stemmer setcurrent token termtext
try
stemmethod invoke stemmer  empty_args
catch  exception e
throw new runtimeexception e tostring
token newtoken   new token stemmer getcurrent
token startoffset    token endoffset    token type
newtoken setpositionincrement token getpositionincrement
return newtoken