package org apache lucene search
/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
import java util arraylist
/** expert: describes the score computation for document and query. */
public class explanation implements java io serializable
private float value                                the value of this node
private string description                         what it represents
private arraylist details                          sub explanations
public explanation
public explanation float value  string description
this value   value
this description   description
/**
* indicates whether or not this explanation models a good match.
*
* <p>
* by default, an explanation represents a "match" if the value is positive.
* </p>
* @see #getvalue
*/
public boolean ismatch
return  0 0f < getvalue
/** the value assigned to this explanation node. */
public float getvalue     return value
/** sets the value assigned to this explanation node. */
public void setvalue float value    this value   value
/** a description of this explanation node. */
public string getdescription     return description
/** sets the description of this explanation node. */
public void setdescription string description
this description   description
/**
* a short one line summary which should contain all high level
* information about this explanation, without the "details"
*/
protected string getsummary
return getvalue         getdescription
/** the sub-nodes of this explanation node. */
public explanation getdetails
if  details    null
return null
return  explanation details toarray new explanation
/** adds a sub-node to this explanation node. */
public void adddetail explanation detail
if  details    null
details   new arraylist
details add detail
/** render an explanation as text. */
public string tostring
return tostring 0
protected string tostring int depth
stringbuffer buffer   new stringbuffer
for  int i   0  i < depth  i
buffer append
buffer append getsummary
buffer append
explanation details   getdetails
if  details    null
for  int i   0   i < details length  i
buffer append details tostring depth 1
return buffer tostring
/** render an explanation as html. */
public string tohtml
stringbuffer buffer   new stringbuffer
buffer append
buffer append
buffer append getsummary
buffer append
explanation details   getdetails
if  details    null
for  int i   0   i < details length  i
buffer append details tohtml
buffer append
buffer append
return buffer tostring