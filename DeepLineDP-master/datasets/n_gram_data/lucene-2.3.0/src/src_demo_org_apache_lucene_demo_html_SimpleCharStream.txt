/* generated by:javacc: do not edit this line. simplecharstream.java version 3.0 */
package org apache lucene demo html
/**
* an implementation of interface charstream, where the stream is assumed to
* contain only ascii characters (without unicode processing).
*/
public class simplecharstream
public static final boolean staticflag   false
int bufsize
int available
int tokenbegin
public int bufpos    1
protected int bufline
protected int bufcolumn
protected int column   0
protected int line   1
protected boolean prevchariscr   false
protected boolean prevcharislf   false
protected java io reader inputstream
protected char buffer
protected int maxnextcharind   0
protected int inbuf   0
protected void expandbuff boolean wraparound
char newbuffer   new char
int newbufline   new int
int newbufcolumn   new int
try
if  wraparound
system arraycopy buffer  tokenbegin  newbuffer  0  bufsize   tokenbegin
system arraycopy buffer  0  newbuffer
bufsize   tokenbegin  bufpos
buffer   newbuffer
system arraycopy bufline  tokenbegin  newbufline  0  bufsize   tokenbegin
system arraycopy bufline  0  newbufline  bufsize   tokenbegin  bufpos
bufline   newbufline
system arraycopy bufcolumn  tokenbegin  newbufcolumn  0  bufsize   tokenbegin
system arraycopy bufcolumn  0  newbufcolumn  bufsize   tokenbegin  bufpos
bufcolumn   newbufcolumn
maxnextcharind    bufpos     bufsize   tokenbegin
else
system arraycopy buffer  tokenbegin  newbuffer  0  bufsize   tokenbegin
buffer   newbuffer
system arraycopy bufline  tokenbegin  newbufline  0  bufsize   tokenbegin
bufline   newbufline
system arraycopy bufcolumn  tokenbegin  newbufcolumn  0  bufsize   tokenbegin
bufcolumn   newbufcolumn
maxnextcharind    bufpos    tokenbegin
catch  throwable t
throw new error t getmessage
bufsize    2048
available   bufsize
tokenbegin   0
protected void fillbuff   throws java io ioexception
if  maxnextcharind    available
if  available    bufsize
if  tokenbegin > 2048
bufpos   maxnextcharind   0
available   tokenbegin
else if  tokenbegin < 0
bufpos   maxnextcharind   0
else
expandbuff false
else if  available > tokenbegin
available   bufsize
else if   tokenbegin   available  < 2048
expandbuff true
else
available   tokenbegin
int i
try
if   i   inputstream read buffer  maxnextcharind
available   maxnextcharind       1
inputstream close
throw new java io ioexception
else
maxnextcharind    i
return
catch java io ioexception e
bufpos
backup 0
if  tokenbegin     1
tokenbegin   bufpos
throw e
public char begintoken   throws java io ioexception
tokenbegin    1
char c   readchar
tokenbegin   bufpos
return c
protected void updatelinecolumn char c
column
if  prevcharislf
prevcharislf   false
line     column   1
else if  prevchariscr
prevchariscr   false
if  c
prevcharislf   true
else
line     column   1
switch  c
case
prevchariscr   true
break
case
prevcharislf   true
break
case
column
column     8    column   07
break
default
break
bufline   line
bufcolumn   column
public char readchar   throws java io ioexception
if  inbuf > 0
inbuf
if    bufpos    bufsize
bufpos   0
return buffer
if    bufpos >  maxnextcharind
fillbuff
char c   buffer
updatelinecolumn c
return  c
/**
* @deprecated
* @see #getendcolumn
*/
public int getcolumn
return bufcolumn
/**
* @deprecated
* @see #getendline
*/
public int getline
return bufline
public int getendcolumn
return bufcolumn
public int getendline
return bufline
public int getbegincolumn
return bufcolumn
public int getbeginline
return bufline
public void backup int amount
inbuf    amount
if   bufpos    amount  < 0
bufpos    bufsize
public simplecharstream java io reader dstream  int startline
int startcolumn  int buffersize
inputstream   dstream
line   startline
column   startcolumn   1
available   bufsize   buffersize
buffer   new char
bufline   new int
bufcolumn   new int
public simplecharstream java io reader dstream  int startline
int startcolumn
this dstream  startline  startcolumn  4096
public simplecharstream java io reader dstream
this dstream  1  1  4096
public void reinit java io reader dstream  int startline
int startcolumn  int buffersize
inputstream   dstream
line   startline
column   startcolumn   1
if  buffer    null    buffersize    buffer length
available   bufsize   buffersize
buffer   new char
bufline   new int
bufcolumn   new int
prevcharislf   prevchariscr   false
tokenbegin   inbuf   maxnextcharind   0
bufpos    1
public void reinit java io reader dstream  int startline
int startcolumn
reinit dstream  startline  startcolumn  4096
public void reinit java io reader dstream
reinit dstream  1  1  4096
public simplecharstream java io inputstream dstream  int startline
int startcolumn  int buffersize
this new java io inputstreamreader dstream   startline  startcolumn  4096
public simplecharstream java io inputstream dstream  int startline
int startcolumn
this dstream  startline  startcolumn  4096
public simplecharstream java io inputstream dstream
this dstream  1  1  4096
public void reinit java io inputstream dstream  int startline
int startcolumn  int buffersize
reinit new java io inputstreamreader dstream   startline  startcolumn  4096
public void reinit java io inputstream dstream
reinit dstream  1  1  4096
public void reinit java io inputstream dstream  int startline
int startcolumn
reinit dstream  startline  startcolumn  4096
public string getimage
if  bufpos >  tokenbegin
return new string buffer  tokenbegin  bufpos   tokenbegin   1
else
return new string buffer  tokenbegin  bufsize   tokenbegin
new string buffer  0  bufpos   1
public char getsuffix int len
char ret   new char
if   bufpos   1  >  len
system arraycopy buffer  bufpos   len   1  ret  0  len
else
system arraycopy buffer  bufsize    len   bufpos   1   ret  0
len   bufpos   1
system arraycopy buffer  0  ret  len   bufpos   1  bufpos   1
return ret
public void done
buffer   null
bufline   null
bufcolumn   null
/**
* method to adjust line and column numbers for the start of a token.
*/
public void adjustbeginlinecolumn int newline  int newcol
int start   tokenbegin
int len
if  bufpos >  tokenbegin
len   bufpos   tokenbegin   inbuf   1
else
len   bufsize   tokenbegin   bufpos   1   inbuf
int i   0  j   0  k   0
int nextcoldiff   0  columndiff   0
while  i < len
bufline    bufline
bufline   newline
nextcoldiff   columndiff   bufcolumn   bufcolumn
bufcolumn   newcol   columndiff
columndiff   nextcoldiff
i
if  i < len
bufline   newline
bufcolumn   newcol   columndiff
while  i   < len
if  bufline    bufline
bufline   newline
else
bufline   newline
line   bufline
column   bufcolumn