package org apache lucene demo
/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
import java io file
import java io filereader
import org apache lucene document datetools
import org apache lucene document document
import org apache lucene document field
/** a utility for making lucene documents from a file. */
public class filedocument
/** makes a document for a file.
<p>
the document has three fields:
<ul>
<li><code>path</code>--containing the pathname of the file, as a stored,
untokenized field;
<li><code>modified</code>--containing the last modified date of the file as
a field as created by <a
href="lucene.document.datetools.html">datetools</a>; and
<li><code>contents</code>--containing the full contents of the file, as a
reader field;
*/
public static document document file f
throws java io filenotfoundexception
// make a new, empty document
document doc   new document
// add the path of the file as a field named "path".  use a field that is
// indexed (i.e. searchable), but don't tokenize the field into words.
doc add new field    f getpath    field store yes  field index un_tokenized
// add the last modified date of the file a field named "modified".  use
// a field that is indexed (i.e. searchable), but don't tokenize the field
// into words.
doc add new field
datetools timetostring f lastmodified    datetools resolution minute
field store yes  field index un_tokenized
// add the contents of the file to a field named "contents".  specify a reader,
// so that the text of the file is tokenized and indexed, but not stored.
// note that filereader expects the file to be in the system's default encoding.
// if that's not the case searching for special characters will fail.
doc add new field    new filereader f
// return the document
return doc
private filedocument