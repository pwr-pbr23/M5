/*
derby - class org.apache.derby.client.am.callablestatement
licensed to the apache software foundation (asf) under one or more
contributor license agreements.  see the notice file distributed with
this work for additional information regarding copyright ownership.
the asf licenses this file to you under the apache license, version 2.0
(the "license"); you may not use this file except in compliance with
the license.  you may obtain a copy of the license at
http://www.apache.org/licenses/license-2.0
unless required by applicable law or agreed to in writing, software
distributed under the license is distributed on an "as is" basis,
without warranties or conditions of any kind, either express or implied.
see the license for the specific language governing permissions and
limitations under the license.
*/
package org apache derby client am
import org apache derby client clientpooledconnection
import org apache derby shared common reference sqlstate
import java io reader
import java sql sqlexception
public class callablestatement extends preparedstatement
implements java sql preparedstatement
java sql callablestatement
preparedstatementcallbackinterface
//---------------------navigational members-----------------------------------
//---------------------navigational cheat-links-------------------------------
// cheat-links are for convenience only, and are not part of the conceptual model.
// warning:
//   cheat-links should only be defined for invariant state data.
//   that is, the state data is set by the constructor and never changes.
public materialpreparedstatement materialcallablestatement_   null
//-----------------------------state------------------------------------------
// last retrieved result was a sql null, not_null, or unset.
private int wasnull_   was_null_unset
static final private int was_null   1
static final private int was_not_null   2
static final private int was_null_unset   0
//---------------------constructors/finalizer---------------------------------
private void initcallablestatement
materialcallablestatement_   null
wasnull_   was_null_unset
public void reset boolean fullreset  throws sqlexception
if  fullreset
connection_ resetpreparecall this
else
super reset fullreset
wasnull_   was_null_unset
/**
* common constructor for jdbc 2 callable statements with scroll attributes.
* called by material statement constructor.
*
* @param agent       the instance of netagent associated with this
*                    callablestatement object.
* @param connection  the connection object associated with this
*                    preparedstatement object.
* @param sql         a string object that is the sql statement to be sent
*                    to the database.
* @param type        one of the resultset type constants
* @param concurrency one of the resultset concurrency constants
* @param holdability one of the resultset holdability constants
* @param cpc         the pooledconnection object that will be used to
*                    notify the pooledconnection reference of the error
*                    occurred and the close events.
* @throws sqlexception
*/
public callablestatement agent agent
connection connection
string sql
int type  int concurrency  int holdability
clientpooledconnection cpc  throws sqlexception
super agent  connection  sql  type  concurrency  holdability  java sql statement no_generated_keys  null cpc
initcallablestatement
public void resetcallablestatement agent agent
connection connection
string sql
int type  int concurrency  int holdability  throws sqlexception
super resetpreparedstatement agent  connection  sql  type  concurrency  holdability  java sql statement no_generated_keys  null
initcallablestatement
public void resetcallablestatement agent agent
connection connection
string sql
section section  throws sqlexception
super resetpreparedstatement agent  connection  sql  section
initcallablestatement
public void resetcallablestatement agent agent
connection connection
string sql
section section
columnmetadata parametermetadata
columnmetadata resultsetmetadata  throws sqlexception
super resetpreparedstatement agent  connection  sql  section  parametermetadata  resultsetmetadata
initcallablestatement
protected void finalize   throws java lang throwable
if  agent_ loggingenabled
agent_ logwriter_ traceentry this
super finalize
//---------------------------entry points-------------------------------------
public void clearparameters   throws sqlexception
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this
super clearparameters
outputregistered_   false     this variable is only used by batch
public void registeroutparameter int parameterindex  int jdbctype  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex  jdbctype
registeroutparameterx parameterindex  jdbctype
catch   sqlexception se
throw se getsqlexception
// also used by sqlca
void registeroutparameterx int parameterindex  int jdbctype  throws sqlexception
super checkforclosedstatement
int scale   0     default scale to 0 for non numeric and non decimal type
registeroutparameterx parameterindex  jdbctype  scale
private int guessscalefordecimalornumeric int parameterindex  throws sqlexception
// types.decimal with no supplied scale will use the scale supplied by the setter method if input bigdecimal is not null
if  parametermetadata_ types_    types decimal
parameters_    null
return parametermetadata_ sqlscale_
return 8     default to scale of 8 if not specified
public void registeroutparameter int parameterindex  int jdbctype  int scale  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex  jdbctype  scale
super checkforclosedstatement
registeroutparameterx parameterindex  jdbctype  scale
catch   sqlexception se
throw se getsqlexception
private void registeroutparameterx int parameterindex  int jdbctype  int scale  throws sqlexception
super checkforvalidparameterindex parameterindex
checkforvalidscale scale
outputregistered_   true     this variable is only used by batch
//parametersetorregistered_[parameterindex - 1] = true;
parameterregistered_   true
public void registeroutparameter int parameterindex  int jdbctype  string typename  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex  jdbctype  typename
throw jdbcmethodnotimplemented
public boolean wasnull   throws sqlexception
try
if  agent_ loggingenabled
agent_ logwriter_ traceentry this
boolean result   wasnullx
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
private boolean wasnullx   throws sqlexception
super checkforclosedstatement
if  wasnull_    was_null_unset
throw new sqlexception agent_ logwriter_
new clientmessageid sqlstate wasnull_invalid
return wasnull_    was_null
//--------------------------------getter methods------------------------------
public boolean getboolean int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
boolean result
checkgetterpreconditions parameterindex
setwasnull parameterindex
result   wasnullx   ? false   singletonrowdata_ getboolean parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public byte getbyte int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
byte result
checkgetterpreconditions parameterindex
setwasnull parameterindex
result   wasnullx   ? 0   singletonrowdata_ getbyte parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public short getshort int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
short result
checkgetterpreconditions parameterindex
setwasnull parameterindex
result   wasnullx   ? 0   singletonrowdata_ getshort parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public int getint int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
int result   getintx parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
// also used by sqlca
int getintx int parameterindex  throws sqlexception
super checkforclosedstatement
checkgetterpreconditions parameterindex
setwasnull parameterindex
return wasnullx   ? 0   singletonrowdata_ getint parameterindex
public long getlong int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
long result   getlongx parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
long getlongx int parameterindex  throws sqlexception
super checkforclosedstatement
checkgetterpreconditions parameterindex
setwasnull parameterindex
return wasnullx   ? 0   singletonrowdata_ getlong parameterindex
public float getfloat int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
float result
checkgetterpreconditions parameterindex
setwasnull parameterindex
result   wasnullx   ? 0   singletonrowdata_ getfloat parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public double getdouble int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
double result
checkgetterpreconditions parameterindex
setwasnull parameterindex
result   wasnullx   ? 0   singletonrowdata_ getdouble parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public java math bigdecimal getbigdecimal int parameterindex  int scale  throws sqlexception  arithmeticexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ tracedeprecatedentry this     parameterindex  scale
super checkforclosedstatement
checkforvalidscale scale
java math bigdecimal result
checkgetterpreconditions parameterindex
setwasnull parameterindex
result   wasnullx   ? null   singletonrowdata_ getbigdecimal parameterindex
if  result    null
result   result setscale scale  java math bigdecimal round_down
if  agent_ loggingenabled
agent_ logwriter_ tracedeprecatedexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public java math bigdecimal getbigdecimal int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
java math bigdecimal result
checkgetterpreconditions parameterindex
setwasnull parameterindex
result   wasnullx   ? null   singletonrowdata_ getbigdecimal parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public java sql date getdate int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
checkgetterpreconditions parameterindex
setwasnull parameterindex
java sql date result   wasnullx   ? null   singletonrowdata_ getdate parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public java sql date getdate int parameterindex  java util calendar cal  throws sqlexception
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex  cal
java sql date result   getdate parameterindex
if  cal    null
throw new sqlexception agent_ logwriter_
new clientmessageid sqlstate calendar_is_null   getsqlexception
if  result    null
java util calendar targetcalendar   java util calendar getinstance cal gettimezone
targetcalendar clear
targetcalendar settime result
java util calendar defaultcalendar   java util calendar getinstance
defaultcalendar clear
defaultcalendar settime result
long timezoneoffset
targetcalendar get java util calendar zone_offset    defaultcalendar get java util calendar zone_offset
targetcalendar get java util calendar dst_offset    defaultcalendar get java util calendar dst_offset
result settime result gettime     timezoneoffset
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
public java sql time gettime int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
checkgetterpreconditions parameterindex
setwasnull parameterindex
java sql time result   wasnullx   ? null   singletonrowdata_ gettime parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public java sql time gettime int parameterindex  java util calendar cal  throws sqlexception
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex  cal
java sql time result   gettime parameterindex
if  cal    null
throw new sqlexception agent_ logwriter_
new clientmessageid sqlstate calendar_is_null   getsqlexception
if  result    null
java util calendar targetcalendar   java util calendar getinstance cal gettimezone
targetcalendar clear
targetcalendar settime result
java util calendar defaultcalendar   java util calendar getinstance
defaultcalendar clear
defaultcalendar settime result
long timezoneoffset
targetcalendar get java util calendar zone_offset    defaultcalendar get java util calendar zone_offset
targetcalendar get java util calendar dst_offset    defaultcalendar get java util calendar dst_offset
result settime result gettime     timezoneoffset
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
public java sql timestamp gettimestamp int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
checkgetterpreconditions parameterindex
setwasnull parameterindex
java sql timestamp result   wasnullx   ? null   singletonrowdata_ gettimestamp parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public java sql timestamp gettimestamp int parameterindex  java util calendar cal  throws sqlexception
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex  cal
java sql timestamp result   gettimestamp parameterindex
if  cal    null
throw new sqlexception agent_ logwriter_
new clientmessageid sqlstate calendar_is_null   getsqlexception
if  result    null
int nano   result getnanos
java util calendar targetcalendar   java util calendar getinstance cal gettimezone
targetcalendar clear
targetcalendar settime result
java util calendar defaultcalendar   java util calendar getinstance
defaultcalendar clear
defaultcalendar settime result
long timezoneoffset
targetcalendar get java util calendar zone_offset    defaultcalendar get java util calendar zone_offset
targetcalendar get java util calendar dst_offset    defaultcalendar get java util calendar dst_offset
result settime result gettime     timezoneoffset
result setnanos nano
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
public string getstring int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
string result   getstringx parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
// also used by sqlca
string getstringx int parameterindex  throws sqlexception
super checkforclosedstatement
checkgetterpreconditions parameterindex
setwasnull parameterindex
return wasnullx   ? null   singletonrowdata_ getstring parameterindex
public byte getbytes int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
byte result   getbytesx parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
byte getbytesx final int parameterindex  throws sqlexception
super checkforclosedstatement
checkgetterpreconditions parameterindex
setwasnull parameterindex
return  wasnullx   ? null   singletonrowdata_ getbytes parameterindex
public java sql blob getblob int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
checkgetterpreconditions parameterindex
setwasnull parameterindex
java sql blob result   wasnullx   ? null   singletonrowdata_ getblob parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public java sql clob getclob int parameterindex  throws sqlexception
try
synchronized  connection_
super checkforclosedstatement
checkgetterpreconditions parameterindex
setwasnull parameterindex
java sql clob result   wasnullx   ? null   singletonrowdata_ getclob parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public java sql array getarray int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
checkgetterpreconditions parameterindex
setwasnull parameterindex
java sql array result   wasnullx   ? null   singletonrowdata_ getarray parameterindex
if  true
throw new sqlexception agent_ logwriter_
new clientmessageid sqlstate jdbc_method_not_implemented
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public java sql ref getref int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
checkgetterpreconditions parameterindex
setwasnull parameterindex
java sql ref result   wasnullx   ? null   singletonrowdata_ getref parameterindex
if  true
throw new sqlexception agent_ logwriter_
new clientmessageid sqlstate jdbc_method_not_implemented
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public object getobject int parameterindex  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
object result
checkgetterpreconditions parameterindex
setwasnull parameterindex
result   wasnullx   ? null   singletonrowdata_ getobject parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
public object getobject int parameterindex  java util map map  throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex  map
super checkforclosedstatement
object result
checkgetterpreconditions parameterindex
if  true
throw new sqlexception agent_ logwriter_
new clientmessageid sqlstate jdbc_method_not_implemented
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     result
return result
catch   sqlexception se
throw se getsqlexception
//--------------------------jdbc 3.0------------------------------------------
public void registeroutparameter string parametername  int sqltype  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  sqltype
throw jdbcmethodnotimplemented
public void registeroutparameter string parametername  int sqltype  int scale  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  sqltype  scale
throw jdbcmethodnotimplemented
public void registeroutparameter string parametername  int sqltype  string typename  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  sqltype  typename
throw jdbcmethodnotimplemented
public java net url geturl int parameterindex  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
throw jdbcmethodnotimplemented
public void seturl string parametername  java net url x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setnull string parametername  int sqltype  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  sqltype
throw jdbcmethodnotimplemented
public void setboolean string parametername  boolean x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setbyte string parametername  byte x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setshort string parametername  short x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setint string parametername  int x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setlong string parametername  long x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setfloat string parametername  float x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setdouble string parametername  double x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setbigdecimal string parametername  java math bigdecimal x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setstring string parametername  string x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setbytes string parametername  byte x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setdate string parametername  java sql date x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void settime string parametername  java sql time x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void settimestamp string parametername  java sql timestamp x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setasciistream string parametername  java io inputstream x  int length  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x  length
throw jdbcmethodnotimplemented
public void setbinarystream string parametername  java io inputstream x  int length  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x  length
throw jdbcmethodnotimplemented
public void setobject string parametername  object x  int targetsqltype  int scale  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x  targetsqltype  scale
throw jdbcmethodnotimplemented
public void setobject string parametername  object x  int targetsqltype  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x  targetsqltype
throw jdbcmethodnotimplemented
public void setobject string parametername  object x  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x
throw jdbcmethodnotimplemented
public void setcharacterstream string parametername  java io reader reader  int length  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  reader  length
throw jdbcmethodnotimplemented
public void setdate string parametername  java sql date x  java util calendar calendar  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x  calendar
throw jdbcmethodnotimplemented
public void settime string parametername  java sql time x  java util calendar calendar  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x  calendar
throw jdbcmethodnotimplemented
public void settimestamp string parametername  java sql timestamp x  java util calendar calendar  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  x  calendar
throw jdbcmethodnotimplemented
public void setnull string parametername  int sqltype  string typename  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  sqltype  typename
throw jdbcmethodnotimplemented
public string getstring string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public boolean getboolean string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public byte getbyte string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public short getshort string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public int getint string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public long getlong string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public float getfloat string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public double getdouble string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public byte getbytes string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public java sql date getdate string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public java sql time gettime string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public java sql timestamp gettimestamp string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public object getobject string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public java math bigdecimal getbigdecimal string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public object getobject string parametername  java util map map  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  map
throw jdbcmethodnotimplemented
public java sql ref getref string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public java sql blob getblob string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public java sql clob getclob string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public java sql array getarray string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
public java sql date getdate string parametername  java util calendar calendar  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  calendar
throw jdbcmethodnotimplemented
public java sql time gettime string parametername  java util calendar calendar  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  calendar
throw jdbcmethodnotimplemented
public java sql timestamp gettimestamp string parametername  java util calendar calendar  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername  calendar
throw jdbcmethodnotimplemented
public java net url geturl string parametername  throws sqlexception
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parametername
throw jdbcmethodnotimplemented
//-------------------------- jdbc 4.0 methods --------------------------------
public reader getcharacterstream int parameterindex
throws sqlexception
try
synchronized  connection_
if  agent_ loggingenabled
agent_ logwriter_ traceentry this     parameterindex
super checkforclosedstatement
checkgetterpreconditions parameterindex
setwasnull parameterindex
reader reader   null
if  this wasnull_    was_not_null
reader   singletonrowdata_ getcharacterstream parameterindex
if  agent_ loggingenabled
agent_ logwriter_ traceexit this     reader
return reader
catch  sqlexception se
throw se getsqlexception
//----------------------------helper methods----------------------------------
/**
* returns the name of the java.sql interface implemented by this class.
* @return name of java.sql interface
*/
protected string getjdbcstatementinterfacename
return
private void checkgetterpreconditions int parameterindex  throws sqlexception
super checkforvalidparameterindex parameterindex
checkforvalidoutparameter parameterindex
private void checkforvalidoutparameter int parameterindex  throws sqlexception
if  parametermetadata_    null    parametermetadata_ sqlxparmmode_ < java sql parametermetadata parametermodeinout
throw new sqlexception agent_ logwriter_
new clientmessageid sqlstate param_not_out_or_inout
new integer parameterindex
private void setwasnull int parameterindex
if  singletonrowdata_    null
wasnull_   was_null_unset
else
wasnull_   singletonrowdata_ isnull_ ? was_null   was_not_null
private sqlexception jdbcmethodnotimplemented   throws sqlexception
try
super checkforclosedstatement
catch   sqlexception se
throw se getsqlexception
return new sqlexception agent_ logwriter_
new clientmessageid sqlstate jdbc_method_not_implemented   getsqlexception