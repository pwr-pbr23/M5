package org apache lucene analysis cn
/**
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*     http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
import java io ioexception
import java util arrays
import org apache lucene analysis chararrayset
import org apache lucene analysis tokenfilter
import org apache lucene analysis tokenstream
import org apache lucene analysis tokenattributes termattribute
/**
* a {@link tokenfilter} with a stop word table.
* <ul>
* <li>numeric tokens are removed.
* <li>english tokens must be larger than 1 character.
* <li>one chinese character as one chinese word.
* </ul>
* to do:
* <ol>
* <li>add chinese stop words, such as \ue400
* <li>dictionary based chinese word extraction
* <li>intelligent chinese word extraction
* </ol>
*
* @version 1.0
*
*/
public final class chinesefilter extends tokenfilter
// only english now, chinese to be added later.
public static final string stop_words
private chararrayset stoptable
private termattribute termatt
public chinesefilter tokenstream in
super in
stoptable   new chararrayset arrays aslist stop_words   false
termatt   addattribute termattribute class
@override
public boolean incrementtoken   throws ioexception
while  input incrementtoken
char text   termatt termbuffer
int termlength   termatt termlength
// why not key off token type here assuming chinesetokenizer comes first?
if   stoptable contains text  0  termlength
switch  character gettype text
case character lowercase_letter
case character uppercase_letter
// english word/token should larger than 1 character.
if  termlength>1
return true
break
case character other_letter
// one chinese character as one chinese word.
// chinese word extraction to be added later here.
return true
return false