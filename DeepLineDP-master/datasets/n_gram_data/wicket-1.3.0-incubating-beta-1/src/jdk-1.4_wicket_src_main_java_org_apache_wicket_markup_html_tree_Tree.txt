/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket markup html tree
import javax swing tree treemodel
import javax swing tree treenode
import org apache wicket component
import org apache wicket markupcontainer
import org apache wicket behavior abstractbehavior
import org apache wicket markup componenttag
import org apache wicket markup html webmarkupcontainer
import org apache wicket markup html basic label
import org apache wicket model abstractreadonlymodel
import org apache wicket model imodel
/**
* a complete tree implementation where three item consists of junction link,
* icon and label.
*
* @author matej knopp
*/
public class tree extends defaultabstracttree
private static final long serialversionuid   1l
/**
* tree constructor.
*
* @param id
*            the component id
*/
public tree string id
super id
/**
* tree constructor.
*
* @param id
*            the component id
* @param model
*            the tree model
*/
public tree string id  imodel model
super id  model
/**
* tree constructor.
*
* @param id
*            the component id
* @param model
*            the tree model
*/
public tree string id  treemodel model
super id  model
/**
* populates the tree item. it creates all necesary components for the tree
* to work properly.
*
* @param item
* @param level
*/
protected void populatetreeitem webmarkupcontainer item  int level
final treenode node    treenode item getmodelobject
item add newindentation item      treenode item getmodelobject    level
item add newjunctionlink item        node
markupcontainer nodelink   newnodelink item     node
item add nodelink
nodelink add newnodeicon nodelink     node
nodelink add new label    new abstractreadonlymodel
private static final long serialversionuid   1l
public object getobject
return rendernode node
// do distinguish between selected and unselected rows we add an
// behavior
// that modifies row css class.
item add new abstractbehavior
private static final long serialversionuid   1l
/**
* @see org.apache.wicket.behavior.abstractbehavior#oncomponenttag(org.apache.wicket.component,
*      org.apache.wicket.markup.componenttag)
*/
public void oncomponenttag component component  componenttag tag
super oncomponenttag component  tag
if  gettreestate   isnodeselected node
tag put
else
tag put
/**
* this method is called for every node to get it's string representation.
*
* @param node
*            the tree node to get the string representation of
* @return the string representation
*/
protected string rendernode treenode node
return node tostring