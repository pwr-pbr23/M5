/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket markup html tree table
import java util locale
import javax swing tree treenode
import org apache wicket session
import org apache wicket util convert iconverter
import org apache wicket util lang propertyresolver
/**
* treecolumn class that uses a property expression to get the value from the
* node.
*
* @author matej knopp
*/
public class propertytreecolumn extends abstracttreecolumn
private static final long serialversionuid   1l
private iconverter converter
private locale locale
private string propertyexpression
/**
* creates the columns.
*
* @param location
*            specifies how the column should be aligned and what his size
*            should be
*
* @param header
*            header caption
*
* @param propertyexpression
*            expression for property access
*/
public propertytreecolumn columnlocation location  string header  string propertyexpression
super location  header
this propertyexpression   propertyexpression
/**
* returns the converter or null if no converter is specified.
*
* @return any converter
*/
public iconverter getconverter
return converter
/**
* returns the locale or null if no locale is specified.
*
* @return any locale
*/
public locale getlocale
return locale
/**
* @see abstracttreecolumn#rendernode(treenode)
*/
public string rendernode treenode node
object result   propertyresolver getvalue propertyexpression  node
if  converter    null
locale locale   this locale
if  locale    null
locale   session get   getlocale
return converter converttostring result  locale
else
return result    null ? result tostring     null
/**
* by default the property is converted to string using
* <code>tostring</code> method. if you want to alter this behavior, you
* can specify a custom converter.
*
* @param converter
*            any converter
*/
public void setconverter iconverter converter
this converter   converter
/**
* sets the locale to be used as parameter for custom converter (if one is
* specified). if no locale is set, session locale is used.
*
* @param locale
*            the locale
*/
public void setlocale locale locale
this locale   locale