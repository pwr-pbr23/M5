/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket util resource
import org apache wicket util string appendingstringbuffer
import org apache wicket util time time
/**
* a string resource that can be appended to.
*
* @author jonathan locke
*/
public class stringbufferresourcestream extends abstractstringresourcestream
private static final long serialversionuid   1l
/** stylesheet information */
private appendingstringbuffer buffer   new appendingstringbuffer 128
/**
* constructor.
*/
public stringbufferresourcestream
/**
* constructor.
*
* @param contenttype
*            the mime type of this resource, such as "image/jpeg" or
*            "text/html"
*/
public stringbufferresourcestream final string contenttype
super contenttype
/**
* adds to this string buffer resource
*
* @param s
*            the string to add
* @return this for chaining
*/
public stringbufferresourcestream append final charsequence s
buffer append s
setlastmodified time now
return this
/**
* prepends to this string buffer resource
*
* @param s
*            the string to prepend
* @return this for chaining
*/
public stringbufferresourcestream prepend final charsequence s
buffer insert 0  s
setlastmodified time now
return this
/**
* clears the string buffer resource.
* @return this for chaining
*/
public stringbufferresourcestream clear
buffer delete 0  buffer length
return this
/**
* @see org.apache.wicket.util.resource.abstractstringresourcestream#getstring()
*/
protected string getstring
return buffer tostring
/**
* @see org.apache.wicket.util.resource.abstractresourcestream#asstring()
*/
public string asstring
return getstring
/**
* @see org.apache.wicket.util.resource.iresourcestream#length()
*/
public long length
return buffer length