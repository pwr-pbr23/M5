/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket response
import java io bufferedwriter
import java io filenotfoundexception
import java io fileoutputstream
import java io filewriter
import java io ioexception
import java io outputstream
import java io printwriter
import org apache wicket response
import org apache wicket wicketruntimeexception
import org apache wicket util file file
/**
* a response implementation that writes to a file.
*
* @author jonathan locke
*/
public final class fileresponse extends response
/** the file to write to */
private final file file
/** output stream to write to */
private outputstream out
/** output printwriter to write to */
private printwriter printwriter
/**
* constructor
*
* @param file
*            the file to write to
*/
public fileresponse final file file
this file   file
/**
* @see org.apache.wicket.response#close()
*/
public void close
if  printwriter    null
printwriter close
printwriter   null
if  out    null
try
out close
out   null
catch  ioexception e
throw new wicketruntimeexception     file  e
/**
* @see org.apache.wicket.response#getoutputstream()
*/
public outputstream getoutputstream
try
if  out    null
out   new fileoutputstream file
return out
catch  filenotfoundexception e
throw new wicketruntimeexception     file  e
/**
* @see org.apache.wicket.response#write(charsequence)
*/
public void write final charsequence string
try
getprintwriter   print string
catch  ioexception e
throw new wicketruntimeexception     file  e
private printwriter getprintwriter   throws ioexception
if  printwriter    null
this printwriter   new printwriter new bufferedwriter new filewriter file
return printwriter