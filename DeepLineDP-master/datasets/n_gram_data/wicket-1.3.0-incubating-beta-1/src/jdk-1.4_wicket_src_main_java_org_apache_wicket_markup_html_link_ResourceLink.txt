/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket markup html link
import org apache wicket iresourcelistener
import org apache wicket resource
import org apache wicket resourcereference
import org apache wicket util value valuemap
/**
* a link to any resourcereference.
*
* @author jonathan locke
*/
public class resourcelink extends link implements iresourcelistener
private static final long serialversionuid   1l
/** the resource reference */
private final resourcereference resourcereference
/** the resource */
private final resource resource
/** the resource parameters */
private final valuemap resourceparameters
/**
* constructs an resourcelink from an resourcereference. that resource
* reference will bind its resource to the current sharedresources.
*
* @param id
*            see component
* @param resourcereference
*            the shared resource to link to
*/
public resourcelink final string id  final resourcereference resourcereference
this id  resourcereference  null
/**
* constructs an resourcelink from an resourcereference. that resource
* reference will bind its resource to the current sharedresources.
*
* @param id
*            see component
* @param resourcereference
*            the shared resource to link to
* @param resourceparameters
*            the resource parameters
*/
public resourcelink final string id  final resourcereference resourcereference
valuemap resourceparameters
super id
this resourcereference   resourcereference
this resourceparameters   resourceparameters
this resource   null
/**
* constructs a link directly to the provided resource.
*
* @param id
*            see component
* @param resource
*            the resource
*/
public resourcelink final string id  final resource resource
super id
this resource   resource
this resourcereference   null
this resourceparameters   null
/**
* @see org.apache.wicket.markup.html.link.link#onclick()
*/
public void onclick
/**
* @see org.apache.wicket.iresourcelistener#onresourcerequested()
*/
public final void onresourcerequested
resource onresourcerequested
onclick
/**
* @see org.apache.wicket.markup.html.link.link#geturl()
*/
protected final charsequence geturl
if  resourcereference    null
// todo post 1.2: should we have support for locale changes when the
// resource reference (or resource??) is set manually..
// we should get a new resource reference for the current locale
// then
// that points to the same resource but with another locale if it
// exists.
// something like
// sharedresource.getresourcereferenceforlocale(resourcereference);
resourcereference bind getapplication
return getrequestcycle   urlfor resourcereference  resourceparameters
return urlfor iresourcelistener interface