/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket authorization strategies role example pages
import java util arrays
import java util list
import org apache wicket ajax ajaxrequesttarget
import org apache wicket ajax markup html ajaxlink
import org apache wicket authorization action
import org apache wicket authorization strategies role roles
import org apache wicket authorization strategies role annotations authorizeaction
import org apache wicket markup html webmarkupcontainer
import org apache wicket markup html webpage
import org apache wicket markup html basic label
import org apache wicket markup html list listitem
import org apache wicket markup html list listview
import org apache wicket markup html panel panel
/**
* bookmarkable page that may only be accessed by users that have role admin.
*
* @author eelco hillenius
*/
public class annotationspanelspage extends webpage
@authorizeaction action   action render  roles   roles admin
private static class adminlabel extends label
/**
* @param id
* @param nbr
*/
public adminlabel string id  string nbr
super id      nbr
/**
* a panel that is only visible for users with role admin.
*/
@authorizeaction action   action render  roles   roles admin
private static final class foradmins extends panel
/**
* construct.
*
* @param id
*/
public foradmins string id
super id
/**
* a panel that is only visible for users with role admin or user.
*/
@authorizeaction action   action render  roles     roles admin  roles user
private static final class foradminsandusers extends panel
/**
* construct.
*
* @param id
*/
public foradminsandusers string id
super id
/**
* a panel that is visible for all users.
*/
private static final class forallusers extends panel
/**
* construct.
*
* @param id
*/
public forallusers string id
super id
/**
* a panel that is only visible for users with role admin or user.
*/
@authorizeaction action   action render  roles     roles admin  roles user
private static final class test extends panel
/**
* construct.
*
* @param id
*/
public test string id
super id
list l   arrays aslist
listview listview   new listview    l
@override
protected void populateitem listitem item
string i   item getmodelobjectasstring
item add new userlabel    i
item add new adminlabel    i
add listview
listview setreuseitems true
@authorizeaction action   action render  roles   roles user
private static class userlabel extends label
/**
* @param id
* @param nbr
*/
public userlabel string id  string nbr
super id      nbr
private webmarkupcontainer outer
private boolean showdummy   true
/**
* construct.
*/
public annotationspanelspage
add new forallusers
add new foradminsandusers
add new foradmins
add outer   new webmarkupcontainer
outer setoutputmarkupid true
outer add new webmarkupcontainer    setoutputmarkupid true
add new ajaxlink
@override
public void onclick ajaxrequesttarget target
showdummy    showdummy
if  showdummy
outer replace new webmarkupcontainer
else
outer replace new test
target addcomponent outer