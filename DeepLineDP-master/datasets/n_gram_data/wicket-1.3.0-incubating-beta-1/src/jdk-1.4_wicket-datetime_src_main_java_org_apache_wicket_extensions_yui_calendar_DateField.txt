/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket extensions yui calendar
import java util date
import org apache wicket datetime markup html form datetextfield
import org apache wicket markup html form formcomponentpanel
import org apache wicket model imodel
import org apache wicket model propertymodel
import org joda time mutabledatetime
/**
* works on a {@link java.util.date} object. displays a date field and a
* {@link calendarpopup calendar popup}.
*
* @author eelcohillenius
*/
public class datefield extends formcomponentpanel
private static final long serialversionuid   1l
private mutabledatetime date
private datetextfield datefield
/**
* construct.
*
* @param id
*/
public datefield string id
super id
init
/**
* construct.
*
* @param id
* @param model
*/
public datefield string id  imodel model
super id  model
init
/**
* gets date.
*
* @return date
*/
public date getdate
return  date    null  ? date todate     null
/**
* sets date.
*
* @param date
*            date
*/
public void setdate date date
this date    date    null  ? new mutabledatetime date    null
/**
* @see org.apache.wicket.markup.html.form.formcomponent#updatemodel()
*/
public void updatemodel
datefield updatemodel
if  date    null
date d   date todate
setmodelobject d
else
setmodelobject null
/**
* initialize.
*/
private void init
settype date class
add datefield   datetextfield forshortstyle    new propertymodel
this
datefield add new datepicker
/**
* @see org.apache.wicket.component#onattach()
*/
protected void onattach
date d    date  getmodelobject
if  d    null
date   new mutabledatetime d
else
date   null
super onattach