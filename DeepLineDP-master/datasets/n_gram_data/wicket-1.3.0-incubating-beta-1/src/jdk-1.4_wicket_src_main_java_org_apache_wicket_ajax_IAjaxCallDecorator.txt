/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket ajax
import org apache wicket iclusterable
/**
* interface used to decorate a wicket generated javascript that performs an
* ajax callback
* <p>
* the returned scripts are rendered in the html as follow:
*
* <pre>
*      &lt;a href=&quot;javascript:[script]var wcall=wicketajaxget('[url]', function() {[onsuccessscript]},
*      function() {[onfailurescript});&quot; ...&gt;[text of the link]&lt;/a&gt;
* </pre>
*
* as a result, using double quotes in the script will break the link syntax and
* make it fail (or fallback in the case of an ajaxfallbacklink). so, if single
* quotes have to be inserted in strings contained in the scripts, they must be
* properly escaped to pass through java and javascript, for example:
*
* <pre>
* return &quot;alert('it\\'s ok!')&quot;;
* </pre>
*
* also note that <tt>decoratescript(charsequence script)</tt> should
* generally append to the script rather than replace it:
*
* <pre>
* return &quot;alert('before ajax call');&quot; + script;
* </pre>
*
* both following examples will break the link:
*
* <pre>
* return &quot;alert('before ajax call');&quot;; // missing to append the script
* return &quot;alert('before ajax call')&quot; + script; // missing &quot;;&quot;
* </pre>
*
* @since 1.2
*
* @author igor vaynberg (ivaynberg)
*
*/
public interface iajaxcalldecorator extends iclusterable
/**
* name of javascript variable that will be true if ajax call was made,
* false otherwise. this variable is available in the after script only.
*/
public static final string wicket_call_result_var
/**
* decorates the script that performs the ajax call
*
* @param script
* @return decorated script
*/
charsequence decoratescript charsequence script
/**
* decorates the onsuccess handler script
*
* @param script
* @return decorated onsuccess handler script
*/
charsequence decorateonsuccessscript charsequence script
/**
* decorates the onfailure handler script
*
* @param script
* @return decorated onfailure handler script
*/
charsequence decorateonfailurescript charsequence script