/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket markup html form
import org apache wicket util lang propertyresolver
/**
* default implementation of {@link org.apache.wicket.markup.html.form.ichoicerenderer}.
* usage:
* <p>
*
* <pre>
* new dropdownchoice(&quot;users&quot;, new model(selecteduser), listofusers)
* </pre>
*
* creates a dropdownchoice of users and the display value will be tostring()
* and the id the index of the object in the listofusers.
* </p>
* <p>
*
* <pre>
* new dropdownchoice(&quot;users&quot;, new model(selecteduser), listofusers, new choicerenderer(&quot;name&quot;))
* </pre>
*
* creates a dropdownchoice of users and the display value will be looked up by
* property expression ("name") and the id the index of the object in the
* listofusers
* </p>
* <p>
*
* <pre>
* new dropdownchoice(&quot;users&quot;, new model(selecteduser), listofusers, new choicerenderer(&quot;name&quot;, &quot;id&quot;))
* </pre>
*
* creates a dropdownchoice of users and the display value will be looked up by
* property expression ("name") and the id will be looked up by the property
* expression "id"
* </p>
*
* @author jcompagner
*/
public class choicerenderer implements ichoicerenderer
private static final long serialversionuid   1l
/** expression for getting the display value. */
private final string displayexpression
/** expression for getting the id. */
private final string idexpression
/**
* construct. when you use this constructor, the display value will be
* determined by calling tostring() on the list object, and the id will be
* based on the list index. the id value will be the index
*/
public choicerenderer
super
this displayexpression   null
this idexpression   null
/**
* construct. when you use this constructor, the display value will be
* determined by executing the given property expression on the list object, and
* the id will be based on the list index. the display value will be
* calculated by the given property expression
*
* @param displayexpression
*            a property expression to get the display value
*/
public choicerenderer string displayexpression
super
this displayexpression   displayexpression
this idexpression   null
/**
* construct. when you use this constructor, both the id and the display
* value will be determined by executing the given property expressions on the
* list object.
*
* @param displayexpression
*            a property expression to get the display value
* @param idexpression
*            a property expression to get the id value
*/
public choicerenderer string displayexpression  string idexpression
super
this displayexpression   displayexpression
this idexpression   idexpression
/**
* @see org.apache.wicket.markup.html.form.ichoicerenderer#getdisplayvalue(java.lang.object)
*/
public object getdisplayvalue object object
object returnvalue   object
if   displayexpression    null      object    null
returnvalue   propertyresolver getvalue displayexpression  object
if  returnvalue    null
return
return returnvalue
/**
* @see org.apache.wicket.markup.html.form.ichoicerenderer#getidvalue(java.lang.object,
*      int)
*/
public string getidvalue object object  int index
if  idexpression    null
return integer tostring index
if  object    null
return
object returnvalue   propertyresolver getvalue idexpression  object
if  returnvalue    null
return
return returnvalue tostring