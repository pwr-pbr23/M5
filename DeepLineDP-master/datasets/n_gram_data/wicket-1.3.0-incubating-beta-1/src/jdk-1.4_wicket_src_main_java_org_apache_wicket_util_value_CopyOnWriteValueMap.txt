/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket util value
import java io serializable
import java util collection
import java util map
import java util set
import org apache wicket util string stringvalue
import org apache wicket util string stringvalueconversionexception
import org apache wicket util time duration
import org apache wicket util time time
/**
* a implementation that takes a ivaluemap that could be immutable but makes a
* copy when a call is made that wanted to change the map.
*
* @author jcompagner
*/
public class copyonwritevaluemap implements ivaluemap  serializable
private static final long serialversionuid   1l
private ivaluemap wrapped
/**
* construct.
* @param wrapped
*/
public copyonwritevaluemap ivaluemap wrapped
this wrapped   wrapped
public void clear
checkandcopy
wrapped clear
private void checkandcopy
if wrapped isimmutable
wrapped   new valuemap wrapped
public boolean containskey object key
return wrapped containskey key
public boolean containsvalue object value
return wrapped containsvalue value
public set entryset
checkandcopy
return wrapped entryset
public boolean equals object o
return wrapped equals o
public object get object key
return wrapped get key
public boolean getboolean string key  throws stringvalueconversionexception
return wrapped getboolean key
public charsequence getcharsequence string key
return wrapped getcharsequence key
public double getdouble string key  throws stringvalueconversionexception
return wrapped getdouble key
public double getdouble string key  double defaultvalue  throws stringvalueconversionexception
return wrapped getdouble key  defaultvalue
public duration getduration string key  throws stringvalueconversionexception
return wrapped getduration key
public int getint string key  int defaultvalue  throws stringvalueconversionexception
return wrapped getint key  defaultvalue
public int getint string key  throws stringvalueconversionexception
return wrapped getint key
public string getkey string key
return wrapped getkey key
public long getlong string key  long defaultvalue  throws stringvalueconversionexception
return wrapped getlong key  defaultvalue
public long getlong string key  throws stringvalueconversionexception
return wrapped getlong key
public string getstring string key  string defaultvalue
return wrapped getstring key  defaultvalue
public string getstring string key
return wrapped getstring key
public string getstringarray string key
return wrapped getstringarray key
public stringvalue getstringvalue string key
return wrapped getstringvalue key
public time gettime string key  throws stringvalueconversionexception
return wrapped gettime key
public boolean isempty
return wrapped isempty
public boolean isimmutable
return false
public set keyset
checkandcopy
return wrapped keyset
public ivaluemap makeimmutable
return wrapped makeimmutable
public object put object key  object value
checkandcopy
return wrapped put key  value
public void putall map map
checkandcopy
wrapped putall map
public object remove object key
checkandcopy
return wrapped remove key
public int size
return wrapped size
public collection values
return wrapped values
public string tostring
return super tostring