/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket examples compref
import java util arrays
import java util list
import org apache wicket iclusterable
import org apache wicket examples wicketexamplepage
import org apache wicket markup html form dropdownchoice
import org apache wicket markup html form form
import org apache wicket markup html form ichoicerenderer
import org apache wicket markup html panel feedbackpanel
import org apache wicket model compoundpropertymodel
/**
* page with examples on {@link org.apache.wicket.markup.html.form.dropdownchoice}.
*
* @author eelco hillenius
*/
public class dropdownchoicepage extends wicketexamplepage
/** available sites for selection. */
private static final list sites   arrays aslist new string
/** available numbers for selection. */
private static final list integers   arrays aslist new integer   new integer 1
new integer 2   new integer 3
/**
* constructor
*/
public dropdownchoicepage
final input input   new input
setmodel new compoundpropertymodel input
// add a feedbackpanel for displaying our messages
feedbackpanel feedbackpanel   new feedbackpanel
add feedbackpanel
// add a form with an onsumbit implementation that sets a message
form form   new form
protected void onsubmit
info     input
add form
// add a dropdown choice component that uses input's 'site' property to
// designate the
// current selection, and that uses the sites list for the available
// options.
// note that when the selection is null, wicket will lookup a localized
// string to
// represent this null with key: "id + '.null'". in this case, this is
// 'site.null'
// which can be found in dropdownchoicepage.properties
form add new dropdownchoice    sites
// allthough the default behavior of displaying the string
// representations of the choices
// by calling tostring on the object might be alright in some cases, you
// usually want to have
// more control over it. you achieve this by providing an instance of
// ichoicerenderer,
// like the example below. don't forget to check out the default
// implementation of
// ichoicerenderer, choicerenderer.
form add new dropdownchoice    integers  new ichoicerenderer
/**
* gets the display value that is visible to the end user.
*
* @see org.apache.wicket.markup.html.form.ichoicerenderer#getdisplayvalue(java.lang.object)
*/
public object getdisplayvalue object object
// use an ugly switch statement. usually you would hide this in
// your business
// object or in a utility.
string stringrep
int value     integer object  intvalue
switch  value
case 1
stringrep
break
case 2
stringrep
break
case 3
stringrep
break
default
throw new illegalstateexception value
return stringrep
/**
* gets the value that is invisble to the end user, and that is used
* as the selection id.
*
* @see org.apache.wicket.markup.html.form.ichoicerenderer#getidvalue(java.lang.object,
*      int)
*/
public string getidvalue object object  int index
// though we could do kind of the reverse of what we did in
// getdisplayvalue,
// just using your index in the list of provided options is
// usually more
// convenient
return string valueof integers get index
/** simple data class that acts as a model for the input fields. */
private static class input implements iclusterable
/** the selected site. */
public string site
/** the selected integer. */
public integer integer    integer integers get 0
/**
* @see java.lang.object#tostring()
*/
public string tostring
return     site       integer
/**
* override base method to provide an explanation
*/
protected void explain
string html    site
integer
string code
the server side  java lobby  java net
id
site
integer
add new explainpanel html  code