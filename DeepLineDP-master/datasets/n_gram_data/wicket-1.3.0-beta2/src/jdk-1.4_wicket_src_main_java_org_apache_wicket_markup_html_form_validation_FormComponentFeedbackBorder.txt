/*
* licensed to the apache software foundation (asf) under one or more
* contributor license agreements.  see the notice file distributed with
* this work for additional information regarding copyright ownership.
* the asf licenses this file to you under the apache license, version 2.0
* (the "license"); you may not use this file except in compliance with
* the license.  you may obtain a copy of the license at
*
*      http://www.apache.org/licenses/license-2.0
*
* unless required by applicable law or agreed to in writing, software
* distributed under the license is distributed on an "as is" basis,
* without warranties or conditions of any kind, either express or implied.
* see the license for the specific language governing permissions and
* limitations under the license.
*/
package org apache wicket markup html form validation
import org apache wicket session
import org apache wicket feedback containerfeedbackmessagefilter
import org apache wicket feedback ifeedback
import org apache wicket feedback ifeedbackmessagefilter
import org apache wicket markup html webmarkupcontainer
import org apache wicket markup html border border
/**
* a border that can be placed around a form component to indicate when the
* bordered child/children has a validation error. a child of the border named
* "errorindicator" will be shown and hidden depending on whether the child has
* an error. a typical error indicator might be a little red asterisk.
* <p>
* <strong>note: </strong> since this border checks its children do not use
* settransparentresolver(true) and add the children directly into the border
*
* @author jonathan locke
* @author eelco hillenius
*/
public class formcomponentfeedbackborder extends border implements ifeedback
private static final long serialversionuid   1l
/** visible property cache. */
private boolean visible
/**
* error indicator that will be shown whenever there is an error-level
* message for the collecting component.
*/
private final class errorindicator extends webmarkupcontainer
private static final long serialversionuid   1l
/**
* construct.
*
* @param id
*            component id
*/
public errorindicator string id
super id
/**
* @see org.apache.wicket.component#isvisible()
*/
public boolean isvisible
return visible
/**
* constructor.
*
* @param id
*            see component
*/
public formcomponentfeedbackborder final string id
super id
add new errorindicator
/**
* @see org.apache.wicket.feedback.ifeedback#updatefeedback()
*/
public void updatefeedback
// get the messages for the current page
visible   session get   getfeedbackmessages   messages getmessagesfilter    size      0
/**
* @return let subclass specify some other filter
*/
protected ifeedbackmessagefilter getmessagesfilter
return new containerfeedbackmessagefilter this